{"version":3,"file":"index.modern.js","sources":["../node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js","../node_modules/@protobuf-ts/runtime/build/es2015/base64.js","../node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js","../node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js","../node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js","../node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js","../node_modules/@protobuf-ts/runtime/build/es2015/assert.js","../node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js","../node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js","../node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js","../node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js","../node_modules/@protobuf-ts/runtime/build/es2015/oneof.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js","../node_modules/@protobuf-ts/runtime/build/es2015/message-type.js","../node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js","../src/proto/db3_account.ts","../src/proto/db3_database.ts","../node_modules/tweetnacl/nacl-fast.js","../src/crypto/publickey.ts","../node_modules/js-sha3/src/sha3.js","../node_modules/@noble/hashes/esm/_assert.js","../node_modules/@noble/hashes/esm/utils.js","../node_modules/@noble/hashes/esm/_sha2.js","../node_modules/@noble/hashes/esm/_u64.js","../node_modules/@noble/hashes/esm/sha512.js","../node_modules/@noble/hashes/esm/hmac.js","../src/crypto/crypto_utils.ts","../src/crypto/ed25519_publickey.ts","../node_modules/@noble/hashes/_assert.js","../node_modules/@noble/hashes/cryptoBrowser.js","../node_modules/@noble/hashes/utils.js","../node_modules/@noble/hashes/hmac.js","../node_modules/@noble/hashes/pbkdf2.js","../node_modules/@noble/hashes/_sha2.js","../node_modules/@noble/hashes/sha256.js","../node_modules/@noble/hashes/_u64.js","../node_modules/@noble/hashes/sha512.js","../node_modules/@scure/base/lib/index.js","../node_modules/@scure/bip39/index.js","../src/crypto/mnemonics.ts","../src/crypto/ed25519_keypair.ts","../node_modules/@noble/secp256k1/lib/esm/index.js","../node_modules/@noble/hashes/esm/sha256.js","../src/crypto/secp256k1_publickey.ts","../node_modules/@noble/hashes/esm/ripemd160.js","../node_modules/@scure/bip32/node_modules/@noble/secp256k1/lib/esm/index.js","../node_modules/@scure/base/lib/esm/index.js","../node_modules/@scure/bip32/lib/esm/index.js","../src/crypto/secp256k1_keypair.ts","../src/wallet/db3_browser_wallet.ts","../node_modules/base64-js/index.js","../node_modules/events/events.js","../node_modules/ieee754/index.js","../node_modules/buffer/index.js","../node_modules/ethereum-cryptography/node_modules/@noble/secp256k1/lib/index.js","../node_modules/ethereum-cryptography/secp256k1.js","../node_modules/@ethereumjs/util/dist/constants.js","../node_modules/@ethereumjs/util/dist/units.js","../node_modules/@ethereumjs/rlp/dist/index.js","../node_modules/@noble/hashes/sha3.js","../node_modules/ethereum-cryptography/utils.js","../node_modules/ethereum-cryptography/keccak.js","../node_modules/@ethereumjs/util/dist/internal.js","../node_modules/@ethereumjs/util/dist/helpers.js","../node_modules/@ethereumjs/util/dist/bytes.js","../node_modules/@ethereumjs/util/dist/account.js","../node_modules/@ethereumjs/util/dist/address.js","../node_modules/@ethereumjs/util/dist/types.js","../node_modules/@ethereumjs/util/dist/withdrawal.js","../node_modules/@ethereumjs/util/dist/signature.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/gindex.js","../node_modules/@chainsafe/as-sha256/lib/wasmCode.js","../node_modules/@chainsafe/as-sha256/lib/wasm.js","../node_modules/@chainsafe/as-sha256/lib/hashObject.js","../node_modules/@chainsafe/as-sha256/lib/sha256.js","../node_modules/@chainsafe/as-sha256/lib/index.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/hash.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/node.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/zeroNode.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/subtree.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/packedNode.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/proof/single.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/tree.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/proof/util.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/proof/multi.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/proof/treeOffset.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/proof/index.js","../node_modules/@chainsafe/persistent-merkle-tree/lib/index.js","../node_modules/@chainsafe/ssz/lib/util/zeros.js","../node_modules/@chainsafe/ssz/lib/util/merkleize.js","../node_modules/@chainsafe/ssz/lib/util/named.js","../node_modules/@chainsafe/ssz/lib/type/arrayBasic.js","../node_modules/@chainsafe/ssz/lib/value/bitArray.js","../node_modules/@chainsafe/ssz/lib/util/byteArray.js","../node_modules/@chainsafe/ssz/lib/util/proof/treePostProcessFromProofNode.js","../node_modules/@chainsafe/ssz/lib/type/abstract.js","../node_modules/@chainsafe/ssz/lib/type/composite.js","../node_modules/@chainsafe/ssz/lib/view/abstract.js","../node_modules/@chainsafe/ssz/lib/view/bitArray.js","../node_modules/@chainsafe/ssz/lib/viewDU/abstract.js","../node_modules/@chainsafe/ssz/lib/viewDU/bitArray.js","../node_modules/@chainsafe/ssz/lib/type/bitArray.js","../node_modules/@chainsafe/ssz/lib/type/bitList.js","../node_modules/@chainsafe/ssz/lib/type/bitVector.js","../node_modules/@chainsafe/ssz/lib/type/basic.js","../node_modules/@chainsafe/ssz/lib/type/boolean.js","../node_modules/@chainsafe/ssz/lib/type/byteArray.js","../node_modules/@chainsafe/ssz/lib/type/byteList.js","../node_modules/@chainsafe/ssz/lib/type/byteVector.js","../node_modules/case/dist/Case.js","../node_modules/@chainsafe/ssz/lib/view/container.js","../node_modules/@chainsafe/ssz/lib/viewDU/container.js","../node_modules/@chainsafe/ssz/lib/type/container.js","../node_modules/@chainsafe/ssz/lib/branchNodeStruct.js","../node_modules/@chainsafe/ssz/lib/view/containerNodeStruct.js","../node_modules/@chainsafe/ssz/lib/viewDU/containerNodeStruct.js","../node_modules/@chainsafe/ssz/lib/type/containerNodeStruct.js","../node_modules/@chainsafe/ssz/lib/view/arrayBasic.js","../node_modules/@chainsafe/ssz/lib/view/listBasic.js","../node_modules/@chainsafe/ssz/lib/viewDU/arrayBasic.js","../node_modules/@chainsafe/ssz/lib/viewDU/listBasic.js","../node_modules/@chainsafe/ssz/lib/type/array.js","../node_modules/@chainsafe/ssz/lib/type/listBasic.js","../node_modules/@chainsafe/ssz/lib/type/arrayComposite.js","../node_modules/@chainsafe/ssz/lib/view/arrayComposite.js","../node_modules/@chainsafe/ssz/lib/view/listComposite.js","../node_modules/@chainsafe/ssz/lib/viewDU/arrayComposite.js","../node_modules/@chainsafe/ssz/lib/viewDU/listComposite.js","../node_modules/@chainsafe/ssz/lib/type/listComposite.js","../node_modules/@chainsafe/ssz/lib/type/none.js","../node_modules/@chainsafe/ssz/lib/type/uint.js","../node_modules/@chainsafe/ssz/lib/type/union.js","../node_modules/@chainsafe/ssz/lib/type/vectorBasic.js","../node_modules/@chainsafe/ssz/lib/type/vectorComposite.js","../node_modules/@chainsafe/ssz/lib/index.js","../node_modules/@ethereumjs/util/dist/ssz.js","../src/proto/db3_base.ts","../node_modules/@ethereumjs/util/dist/asyncEventEmitter.js","../node_modules/@ethereumjs/util/dist/lock.js","../node_modules/@ethereumjs/util/dist/index.js","../node_modules/ethjs-util/lib/index.js","../node_modules/strip-hex-prefix/src/index.js","../node_modules/is-hex-prefixed/src/index.js","../node_modules/@metamask/eth-sig-util/dist/utils.js","../node_modules/@metamask/eth-sig-util/dist/personal-sign.js","../node_modules/bn.js/lib/bn.js","../node_modules/@metamask/eth-sig-util/dist/ethereumjs-abi-utils.js","../node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js","../node_modules/tweetnacl-util/nacl-util.js","../node_modules/@metamask/eth-sig-util/dist/encryption.js","../node_modules/@metamask/eth-sig-util/dist/index.js","../src/wallet/metamask.ts","../src/proto/db3_mutation.ts","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-error.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-options.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/deferred.js","../node_modules/@protobuf-ts/grpcweb-transport/build/es2015/goog-grpc-status-code.js","../node_modules/@protobuf-ts/grpcweb-transport/build/es2015/grpc-web-format.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-output-stream.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/unary-call.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/server-streaming-call.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js","../node_modules/@protobuf-ts/grpcweb-transport/build/es2015/grpc-web-transport.js","../src/proto/db3_event.ts","../src/proto/db3_session.ts","../src/proto/db3_bill.ts","../src/proto/db3_node.ts","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js","../node_modules/@protobuf-ts/runtime-rpc/build/es2015/reflection-info.js","../src/proto/db3_node.client.ts","../node_modules/int64-buffer/int64-buffer.js","../src/crypto/id.ts","../src/provider/storage_provider.ts","../node_modules/loglevel/lib/loglevel.js","../node_modules/bson/lib/bson.mjs","../src/core/filter.ts","../src/client/client.ts","../src/store/database.ts","../src/store/account.ts","../src/store/network.ts","../src/store/app.ts","../src/store/query.ts","../src/core/query.ts","../src/store/collection.ts","../src/store/document.ts"],"sourcesContent":["/**\n * Get the type of a JSON value.\n * Distinguishes between array, null and object.\n */\nexport function typeofJsonValue(value) {\n    let t = typeof value;\n    if (t == \"object\") {\n        if (Array.isArray(value))\n            return \"array\";\n        if (value === null)\n            return \"null\";\n    }\n    return t;\n}\n/**\n * Is this a JSON object (instead of an array or null)?\n */\nexport function isJsonObject(value) {\n    return value !== null && typeof value == \"object\" && !Array.isArray(value);\n}\n","// lookup table from base64 character to byte\nlet encTable = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n// lookup table from base64 character *code* to byte because lookup by number is fast\nlet decTable = [];\nfor (let i = 0; i < encTable.length; i++)\n    decTable[encTable[i].charCodeAt(0)] = i;\n// support base64url variants\ndecTable[\"-\".charCodeAt(0)] = encTable.indexOf(\"+\");\ndecTable[\"_\".charCodeAt(0)] = encTable.indexOf(\"/\");\n/**\n * Decodes a base64 string to a byte array.\n *\n * - ignores white-space, including line breaks and tabs\n * - allows inner padding (can decode concatenated base64 strings)\n * - does not require padding\n * - understands base64url encoding:\n *   \"-\" instead of \"+\",\n *   \"_\" instead of \"/\",\n *   no padding\n */\nexport function base64decode(base64Str) {\n    // estimate byte size, not accounting for inner padding and whitespace\n    let es = base64Str.length * 3 / 4;\n    // if (es % 3 !== 0)\n    // throw new Error('invalid base64 string');\n    if (base64Str[base64Str.length - 2] == '=')\n        es -= 2;\n    else if (base64Str[base64Str.length - 1] == '=')\n        es -= 1;\n    let bytes = new Uint8Array(es), bytePos = 0, // position in byte array\n    groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0 // previous byte\n    ;\n    for (let i = 0; i < base64Str.length; i++) {\n        b = decTable[base64Str.charCodeAt(i)];\n        if (b === undefined) {\n            // noinspection FallThroughInSwitchStatementJS\n            switch (base64Str[i]) {\n                case '=':\n                    groupPos = 0; // reset state when padding found\n                case '\\n':\n                case '\\r':\n                case '\\t':\n                case ' ':\n                    continue; // skip white-space, and padding\n                default:\n                    throw Error(`invalid base64 string.`);\n            }\n        }\n        switch (groupPos) {\n            case 0:\n                p = b;\n                groupPos = 1;\n                break;\n            case 1:\n                bytes[bytePos++] = p << 2 | (b & 48) >> 4;\n                p = b;\n                groupPos = 2;\n                break;\n            case 2:\n                bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;\n                p = b;\n                groupPos = 3;\n                break;\n            case 3:\n                bytes[bytePos++] = (p & 3) << 6 | b;\n                groupPos = 0;\n                break;\n        }\n    }\n    if (groupPos == 1)\n        throw Error(`invalid base64 string.`);\n    return bytes.subarray(0, bytePos);\n}\n/**\n * Encodes a byte array to a base64 string.\n * Adds padding at the end.\n * Does not insert newlines.\n */\nexport function base64encode(bytes) {\n    let base64 = '', groupPos = 0, // position in base64 group\n    b, // current byte\n    p = 0; // carry over from previous byte\n    for (let i = 0; i < bytes.length; i++) {\n        b = bytes[i];\n        switch (groupPos) {\n            case 0:\n                base64 += encTable[b >> 2];\n                p = (b & 3) << 4;\n                groupPos = 1;\n                break;\n            case 1:\n                base64 += encTable[p | b >> 4];\n                p = (b & 15) << 2;\n                groupPos = 2;\n                break;\n            case 2:\n                base64 += encTable[p | b >> 6];\n                base64 += encTable[b & 63];\n                groupPos = 0;\n                break;\n        }\n    }\n    // padding required?\n    if (groupPos) {\n        base64 += encTable[p];\n        base64 += '=';\n        if (groupPos == 1)\n            base64 += '=';\n    }\n    return base64;\n}\n","/**\n * This handler implements the default behaviour for unknown fields.\n * When reading data, unknown fields are stored on the message, in a\n * symbol property.\n * When writing data, the symbol property is queried and unknown fields\n * are serialized into the output again.\n */\nexport var UnknownFieldHandler;\n(function (UnknownFieldHandler) {\n    /**\n     * The symbol used to store unknown fields for a message.\n     * The property must conform to `UnknownFieldContainer`.\n     */\n    UnknownFieldHandler.symbol = Symbol.for(\"protobuf-ts/unknown\");\n    /**\n     * Store an unknown field during binary read directly on the message.\n     * This method is compatible with `BinaryReadOptions.readUnknownField`.\n     */\n    UnknownFieldHandler.onRead = (typeName, message, fieldNo, wireType, data) => {\n        let container = is(message) ? message[UnknownFieldHandler.symbol] : message[UnknownFieldHandler.symbol] = [];\n        container.push({ no: fieldNo, wireType, data });\n    };\n    /**\n     * Write unknown fields stored for the message to the writer.\n     * This method is compatible with `BinaryWriteOptions.writeUnknownFields`.\n     */\n    UnknownFieldHandler.onWrite = (typeName, message, writer) => {\n        for (let { no, wireType, data } of UnknownFieldHandler.list(message))\n            writer.tag(no, wireType).raw(data);\n    };\n    /**\n     * List unknown fields stored for the message.\n     * Note that there may be multiples fields with the same number.\n     */\n    UnknownFieldHandler.list = (message, fieldNo) => {\n        if (is(message)) {\n            let all = message[UnknownFieldHandler.symbol];\n            return fieldNo ? all.filter(uf => uf.no == fieldNo) : all;\n        }\n        return [];\n    };\n    /**\n     * Returns the last unknown field by field number.\n     */\n    UnknownFieldHandler.last = (message, fieldNo) => UnknownFieldHandler.list(message, fieldNo).slice(-1)[0];\n    const is = (message) => message && Array.isArray(message[UnknownFieldHandler.symbol]);\n})(UnknownFieldHandler || (UnknownFieldHandler = {}));\n/**\n * Merges binary write or read options. Later values override earlier values.\n */\nexport function mergeBinaryOptions(a, b) {\n    return Object.assign(Object.assign({}, a), b);\n}\n/**\n * Protobuf binary format wire types.\n *\n * A wire type provides just enough information to find the length of the\n * following value.\n *\n * See https://developers.google.com/protocol-buffers/docs/encoding#structure\n */\nexport var WireType;\n(function (WireType) {\n    /**\n     * Used for int32, int64, uint32, uint64, sint32, sint64, bool, enum\n     */\n    WireType[WireType[\"Varint\"] = 0] = \"Varint\";\n    /**\n     * Used for fixed64, sfixed64, double.\n     * Always 8 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit64\"] = 1] = \"Bit64\";\n    /**\n     * Used for string, bytes, embedded messages, packed repeated fields\n     *\n     * Only repeated numeric types (types which use the varint, 32-bit,\n     * or 64-bit wire types) can be packed. In proto3, such fields are\n     * packed by default.\n     */\n    WireType[WireType[\"LengthDelimited\"] = 2] = \"LengthDelimited\";\n    /**\n     * Used for groups\n     * @deprecated\n     */\n    WireType[WireType[\"StartGroup\"] = 3] = \"StartGroup\";\n    /**\n     * Used for groups\n     * @deprecated\n     */\n    WireType[WireType[\"EndGroup\"] = 4] = \"EndGroup\";\n    /**\n     * Used for fixed32, sfixed32, float.\n     * Always 4 bytes with little-endian byte order.\n     */\n    WireType[WireType[\"Bit32\"] = 5] = \"Bit32\";\n})(WireType || (WireType = {}));\n","// Copyright 2008 Google Inc.  All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// Code generated by the Protocol Buffer compiler is owned by the owner\n// of the input file used when generating it.  This code is not\n// standalone and requires a support library to be linked with it.  This\n// support library is itself covered by the above license.\n/**\n * Read a 64 bit varint as two JS numbers.\n *\n * Returns tuple:\n * [0]: low bits\n * [0]: high bits\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L175\n */\nexport function varint64read() {\n    let lowBits = 0;\n    let highBits = 0;\n    for (let shift = 0; shift < 28; shift += 7) {\n        let b = this.buf[this.pos++];\n        lowBits |= (b & 0x7F) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    let middleByte = this.buf[this.pos++];\n    // last four bits of the first 32 bit number\n    lowBits |= (middleByte & 0x0F) << 28;\n    // 3 upper bits are part of the next 32 bit number\n    highBits = (middleByte & 0x70) >> 4;\n    if ((middleByte & 0x80) == 0) {\n        this.assertBounds();\n        return [lowBits, highBits];\n    }\n    for (let shift = 3; shift <= 31; shift += 7) {\n        let b = this.buf[this.pos++];\n        highBits |= (b & 0x7F) << shift;\n        if ((b & 0x80) == 0) {\n            this.assertBounds();\n            return [lowBits, highBits];\n        }\n    }\n    throw new Error('invalid varint');\n}\n/**\n * Write a 64 bit varint, given as two JS numbers, to the given bytes array.\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/writer.js#L344\n */\nexport function varint64write(lo, hi, bytes) {\n    for (let i = 0; i < 28; i = i + 7) {\n        const shift = lo >>> i;\n        const hasNext = !((shift >>> 7) == 0 && hi == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xFF;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    const splitBits = ((lo >>> 28) & 0x0F) | ((hi & 0x07) << 4);\n    const hasMoreBits = !((hi >> 3) == 0);\n    bytes.push((hasMoreBits ? splitBits | 0x80 : splitBits) & 0xFF);\n    if (!hasMoreBits) {\n        return;\n    }\n    for (let i = 3; i < 31; i = i + 7) {\n        const shift = hi >>> i;\n        const hasNext = !((shift >>> 7) == 0);\n        const byte = (hasNext ? shift | 0x80 : shift) & 0xFF;\n        bytes.push(byte);\n        if (!hasNext) {\n            return;\n        }\n    }\n    bytes.push((hi >>> 31) & 0x01);\n}\n// constants for binary math\nconst TWO_PWR_32_DBL = (1 << 16) * (1 << 16);\n/**\n * Parse decimal string of 64 bit integer value as two JS numbers.\n *\n * Returns tuple:\n * [0]: minus sign?\n * [1]: low bits\n * [2]: high bits\n *\n * Copyright 2008 Google Inc.\n */\nexport function int64fromString(dec) {\n    // Check for minus sign.\n    let minus = dec[0] == '-';\n    if (minus)\n        dec = dec.slice(1);\n    // Work 6 decimal digits at a time, acting like we're converting base 1e6\n    // digits to binary. This is safe to do with floating point math because\n    // Number.isSafeInteger(ALL_32_BITS * 1e6) == true.\n    const base = 1e6;\n    let lowBits = 0;\n    let highBits = 0;\n    function add1e6digit(begin, end) {\n        // Note: Number('') is 0.\n        const digit1e6 = Number(dec.slice(begin, end));\n        highBits *= base;\n        lowBits = lowBits * base + digit1e6;\n        // Carry bits from lowBits to\n        if (lowBits >= TWO_PWR_32_DBL) {\n            highBits = highBits + ((lowBits / TWO_PWR_32_DBL) | 0);\n            lowBits = lowBits % TWO_PWR_32_DBL;\n        }\n    }\n    add1e6digit(-24, -18);\n    add1e6digit(-18, -12);\n    add1e6digit(-12, -6);\n    add1e6digit(-6);\n    return [minus, lowBits, highBits];\n}\n/**\n * Format 64 bit integer value (as two JS numbers) to decimal string.\n *\n * Copyright 2008 Google Inc.\n */\nexport function int64toString(bitsLow, bitsHigh) {\n    // Skip the expensive conversion if the number is small enough to use the\n    // built-in conversions.\n    if (bitsHigh <= 0x1FFFFF) {\n        return '' + (TWO_PWR_32_DBL * bitsHigh + (bitsLow >>> 0));\n    }\n    // What this code is doing is essentially converting the input number from\n    // base-2 to base-1e7, which allows us to represent the 64-bit range with\n    // only 3 (very large) digits. Those digits are then trivial to convert to\n    // a base-10 string.\n    // The magic numbers used here are -\n    // 2^24 = 16777216 = (1,6777216) in base-1e7.\n    // 2^48 = 281474976710656 = (2,8147497,6710656) in base-1e7.\n    // Split 32:32 representation into 16:24:24 representation so our\n    // intermediate digits don't overflow.\n    let low = bitsLow & 0xFFFFFF;\n    let mid = (((bitsLow >>> 24) | (bitsHigh << 8)) >>> 0) & 0xFFFFFF;\n    let high = (bitsHigh >> 16) & 0xFFFF;\n    // Assemble our three base-1e7 digits, ignoring carries. The maximum\n    // value in a digit at this step is representable as a 48-bit integer, which\n    // can be stored in a 64-bit floating point number.\n    let digitA = low + (mid * 6777216) + (high * 6710656);\n    let digitB = mid + (high * 8147497);\n    let digitC = (high * 2);\n    // Apply carries from A to B and from B to C.\n    let base = 10000000;\n    if (digitA >= base) {\n        digitB += Math.floor(digitA / base);\n        digitA %= base;\n    }\n    if (digitB >= base) {\n        digitC += Math.floor(digitB / base);\n        digitB %= base;\n    }\n    // Convert base-1e7 digits to base-10, with optional leading zeroes.\n    function decimalFrom1e7(digit1e7, needLeadingZeros) {\n        let partial = digit1e7 ? String(digit1e7) : '';\n        if (needLeadingZeros) {\n            return '0000000'.slice(partial.length) + partial;\n        }\n        return partial;\n    }\n    return decimalFrom1e7(digitC, /*needLeadingZeros=*/ 0) +\n        decimalFrom1e7(digitB, /*needLeadingZeros=*/ digitC) +\n        // If the final 1e7 digit didn't need leading zeros, we would have\n        // returned via the trivial code path at the top.\n        decimalFrom1e7(digitA, /*needLeadingZeros=*/ 1);\n}\n/**\n * Write a 32 bit varint, signed or unsigned. Same as `varint64write(0, value, bytes)`\n *\n * Copyright 2008 Google Inc.  All rights reserved.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/1b18833f4f2a2f681f4e4a25cdf3b0a43115ec26/js/binary/encoder.js#L144\n */\nexport function varint32write(value, bytes) {\n    if (value >= 0) {\n        // write value as varint 32\n        while (value > 0x7f) {\n            bytes.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        bytes.push(value);\n    }\n    else {\n        for (let i = 0; i < 9; i++) {\n            bytes.push(value & 127 | 128);\n            value = value >> 7;\n        }\n        bytes.push(1);\n    }\n}\n/**\n * Read an unsigned 32 bit varint.\n *\n * See https://github.com/protocolbuffers/protobuf/blob/8a71927d74a4ce34efe2d8769fda198f52d20d12/js/experimental/runtime/kernel/buffer_decoder.js#L220\n */\nexport function varint32read() {\n    let b = this.buf[this.pos++];\n    let result = b & 0x7F;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 7;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 14;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    b = this.buf[this.pos++];\n    result |= (b & 0x7F) << 21;\n    if ((b & 0x80) == 0) {\n        this.assertBounds();\n        return result;\n    }\n    // Extract only last 4 bits\n    b = this.buf[this.pos++];\n    result |= (b & 0x0F) << 28;\n    for (let readBytes = 5; ((b & 0x80) !== 0) && readBytes < 10; readBytes++)\n        b = this.buf[this.pos++];\n    if ((b & 0x80) != 0)\n        throw new Error('invalid varint');\n    this.assertBounds();\n    // Result can have 32 bits, convert it to unsigned\n    return result >>> 0;\n}\n","import { int64fromString, int64toString } from \"./goog-varint\";\nfunction detectBi() {\n    const dv = new DataView(new ArrayBuffer(8));\n    const ok = globalThis.BigInt !== undefined\n        && typeof dv.getBigInt64 === \"function\"\n        && typeof dv.getBigUint64 === \"function\"\n        && typeof dv.setBigInt64 === \"function\"\n        && typeof dv.setBigUint64 === \"function\";\n    return ok ? {\n        MIN: BigInt(\"-9223372036854775808\"),\n        MAX: BigInt(\"9223372036854775807\"),\n        UMIN: BigInt(\"0\"),\n        UMAX: BigInt(\"18446744073709551615\"),\n        C: BigInt,\n        V: dv,\n    } : undefined;\n}\nconst BI = detectBi();\nfunction assertBi(bi) {\n    if (!bi)\n        throw new Error(\"BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support\");\n}\n// used to validate from(string) input (when bigint is unavailable)\nconst RE_DECIMAL_STR = /^-?[0-9]+$/;\n// constants for binary math\nconst TWO_PWR_32_DBL = (1 << 16) * (1 << 16);\n// base class for PbLong and PbULong provides shared code\nclass SharedPbLong {\n    /**\n     * Create a new instance with the given bits.\n     */\n    constructor(lo, hi) {\n        this.lo = lo | 0;\n        this.hi = hi | 0;\n    }\n    /**\n     * Is this instance equal to 0?\n     */\n    isZero() {\n        return this.lo == 0 && this.hi == 0;\n    }\n    /**\n     * Convert to a native number.\n     */\n    toNumber() {\n        let result = this.hi * TWO_PWR_32_DBL + (this.lo >>> 0);\n        if (!Number.isSafeInteger(result))\n            throw new Error(\"cannot convert to safe number\");\n        return result;\n    }\n}\n/**\n * 64-bit unsigned integer as two 32-bit values.\n * Converts between `string`, `number` and `bigint` representations.\n */\nexport class PbULong extends SharedPbLong {\n    /**\n     * Create instance from a `string`, `number` or `bigint`.\n     */\n    static from(value) {\n        if (BI)\n            // noinspection FallThroughInSwitchStatementJS\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    if (value == \"\")\n                        throw new Error('string is no integer');\n                    value = BI.C(value);\n                case \"number\":\n                    if (value === 0)\n                        return this.ZERO;\n                    value = BI.C(value);\n                case \"bigint\":\n                    if (!value)\n                        return this.ZERO;\n                    if (value < BI.UMIN)\n                        throw new Error('signed value for ulong');\n                    if (value > BI.UMAX)\n                        throw new Error('ulong too large');\n                    BI.V.setBigUint64(0, value, true);\n                    return new PbULong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));\n            }\n        else\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    value = value.trim();\n                    if (!RE_DECIMAL_STR.test(value))\n                        throw new Error('string is no integer');\n                    let [minus, lo, hi] = int64fromString(value);\n                    if (minus)\n                        throw new Error('signed value');\n                    return new PbULong(lo, hi);\n                case \"number\":\n                    if (value == 0)\n                        return this.ZERO;\n                    if (!Number.isSafeInteger(value))\n                        throw new Error('number is no integer');\n                    if (value < 0)\n                        throw new Error('signed value for ulong');\n                    return new PbULong(value, value / TWO_PWR_32_DBL);\n            }\n        throw new Error('unknown value ' + typeof value);\n    }\n    /**\n     * Convert to decimal string.\n     */\n    toString() {\n        return BI ? this.toBigInt().toString() : int64toString(this.lo, this.hi);\n    }\n    /**\n     * Convert to native bigint.\n     */\n    toBigInt() {\n        assertBi(BI);\n        BI.V.setInt32(0, this.lo, true);\n        BI.V.setInt32(4, this.hi, true);\n        return BI.V.getBigUint64(0, true);\n    }\n}\n/**\n * ulong 0 singleton.\n */\nPbULong.ZERO = new PbULong(0, 0);\n/**\n * 64-bit signed integer as two 32-bit values.\n * Converts between `string`, `number` and `bigint` representations.\n */\nexport class PbLong extends SharedPbLong {\n    /**\n     * Create instance from a `string`, `number` or `bigint`.\n     */\n    static from(value) {\n        if (BI)\n            // noinspection FallThroughInSwitchStatementJS\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    if (value == \"\")\n                        throw new Error('string is no integer');\n                    value = BI.C(value);\n                case \"number\":\n                    if (value === 0)\n                        return this.ZERO;\n                    value = BI.C(value);\n                case \"bigint\":\n                    if (!value)\n                        return this.ZERO;\n                    if (value < BI.MIN)\n                        throw new Error('ulong too small');\n                    if (value > BI.MAX)\n                        throw new Error('ulong too large');\n                    BI.V.setBigInt64(0, value, true);\n                    return new PbLong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));\n            }\n        else\n            switch (typeof value) {\n                case \"string\":\n                    if (value == \"0\")\n                        return this.ZERO;\n                    value = value.trim();\n                    if (!RE_DECIMAL_STR.test(value))\n                        throw new Error('string is no integer');\n                    let [minus, lo, hi] = int64fromString(value);\n                    let pbl = new PbLong(lo, hi);\n                    return minus ? pbl.negate() : pbl;\n                case \"number\":\n                    if (value == 0)\n                        return this.ZERO;\n                    if (!Number.isSafeInteger(value))\n                        throw new Error('number is no integer');\n                    return value > 0\n                        ? new PbLong(value, value / TWO_PWR_32_DBL)\n                        : new PbLong(-value, -value / TWO_PWR_32_DBL).negate();\n            }\n        throw new Error('unknown value ' + typeof value);\n    }\n    /**\n     * Do we have a minus sign?\n     */\n    isNegative() {\n        return (this.hi & 0x80000000) !== 0;\n    }\n    /**\n     * Negate two's complement.\n     * Invert all the bits and add one to the result.\n     */\n    negate() {\n        let hi = ~this.hi, lo = this.lo;\n        if (lo)\n            lo = ~lo + 1;\n        else\n            hi += 1;\n        return new PbLong(lo, hi);\n    }\n    /**\n     * Convert to decimal string.\n     */\n    toString() {\n        if (BI)\n            return this.toBigInt().toString();\n        if (this.isNegative()) {\n            let n = this.negate();\n            return '-' + int64toString(n.lo, n.hi);\n        }\n        return int64toString(this.lo, this.hi);\n    }\n    /**\n     * Convert to native bigint.\n     */\n    toBigInt() {\n        assertBi(BI);\n        BI.V.setInt32(0, this.lo, true);\n        BI.V.setInt32(4, this.hi, true);\n        return BI.V.getBigInt64(0, true);\n    }\n}\n/**\n * long 0 singleton.\n */\nPbLong.ZERO = new PbLong(0, 0);\n","import { WireType } from \"./binary-format-contract\";\nimport { PbLong, PbULong } from \"./pb-long\";\nimport { varint32read, varint64read } from \"./goog-varint\";\nconst defaultsRead = {\n    readUnknownField: true,\n    readerFactory: bytes => new BinaryReader(bytes),\n};\n/**\n * Make options for reading binary data form partial options.\n */\nexport function binaryReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsRead), options) : defaultsRead;\n}\nexport class BinaryReader {\n    constructor(buf, textDecoder) {\n        this.varint64 = varint64read; // dirty cast for `this`\n        /**\n         * Read a `uint32` field, an unsigned 32 bit varint.\n         */\n        this.uint32 = varint32read; // dirty cast for `this` and access to protected `buf`\n        this.buf = buf;\n        this.len = buf.length;\n        this.pos = 0;\n        this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);\n        this.textDecoder = textDecoder !== null && textDecoder !== void 0 ? textDecoder : new TextDecoder(\"utf-8\", {\n            fatal: true,\n            ignoreBOM: true,\n        });\n    }\n    /**\n     * Reads a tag - field number and wire type.\n     */\n    tag() {\n        let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;\n        if (fieldNo <= 0 || wireType < 0 || wireType > 5)\n            throw new Error(\"illegal tag: field no \" + fieldNo + \" wire type \" + wireType);\n        return [fieldNo, wireType];\n    }\n    /**\n     * Skip one element on the wire and return the skipped data.\n     * Supports WireType.StartGroup since v2.0.0-alpha.23.\n     */\n    skip(wireType) {\n        let start = this.pos;\n        // noinspection FallThroughInSwitchStatementJS\n        switch (wireType) {\n            case WireType.Varint:\n                while (this.buf[this.pos++] & 0x80) {\n                    // ignore\n                }\n                break;\n            case WireType.Bit64:\n                this.pos += 4;\n            case WireType.Bit32:\n                this.pos += 4;\n                break;\n            case WireType.LengthDelimited:\n                let len = this.uint32();\n                this.pos += len;\n                break;\n            case WireType.StartGroup:\n                // From descriptor.proto: Group type is deprecated, not supported in proto3.\n                // But we must still be able to parse and treat as unknown.\n                let t;\n                while ((t = this.tag()[1]) !== WireType.EndGroup) {\n                    this.skip(t);\n                }\n                break;\n            default:\n                throw new Error(\"cant skip wire type \" + wireType);\n        }\n        this.assertBounds();\n        return this.buf.subarray(start, this.pos);\n    }\n    /**\n     * Throws error if position in byte array is out of range.\n     */\n    assertBounds() {\n        if (this.pos > this.len)\n            throw new RangeError(\"premature EOF\");\n    }\n    /**\n     * Read a `int32` field, a signed 32 bit varint.\n     */\n    int32() {\n        return this.uint32() | 0;\n    }\n    /**\n     * Read a `sint32` field, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32() {\n        let zze = this.uint32();\n        // decode zigzag\n        return (zze >>> 1) ^ -(zze & 1);\n    }\n    /**\n     * Read a `int64` field, a signed 64-bit varint.\n     */\n    int64() {\n        return new PbLong(...this.varint64());\n    }\n    /**\n     * Read a `uint64` field, an unsigned 64-bit varint.\n     */\n    uint64() {\n        return new PbULong(...this.varint64());\n    }\n    /**\n     * Read a `sint64` field, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64() {\n        let [lo, hi] = this.varint64();\n        // decode zig zag\n        let s = -(lo & 1);\n        lo = ((lo >>> 1 | (hi & 1) << 31) ^ s);\n        hi = (hi >>> 1 ^ s);\n        return new PbLong(lo, hi);\n    }\n    /**\n     * Read a `bool` field, a variant.\n     */\n    bool() {\n        let [lo, hi] = this.varint64();\n        return lo !== 0 || hi !== 0;\n    }\n    /**\n     * Read a `fixed32` field, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32() {\n        return this.view.getUint32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `sfixed32` field, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32() {\n        return this.view.getInt32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `fixed64` field, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64() {\n        return new PbULong(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `fixed64` field, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64() {\n        return new PbLong(this.sfixed32(), this.sfixed32());\n    }\n    /**\n     * Read a `float` field, 32-bit floating point number.\n     */\n    float() {\n        return this.view.getFloat32((this.pos += 4) - 4, true);\n    }\n    /**\n     * Read a `double` field, a 64-bit floating point number.\n     */\n    double() {\n        return this.view.getFloat64((this.pos += 8) - 8, true);\n    }\n    /**\n     * Read a `bytes` field, length-delimited arbitrary data.\n     */\n    bytes() {\n        let len = this.uint32();\n        let start = this.pos;\n        this.pos += len;\n        this.assertBounds();\n        return this.buf.subarray(start, start + len);\n    }\n    /**\n     * Read a `string` field, length-delimited data converted to UTF-8 text.\n     */\n    string() {\n        return this.textDecoder.decode(this.bytes());\n    }\n}\n","/**\n * assert that condition is true or throw error (with message)\n */\nexport function assert(condition, msg) {\n    if (!condition) {\n        throw new Error(msg);\n    }\n}\n/**\n * assert that value cannot exist = type `never`. throw runtime error if it does.\n */\nexport function assertNever(value, msg) {\n    throw new Error(msg !== null && msg !== void 0 ? msg : 'Unexpected object: ' + value);\n}\nconst FLOAT32_MAX = 3.4028234663852886e+38, FLOAT32_MIN = -3.4028234663852886e+38, UINT32_MAX = 0xFFFFFFFF, INT32_MAX = 0X7FFFFFFF, INT32_MIN = -0X80000000;\nexport function assertInt32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid int 32: ' + typeof arg);\n    if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN)\n        throw new Error('invalid int 32: ' + arg);\n}\nexport function assertUInt32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid uint 32: ' + typeof arg);\n    if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0)\n        throw new Error('invalid uint 32: ' + arg);\n}\nexport function assertFloat32(arg) {\n    if (typeof arg !== \"number\")\n        throw new Error('invalid float 32: ' + typeof arg);\n    if (!Number.isFinite(arg))\n        return;\n    if (arg > FLOAT32_MAX || arg < FLOAT32_MIN)\n        throw new Error('invalid float 32: ' + arg);\n}\n","import { PbLong, PbULong } from \"./pb-long\";\nimport { varint32write, varint64write } from \"./goog-varint\";\nimport { assertFloat32, assertInt32, assertUInt32 } from \"./assert\";\nconst defaultsWrite = {\n    writeUnknownFields: true,\n    writerFactory: () => new BinaryWriter(),\n};\n/**\n * Make options for writing binary data form partial options.\n */\nexport function binaryWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsWrite), options) : defaultsWrite;\n}\nexport class BinaryWriter {\n    constructor(textEncoder) {\n        /**\n         * Previous fork states.\n         */\n        this.stack = [];\n        this.textEncoder = textEncoder !== null && textEncoder !== void 0 ? textEncoder : new TextEncoder();\n        this.chunks = [];\n        this.buf = [];\n    }\n    /**\n     * Return all bytes written and reset this writer.\n     */\n    finish() {\n        this.chunks.push(new Uint8Array(this.buf)); // flush the buffer\n        let len = 0;\n        for (let i = 0; i < this.chunks.length; i++)\n            len += this.chunks[i].length;\n        let bytes = new Uint8Array(len);\n        let offset = 0;\n        for (let i = 0; i < this.chunks.length; i++) {\n            bytes.set(this.chunks[i], offset);\n            offset += this.chunks[i].length;\n        }\n        this.chunks = [];\n        return bytes;\n    }\n    /**\n     * Start a new fork for length-delimited data like a message\n     * or a packed repeated field.\n     *\n     * Must be joined later with `join()`.\n     */\n    fork() {\n        this.stack.push({ chunks: this.chunks, buf: this.buf });\n        this.chunks = [];\n        this.buf = [];\n        return this;\n    }\n    /**\n     * Join the last fork. Write its length and bytes, then\n     * return to the previous state.\n     */\n    join() {\n        // get chunk of fork\n        let chunk = this.finish();\n        // restore previous state\n        let prev = this.stack.pop();\n        if (!prev)\n            throw new Error('invalid state, fork stack empty');\n        this.chunks = prev.chunks;\n        this.buf = prev.buf;\n        // write length of chunk as varint\n        this.uint32(chunk.byteLength);\n        return this.raw(chunk);\n    }\n    /**\n     * Writes a tag (field number and wire type).\n     *\n     * Equivalent to `uint32( (fieldNo << 3 | type) >>> 0 )`.\n     *\n     * Generated code should compute the tag ahead of time and call `uint32()`.\n     */\n    tag(fieldNo, type) {\n        return this.uint32((fieldNo << 3 | type) >>> 0);\n    }\n    /**\n     * Write a chunk of raw bytes.\n     */\n    raw(chunk) {\n        if (this.buf.length) {\n            this.chunks.push(new Uint8Array(this.buf));\n            this.buf = [];\n        }\n        this.chunks.push(chunk);\n        return this;\n    }\n    /**\n     * Write a `uint32` value, an unsigned 32 bit varint.\n     */\n    uint32(value) {\n        assertUInt32(value);\n        // write value as varint 32, inlined for speed\n        while (value > 0x7f) {\n            this.buf.push((value & 0x7f) | 0x80);\n            value = value >>> 7;\n        }\n        this.buf.push(value);\n        return this;\n    }\n    /**\n     * Write a `int32` value, a signed 32 bit varint.\n     */\n    int32(value) {\n        assertInt32(value);\n        varint32write(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `bool` value, a variant.\n     */\n    bool(value) {\n        this.buf.push(value ? 1 : 0);\n        return this;\n    }\n    /**\n     * Write a `bytes` value, length-delimited arbitrary data.\n     */\n    bytes(value) {\n        this.uint32(value.byteLength); // write length of chunk as varint\n        return this.raw(value);\n    }\n    /**\n     * Write a `string` value, length-delimited data converted to UTF-8 text.\n     */\n    string(value) {\n        let chunk = this.textEncoder.encode(value);\n        this.uint32(chunk.byteLength); // write length of chunk as varint\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `float` value, 32-bit floating point number.\n     */\n    float(value) {\n        assertFloat32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setFloat32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `double` value, a 64-bit floating point number.\n     */\n    double(value) {\n        let chunk = new Uint8Array(8);\n        new DataView(chunk.buffer).setFloat64(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed32` value, an unsigned, fixed-length 32-bit integer.\n     */\n    fixed32(value) {\n        assertUInt32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setUint32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sfixed32` value, a signed, fixed-length 32-bit integer.\n     */\n    sfixed32(value) {\n        assertInt32(value);\n        let chunk = new Uint8Array(4);\n        new DataView(chunk.buffer).setInt32(0, value, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `sint32` value, a signed, zigzag-encoded 32-bit varint.\n     */\n    sint32(value) {\n        assertInt32(value);\n        // zigzag encode\n        value = ((value << 1) ^ (value >> 31)) >>> 0;\n        varint32write(value, this.buf);\n        return this;\n    }\n    /**\n     * Write a `fixed64` value, a signed, fixed-length 64-bit integer.\n     */\n    sfixed64(value) {\n        let chunk = new Uint8Array(8);\n        let view = new DataView(chunk.buffer);\n        let long = PbLong.from(value);\n        view.setInt32(0, long.lo, true);\n        view.setInt32(4, long.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `fixed64` value, an unsigned, fixed-length 64 bit integer.\n     */\n    fixed64(value) {\n        let chunk = new Uint8Array(8);\n        let view = new DataView(chunk.buffer);\n        let long = PbULong.from(value);\n        view.setInt32(0, long.lo, true);\n        view.setInt32(4, long.hi, true);\n        return this.raw(chunk);\n    }\n    /**\n     * Write a `int64` value, a signed 64-bit varint.\n     */\n    int64(value) {\n        let long = PbLong.from(value);\n        varint64write(long.lo, long.hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `sint64` value, a signed, zig-zag-encoded 64-bit varint.\n     */\n    sint64(value) {\n        let long = PbLong.from(value), \n        // zigzag encode\n        sign = long.hi >> 31, lo = (long.lo << 1) ^ sign, hi = ((long.hi << 1) | (long.lo >>> 31)) ^ sign;\n        varint64write(lo, hi, this.buf);\n        return this;\n    }\n    /**\n     * Write a `uint64` value, an unsigned 64-bit varint.\n     */\n    uint64(value) {\n        let long = PbULong.from(value);\n        varint64write(long.lo, long.hi, this.buf);\n        return this;\n    }\n}\n","const defaultsWrite = {\n    emitDefaultValues: false,\n    enumAsInteger: false,\n    useProtoFieldName: false,\n    prettySpaces: 0,\n}, defaultsRead = {\n    ignoreUnknownFields: false,\n};\n/**\n * Make options for reading JSON data from partial options.\n */\nexport function jsonReadOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsRead), options) : defaultsRead;\n}\n/**\n * Make options for writing JSON data from partial options.\n */\nexport function jsonWriteOptions(options) {\n    return options ? Object.assign(Object.assign({}, defaultsWrite), options) : defaultsWrite;\n}\n/**\n * Merges JSON write or read options. Later values override earlier values. Type registries are merged.\n */\nexport function mergeJsonOptions(a, b) {\n    var _a, _b;\n    let c = Object.assign(Object.assign({}, a), b);\n    c.typeRegistry = [...((_a = a === null || a === void 0 ? void 0 : a.typeRegistry) !== null && _a !== void 0 ? _a : []), ...((_b = b === null || b === void 0 ? void 0 : b.typeRegistry) !== null && _b !== void 0 ? _b : [])];\n    return c;\n}\n","/**\n * The symbol used as a key on message objects to store the message type.\n *\n * Note that this is an experimental feature - it is here to stay, but\n * implementation details may change without notice.\n */\nexport const MESSAGE_TYPE = Symbol.for(\"protobuf-ts/message-type\");\n","/**\n * Converts snake_case to lowerCamelCase.\n *\n * Should behave like protoc:\n * https://github.com/protocolbuffers/protobuf/blob/e8ae137c96444ea313485ed1118c5e43b2099cf1/src/google/protobuf/compiler/java/java_helpers.cc#L118\n */\nexport function lowerCamelCase(snakeCase) {\n    let capNext = false;\n    const sb = [];\n    for (let i = 0; i < snakeCase.length; i++) {\n        let next = snakeCase.charAt(i);\n        if (next == '_') {\n            capNext = true;\n        }\n        else if (/\\d/.test(next)) {\n            sb.push(next);\n            capNext = true;\n        }\n        else if (capNext) {\n            sb.push(next.toUpperCase());\n            capNext = false;\n        }\n        else if (i == 0) {\n            sb.push(next.toLowerCase());\n        }\n        else {\n            sb.push(next);\n        }\n    }\n    return sb.join('');\n}\n","import { lowerCamelCase } from \"./lower-camel-case\";\n/**\n * Scalar value types. This is a subset of field types declared by protobuf\n * enum google.protobuf.FieldDescriptorProto.Type The types GROUP and MESSAGE\n * are omitted, but the numerical values are identical.\n */\nexport var ScalarType;\n(function (ScalarType) {\n    // 0 is reserved for errors.\n    // Order is weird for historical reasons.\n    ScalarType[ScalarType[\"DOUBLE\"] = 1] = \"DOUBLE\";\n    ScalarType[ScalarType[\"FLOAT\"] = 2] = \"FLOAT\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT64 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT64\"] = 3] = \"INT64\";\n    ScalarType[ScalarType[\"UINT64\"] = 4] = \"UINT64\";\n    // Not ZigZag encoded.  Negative numbers take 10 bytes.  Use TYPE_SINT32 if\n    // negative values are likely.\n    ScalarType[ScalarType[\"INT32\"] = 5] = \"INT32\";\n    ScalarType[ScalarType[\"FIXED64\"] = 6] = \"FIXED64\";\n    ScalarType[ScalarType[\"FIXED32\"] = 7] = \"FIXED32\";\n    ScalarType[ScalarType[\"BOOL\"] = 8] = \"BOOL\";\n    ScalarType[ScalarType[\"STRING\"] = 9] = \"STRING\";\n    // Tag-delimited aggregate.\n    // Group type is deprecated and not supported in proto3. However, Proto3\n    // implementations should still be able to parse the group wire format and\n    // treat group fields as unknown fields.\n    // TYPE_GROUP = 10,\n    // TYPE_MESSAGE = 11,  // Length-delimited aggregate.\n    // New in version 2.\n    ScalarType[ScalarType[\"BYTES\"] = 12] = \"BYTES\";\n    ScalarType[ScalarType[\"UINT32\"] = 13] = \"UINT32\";\n    // TYPE_ENUM = 14,\n    ScalarType[ScalarType[\"SFIXED32\"] = 15] = \"SFIXED32\";\n    ScalarType[ScalarType[\"SFIXED64\"] = 16] = \"SFIXED64\";\n    ScalarType[ScalarType[\"SINT32\"] = 17] = \"SINT32\";\n    ScalarType[ScalarType[\"SINT64\"] = 18] = \"SINT64\";\n})(ScalarType || (ScalarType = {}));\n/**\n * JavaScript representation of 64 bit integral types. Equivalent to the\n * field option \"jstype\".\n *\n * By default, protobuf-ts represents 64 bit types as `bigint`.\n *\n * You can change the default behaviour by enabling the plugin parameter\n * `long_type_string`, which will represent 64 bit types as `string`.\n *\n * Alternatively, you can change the behaviour for individual fields\n * with the field option \"jstype\":\n *\n * ```protobuf\n * uint64 my_field = 1 [jstype = JS_STRING];\n * uint64 other_field = 2 [jstype = JS_NUMBER];\n * ```\n */\nexport var LongType;\n(function (LongType) {\n    /**\n     * Use JavaScript `bigint`.\n     *\n     * Field option `[jstype = JS_NORMAL]`.\n     */\n    LongType[LongType[\"BIGINT\"] = 0] = \"BIGINT\";\n    /**\n     * Use JavaScript `string`.\n     *\n     * Field option `[jstype = JS_STRING]`.\n     */\n    LongType[LongType[\"STRING\"] = 1] = \"STRING\";\n    /**\n     * Use JavaScript `number`.\n     *\n     * Large values will loose precision.\n     *\n     * Field option `[jstype = JS_NUMBER]`.\n     */\n    LongType[LongType[\"NUMBER\"] = 2] = \"NUMBER\";\n})(LongType || (LongType = {}));\n/**\n * Protobuf 2.1.0 introduced packed repeated fields.\n * Setting the field option `[packed = true]` enables packing.\n *\n * In proto3, all repeated fields are packed by default.\n * Setting the field option `[packed = false]` disables packing.\n *\n * Packed repeated fields are encoded with a single tag,\n * then a length-delimiter, then the element values.\n *\n * Unpacked repeated fields are encoded with a tag and\n * value for each element.\n *\n * `bytes` and `string` cannot be packed.\n */\nexport var RepeatType;\n(function (RepeatType) {\n    /**\n     * The field is not repeated.\n     */\n    RepeatType[RepeatType[\"NO\"] = 0] = \"NO\";\n    /**\n     * The field is repeated and should be packed.\n     * Invalid for `bytes` and `string`, they cannot be packed.\n     */\n    RepeatType[RepeatType[\"PACKED\"] = 1] = \"PACKED\";\n    /**\n     * The field is repeated but should not be packed.\n     * The only valid repeat type for repeated `bytes` and `string`.\n     */\n    RepeatType[RepeatType[\"UNPACKED\"] = 2] = \"UNPACKED\";\n})(RepeatType || (RepeatType = {}));\n/**\n * Turns PartialFieldInfo into FieldInfo.\n */\nexport function normalizeFieldInfo(field) {\n    var _a, _b, _c, _d;\n    field.localName = (_a = field.localName) !== null && _a !== void 0 ? _a : lowerCamelCase(field.name);\n    field.jsonName = (_b = field.jsonName) !== null && _b !== void 0 ? _b : lowerCamelCase(field.name);\n    field.repeat = (_c = field.repeat) !== null && _c !== void 0 ? _c : RepeatType.NO;\n    field.opt = (_d = field.opt) !== null && _d !== void 0 ? _d : (field.repeat ? false : field.oneof ? false : field.kind == \"message\");\n    return field;\n}\n/**\n * Read custom field options from a generated message type.\n *\n * @deprecated use readFieldOption()\n */\nexport function readFieldOptions(messageType, fieldName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = messageType.fields.find((m, i) => m.localName == fieldName || i == fieldName)) === null || _a === void 0 ? void 0 : _a.options;\n    return options && options[extensionName] ? extensionType.fromJson(options[extensionName]) : undefined;\n}\nexport function readFieldOption(messageType, fieldName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = messageType.fields.find((m, i) => m.localName == fieldName || i == fieldName)) === null || _a === void 0 ? void 0 : _a.options;\n    if (!options) {\n        return undefined;\n    }\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\nexport function readMessageOption(messageType, extensionName, extensionType) {\n    const options = messageType.options;\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\n","/**\n * Is the given value a valid oneof group?\n *\n * We represent protobuf `oneof` as algebraic data types (ADT) in generated\n * code. But when working with messages of unknown type, the ADT does not\n * help us.\n *\n * This type guard checks if the given object adheres to the ADT rules, which\n * are as follows:\n *\n * 1) Must be an object.\n *\n * 2) Must have a \"oneofKind\" discriminator property.\n *\n * 3) If \"oneofKind\" is `undefined`, no member field is selected. The object\n * must not have any other properties.\n *\n * 4) If \"oneofKind\" is a `string`, the member field with this name is\n * selected.\n *\n * 5) If a member field is selected, the object must have a second property\n * with this name. The property must not be `undefined`.\n *\n * 6) No extra properties are allowed. The object has either one property\n * (no selection) or two properties (selection).\n *\n */\nexport function isOneofGroup(any) {\n    if (typeof any != 'object' || any === null || !any.hasOwnProperty('oneofKind')) {\n        return false;\n    }\n    switch (typeof any.oneofKind) {\n        case \"string\":\n            if (any[any.oneofKind] === undefined)\n                return false;\n            return Object.keys(any).length == 2;\n        case \"undefined\":\n            return Object.keys(any).length == 1;\n        default:\n            return false;\n    }\n}\n/**\n * Returns the value of the given field in a oneof group.\n */\nexport function getOneofValue(oneof, kind) {\n    return oneof[kind];\n}\nexport function setOneofValue(oneof, kind, value) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = kind;\n    if (value !== undefined) {\n        oneof[kind] = value;\n    }\n}\nexport function setUnknownOneofValue(oneof, kind, value) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = kind;\n    if (value !== undefined && kind !== undefined) {\n        oneof[kind] = value;\n    }\n}\n/**\n * Removes the selected field in a oneof group.\n *\n * Note that the recommended way to modify a oneof group is to set\n * a new object:\n *\n * ```ts\n * message.result = { oneofKind: undefined };\n * ```\n */\nexport function clearOneofValue(oneof) {\n    if (oneof.oneofKind !== undefined) {\n        delete oneof[oneof.oneofKind];\n    }\n    oneof.oneofKind = undefined;\n}\n/**\n * Returns the selected value of the given oneof group.\n *\n * Not that the recommended way to access a oneof group is to check\n * the \"oneofKind\" property and let TypeScript narrow down the union\n * type for you:\n *\n * ```ts\n * if (message.result.oneofKind === \"error\") {\n *   message.result.error; // string\n * }\n * ```\n *\n * In the rare case you just need the value, and do not care about\n * which protobuf field is selected, you can use this function\n * for convenience.\n */\nexport function getSelectedOneofValue(oneof) {\n    if (oneof.oneofKind === undefined) {\n        return undefined;\n    }\n    return oneof[oneof.oneofKind];\n}\n","import { LongType, ScalarType } from \"./reflection-info\";\nimport { isOneofGroup } from \"./oneof\";\n// noinspection JSMethodCanBeStatic\nexport class ReflectionTypeCheck {\n    constructor(info) {\n        var _a;\n        this.fields = (_a = info.fields) !== null && _a !== void 0 ? _a : [];\n    }\n    prepare() {\n        if (this.data)\n            return;\n        const req = [], known = [], oneofs = [];\n        for (let field of this.fields) {\n            if (field.oneof) {\n                if (!oneofs.includes(field.oneof)) {\n                    oneofs.push(field.oneof);\n                    req.push(field.oneof);\n                    known.push(field.oneof);\n                }\n            }\n            else {\n                known.push(field.localName);\n                switch (field.kind) {\n                    case \"scalar\":\n                    case \"enum\":\n                        if (!field.opt || field.repeat)\n                            req.push(field.localName);\n                        break;\n                    case \"message\":\n                        if (field.repeat)\n                            req.push(field.localName);\n                        break;\n                    case \"map\":\n                        req.push(field.localName);\n                        break;\n                }\n            }\n        }\n        this.data = { req, known, oneofs: Object.values(oneofs) };\n    }\n    /**\n     * Is the argument a valid message as specified by the\n     * reflection information?\n     *\n     * Checks all field types recursively. The `depth`\n     * specifies how deep into the structure the check will be.\n     *\n     * With a depth of 0, only the presence of fields\n     * is checked.\n     *\n     * With a depth of 1 or more, the field types are checked.\n     *\n     * With a depth of 2 or more, the members of map, repeated\n     * and message fields are checked.\n     *\n     * Message fields will be checked recursively with depth - 1.\n     *\n     * The number of map entries / repeated values being checked\n     * is < depth.\n     */\n    is(message, depth, allowExcessProperties = false) {\n        if (depth < 0)\n            return true;\n        if (message === null || message === undefined || typeof message != 'object')\n            return false;\n        this.prepare();\n        let keys = Object.keys(message), data = this.data;\n        // if a required field is missing in arg, this cannot be a T\n        if (keys.length < data.req.length || data.req.some(n => !keys.includes(n)))\n            return false;\n        if (!allowExcessProperties) {\n            // if the arg contains a key we dont know, this is not a literal T\n            if (keys.some(k => !data.known.includes(k)))\n                return false;\n        }\n        // \"With a depth of 0, only the presence and absence of fields is checked.\"\n        // \"With a depth of 1 or more, the field types are checked.\"\n        if (depth < 1) {\n            return true;\n        }\n        // check oneof group\n        for (const name of data.oneofs) {\n            const group = message[name];\n            if (!isOneofGroup(group))\n                return false;\n            if (group.oneofKind === undefined)\n                continue;\n            const field = this.fields.find(f => f.localName === group.oneofKind);\n            if (!field)\n                return false; // we found no field, but have a kind, something is wrong\n            if (!this.field(group[group.oneofKind], field, allowExcessProperties, depth))\n                return false;\n        }\n        // check types\n        for (const field of this.fields) {\n            if (field.oneof !== undefined)\n                continue;\n            if (!this.field(message[field.localName], field, allowExcessProperties, depth))\n                return false;\n        }\n        return true;\n    }\n    field(arg, field, allowExcessProperties, depth) {\n        let repeated = field.repeat;\n        switch (field.kind) {\n            case \"scalar\":\n                if (arg === undefined)\n                    return field.opt;\n                if (repeated)\n                    return this.scalars(arg, field.T, depth, field.L);\n                return this.scalar(arg, field.T, field.L);\n            case \"enum\":\n                if (arg === undefined)\n                    return field.opt;\n                if (repeated)\n                    return this.scalars(arg, ScalarType.INT32, depth);\n                return this.scalar(arg, ScalarType.INT32);\n            case \"message\":\n                if (arg === undefined)\n                    return true;\n                if (repeated)\n                    return this.messages(arg, field.T(), allowExcessProperties, depth);\n                return this.message(arg, field.T(), allowExcessProperties, depth);\n            case \"map\":\n                if (typeof arg != 'object' || arg === null)\n                    return false;\n                if (depth < 2)\n                    return true;\n                if (!this.mapKeys(arg, field.K, depth))\n                    return false;\n                switch (field.V.kind) {\n                    case \"scalar\":\n                        return this.scalars(Object.values(arg), field.V.T, depth, field.V.L);\n                    case \"enum\":\n                        return this.scalars(Object.values(arg), ScalarType.INT32, depth);\n                    case \"message\":\n                        return this.messages(Object.values(arg), field.V.T(), allowExcessProperties, depth);\n                }\n                break;\n        }\n        return true;\n    }\n    message(arg, type, allowExcessProperties, depth) {\n        if (allowExcessProperties) {\n            return type.isAssignable(arg, depth);\n        }\n        return type.is(arg, depth);\n    }\n    messages(arg, type, allowExcessProperties, depth) {\n        if (!Array.isArray(arg))\n            return false;\n        if (depth < 2)\n            return true;\n        if (allowExcessProperties) {\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!type.isAssignable(arg[i], depth - 1))\n                    return false;\n        }\n        else {\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!type.is(arg[i], depth - 1))\n                    return false;\n        }\n        return true;\n    }\n    scalar(arg, type, longType) {\n        let argType = typeof arg;\n        switch (type) {\n            case ScalarType.UINT64:\n            case ScalarType.FIXED64:\n            case ScalarType.INT64:\n            case ScalarType.SFIXED64:\n            case ScalarType.SINT64:\n                switch (longType) {\n                    case LongType.BIGINT:\n                        return argType == \"bigint\";\n                    case LongType.NUMBER:\n                        return argType == \"number\" && !isNaN(arg);\n                    default:\n                        return argType == \"string\";\n                }\n            case ScalarType.BOOL:\n                return argType == 'boolean';\n            case ScalarType.STRING:\n                return argType == 'string';\n            case ScalarType.BYTES:\n                return arg instanceof Uint8Array;\n            case ScalarType.DOUBLE:\n            case ScalarType.FLOAT:\n                return argType == 'number' && !isNaN(arg);\n            default:\n                // case ScalarType.UINT32:\n                // case ScalarType.FIXED32:\n                // case ScalarType.INT32:\n                // case ScalarType.SINT32:\n                // case ScalarType.SFIXED32:\n                return argType == 'number' && Number.isInteger(arg);\n        }\n    }\n    scalars(arg, type, depth, longType) {\n        if (!Array.isArray(arg))\n            return false;\n        if (depth < 2)\n            return true;\n        if (Array.isArray(arg))\n            for (let i = 0; i < arg.length && i < depth; i++)\n                if (!this.scalar(arg[i], type, longType))\n                    return false;\n        return true;\n    }\n    mapKeys(map, type, depth) {\n        let keys = Object.keys(map);\n        switch (type) {\n            case ScalarType.INT32:\n            case ScalarType.FIXED32:\n            case ScalarType.SFIXED32:\n            case ScalarType.SINT32:\n            case ScalarType.UINT32:\n                return this.scalars(keys.slice(0, depth).map(k => parseInt(k)), type, depth);\n            case ScalarType.BOOL:\n                return this.scalars(keys.slice(0, depth).map(k => k == 'true' ? true : k == 'false' ? false : k), type, depth);\n            default:\n                return this.scalars(keys, type, depth, LongType.STRING);\n        }\n    }\n}\n","import { LongType } from \"./reflection-info\";\n/**\n * Utility method to convert a PbLong or PbUlong to a JavaScript\n * representation during runtime.\n *\n * Works with generated field information, `undefined` is equivalent\n * to `STRING`.\n */\nexport function reflectionLongConvert(long, type) {\n    switch (type) {\n        case LongType.BIGINT:\n            return long.toBigInt();\n        case LongType.NUMBER:\n            return long.toNumber();\n        default:\n            // case undefined:\n            // case LongType.STRING:\n            return long.toString();\n    }\n}\n","import { isJsonObject, typeofJsonValue } from \"./json-typings\";\nimport { base64decode } from \"./base64\";\nimport { LongType, ScalarType } from \"./reflection-info\";\nimport { PbLong, PbULong } from \"./pb-long\";\nimport { assert, assertFloat32, assertInt32, assertUInt32 } from \"./assert\";\nimport { reflectionLongConvert } from \"./reflection-long-convert\";\n/**\n * Reads proto3 messages in canonical JSON format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n */\nexport class ReflectionJsonReader {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        var _a;\n        if (this.fMap === undefined) {\n            this.fMap = {};\n            const fieldsInput = (_a = this.info.fields) !== null && _a !== void 0 ? _a : [];\n            for (const field of fieldsInput) {\n                this.fMap[field.name] = field;\n                this.fMap[field.jsonName] = field;\n                this.fMap[field.localName] = field;\n            }\n        }\n    }\n    // Cannot parse JSON <type of jsonValue> for <type name>#<fieldName>.\n    assert(condition, fieldName, jsonValue) {\n        if (!condition) {\n            let what = typeofJsonValue(jsonValue);\n            if (what == \"number\" || what == \"boolean\")\n                what = jsonValue.toString();\n            throw new Error(`Cannot parse JSON ${what} for ${this.info.typeName}#${fieldName}`);\n        }\n    }\n    /**\n     * Reads a message from canonical JSON format into the target message.\n     *\n     * Repeated fields are appended. Map entries are added, overwriting\n     * existing keys.\n     *\n     * If a message field is already present, it will be merged with the\n     * new data.\n     */\n    read(input, message, options) {\n        this.prepare();\n        const oneofsHandled = [];\n        for (const [jsonKey, jsonValue] of Object.entries(input)) {\n            const field = this.fMap[jsonKey];\n            if (!field) {\n                if (!options.ignoreUnknownFields)\n                    throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${jsonKey}`);\n                continue;\n            }\n            const localName = field.localName;\n            // handle oneof ADT\n            let target; // this will be the target for the field value, whether it is member of a oneof or not\n            if (field.oneof) {\n                // since json objects are unordered by specification, it is not possible to take the last of multiple oneofs\n                if (oneofsHandled.includes(field.oneof))\n                    throw new Error(`Multiple members of the oneof group \"${field.oneof}\" of ${this.info.typeName} are present in JSON.`);\n                oneofsHandled.push(field.oneof);\n                target = message[field.oneof] = {\n                    oneofKind: localName\n                };\n            }\n            else {\n                target = message;\n            }\n            // we have handled oneof above. we just have read the value into `target`.\n            if (field.kind == 'map') {\n                if (jsonValue === null) {\n                    continue;\n                }\n                // check input\n                this.assert(isJsonObject(jsonValue), field.name, jsonValue);\n                // our target to put map entries into\n                const fieldObj = target[localName];\n                // read entries\n                for (const [jsonObjKey, jsonObjValue] of Object.entries(jsonValue)) {\n                    this.assert(jsonObjValue !== null, field.name + \" map value\", null);\n                    // read value\n                    let val;\n                    switch (field.V.kind) {\n                        case \"message\":\n                            val = field.V.T().internalJsonRead(jsonObjValue, options);\n                            break;\n                        case \"enum\":\n                            val = this.enum(field.V.T(), jsonObjValue, field.name, options.ignoreUnknownFields);\n                            if (val === false)\n                                continue;\n                            break;\n                        case \"scalar\":\n                            val = this.scalar(jsonObjValue, field.V.T, field.V.L, field.name);\n                            break;\n                    }\n                    this.assert(val !== undefined, field.name + \" map value\", jsonObjValue);\n                    // read key\n                    let key = jsonObjKey;\n                    if (field.K == ScalarType.BOOL)\n                        key = key == \"true\" ? true : key == \"false\" ? false : key;\n                    key = this.scalar(key, field.K, LongType.STRING, field.name).toString();\n                    fieldObj[key] = val;\n                }\n            }\n            else if (field.repeat) {\n                if (jsonValue === null)\n                    continue;\n                // check input\n                this.assert(Array.isArray(jsonValue), field.name, jsonValue);\n                // our target to put array entries into\n                const fieldArr = target[localName];\n                // read array entries\n                for (const jsonItem of jsonValue) {\n                    this.assert(jsonItem !== null, field.name, null);\n                    let val;\n                    switch (field.kind) {\n                        case \"message\":\n                            val = field.T().internalJsonRead(jsonItem, options);\n                            break;\n                        case \"enum\":\n                            val = this.enum(field.T(), jsonItem, field.name, options.ignoreUnknownFields);\n                            if (val === false)\n                                continue;\n                            break;\n                        case \"scalar\":\n                            val = this.scalar(jsonItem, field.T, field.L, field.name);\n                            break;\n                    }\n                    this.assert(val !== undefined, field.name, jsonValue);\n                    fieldArr.push(val);\n                }\n            }\n            else {\n                switch (field.kind) {\n                    case \"message\":\n                        if (jsonValue === null && field.T().typeName != 'google.protobuf.Value') {\n                            this.assert(field.oneof === undefined, field.name + \" (oneof member)\", null);\n                            continue;\n                        }\n                        target[localName] = field.T().internalJsonRead(jsonValue, options, target[localName]);\n                        break;\n                    case \"enum\":\n                        let val = this.enum(field.T(), jsonValue, field.name, options.ignoreUnknownFields);\n                        if (val === false)\n                            continue;\n                        target[localName] = val;\n                        break;\n                    case \"scalar\":\n                        target[localName] = this.scalar(jsonValue, field.T, field.L, field.name);\n                        break;\n                }\n            }\n        }\n    }\n    /**\n     * Returns `false` for unrecognized string representations.\n     *\n     * google.protobuf.NullValue accepts only JSON `null`.\n     */\n    enum(type, json, fieldName, ignoreUnknownFields) {\n        if (type[0] == 'google.protobuf.NullValue')\n            assert(json === null, `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${type[0]} only accepts null.`);\n        if (json === null)\n            // we require 0 to be default value for all enums\n            return 0;\n        switch (typeof json) {\n            case \"number\":\n                assert(Number.isInteger(json), `Unable to parse field ${this.info.typeName}#${fieldName}, enum can only be integral number, got ${json}.`);\n                return json;\n            case \"string\":\n                let localEnumName = json;\n                if (type[2] && json.substring(0, type[2].length) === type[2])\n                    // lookup without the shared prefix\n                    localEnumName = json.substring(type[2].length);\n                let enumNumber = type[1][localEnumName];\n                if (typeof enumNumber === 'undefined' && ignoreUnknownFields) {\n                    return false;\n                }\n                assert(typeof enumNumber == \"number\", `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${type[0]} has no value for \"${json}\".`);\n                return enumNumber;\n        }\n        assert(false, `Unable to parse field ${this.info.typeName}#${fieldName}, cannot parse enum value from ${typeof json}\".`);\n    }\n    scalar(json, type, longType, fieldName) {\n        let e;\n        try {\n            switch (type) {\n                // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n                // Either numbers or strings are accepted. Exponent notation is also accepted.\n                case ScalarType.DOUBLE:\n                case ScalarType.FLOAT:\n                    if (json === null)\n                        return .0;\n                    if (json === \"NaN\")\n                        return Number.NaN;\n                    if (json === \"Infinity\")\n                        return Number.POSITIVE_INFINITY;\n                    if (json === \"-Infinity\")\n                        return Number.NEGATIVE_INFINITY;\n                    if (json === \"\") {\n                        e = \"empty string\";\n                        break;\n                    }\n                    if (typeof json == \"string\" && json.trim().length !== json.length) {\n                        e = \"extra whitespace\";\n                        break;\n                    }\n                    if (typeof json != \"string\" && typeof json != \"number\") {\n                        break;\n                    }\n                    let float = Number(json);\n                    if (Number.isNaN(float)) {\n                        e = \"not a number\";\n                        break;\n                    }\n                    if (!Number.isFinite(float)) {\n                        // infinity and -infinity are handled by string representation above, so this is an error\n                        e = \"too large or small\";\n                        break;\n                    }\n                    if (type == ScalarType.FLOAT)\n                        assertFloat32(float);\n                    return float;\n                // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n                case ScalarType.INT32:\n                case ScalarType.FIXED32:\n                case ScalarType.SFIXED32:\n                case ScalarType.SINT32:\n                case ScalarType.UINT32:\n                    if (json === null)\n                        return 0;\n                    let int32;\n                    if (typeof json == \"number\")\n                        int32 = json;\n                    else if (json === \"\")\n                        e = \"empty string\";\n                    else if (typeof json == \"string\") {\n                        if (json.trim().length !== json.length)\n                            e = \"extra whitespace\";\n                        else\n                            int32 = Number(json);\n                    }\n                    if (int32 === undefined)\n                        break;\n                    if (type == ScalarType.UINT32)\n                        assertUInt32(int32);\n                    else\n                        assertInt32(int32);\n                    return int32;\n                // int64, fixed64, uint64: JSON value will be a decimal string. Either numbers or strings are accepted.\n                case ScalarType.INT64:\n                case ScalarType.SFIXED64:\n                case ScalarType.SINT64:\n                    if (json === null)\n                        return reflectionLongConvert(PbLong.ZERO, longType);\n                    if (typeof json != \"number\" && typeof json != \"string\")\n                        break;\n                    return reflectionLongConvert(PbLong.from(json), longType);\n                case ScalarType.FIXED64:\n                case ScalarType.UINT64:\n                    if (json === null)\n                        return reflectionLongConvert(PbULong.ZERO, longType);\n                    if (typeof json != \"number\" && typeof json != \"string\")\n                        break;\n                    return reflectionLongConvert(PbULong.from(json), longType);\n                // bool:\n                case ScalarType.BOOL:\n                    if (json === null)\n                        return false;\n                    if (typeof json !== \"boolean\")\n                        break;\n                    return json;\n                // string:\n                case ScalarType.STRING:\n                    if (json === null)\n                        return \"\";\n                    if (typeof json !== \"string\") {\n                        e = \"extra whitespace\";\n                        break;\n                    }\n                    try {\n                        encodeURIComponent(json);\n                    }\n                    catch (e) {\n                        e = \"invalid UTF8\";\n                        break;\n                    }\n                    return json;\n                // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n                // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n                case ScalarType.BYTES:\n                    if (json === null || json === \"\")\n                        return new Uint8Array(0);\n                    if (typeof json !== 'string')\n                        break;\n                    return base64decode(json);\n            }\n        }\n        catch (error) {\n            e = error.message;\n        }\n        this.assert(false, fieldName + (e ? \" - \" + e : \"\"), json);\n    }\n}\n","import { base64encode } from \"./base64\";\nimport { PbLong, PbULong } from \"./pb-long\";\nimport { ScalarType } from \"./reflection-info\";\nimport { assert, assertFloat32, assertInt32, assertUInt32 } from \"./assert\";\n/**\n * Writes proto3 messages in canonical JSON format using reflection\n * information.\n *\n * https://developers.google.com/protocol-buffers/docs/proto3#json\n */\nexport class ReflectionJsonWriter {\n    constructor(info) {\n        var _a;\n        this.fields = (_a = info.fields) !== null && _a !== void 0 ? _a : [];\n    }\n    /**\n     * Converts the message to a JSON object, based on the field descriptors.\n     */\n    write(message, options) {\n        const json = {}, source = message;\n        for (const field of this.fields) {\n            // field is not part of a oneof, simply write as is\n            if (!field.oneof) {\n                let jsonValue = this.field(field, source[field.localName], options);\n                if (jsonValue !== undefined)\n                    json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;\n                continue;\n            }\n            // field is part of a oneof\n            const group = source[field.oneof];\n            if (group.oneofKind !== field.localName)\n                continue; // not selected, skip\n            const opt = field.kind == 'scalar' || field.kind == 'enum'\n                ? Object.assign(Object.assign({}, options), { emitDefaultValues: true }) : options;\n            let jsonValue = this.field(field, group[field.localName], opt);\n            assert(jsonValue !== undefined);\n            json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;\n        }\n        return json;\n    }\n    field(field, value, options) {\n        let jsonValue = undefined;\n        if (field.kind == 'map') {\n            assert(typeof value == \"object\" && value !== null);\n            const jsonObj = {};\n            switch (field.V.kind) {\n                case \"scalar\":\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        const val = this.scalar(field.V.T, entryValue, field.name, false, true);\n                        assert(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n                case \"message\":\n                    const messageType = field.V.T();\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        const val = this.message(messageType, entryValue, field.name, options);\n                        assert(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n                case \"enum\":\n                    const enumInfo = field.V.T();\n                    for (const [entryKey, entryValue] of Object.entries(value)) {\n                        assert(entryValue === undefined || typeof entryValue == 'number');\n                        const val = this.enum(enumInfo, entryValue, field.name, false, true, options.enumAsInteger);\n                        assert(val !== undefined);\n                        jsonObj[entryKey.toString()] = val; // JSON standard allows only (double quoted) string as property key\n                    }\n                    break;\n            }\n            if (options.emitDefaultValues || Object.keys(jsonObj).length > 0)\n                jsonValue = jsonObj;\n        }\n        else if (field.repeat) {\n            assert(Array.isArray(value));\n            const jsonArr = [];\n            switch (field.kind) {\n                case \"scalar\":\n                    for (let i = 0; i < value.length; i++) {\n                        const val = this.scalar(field.T, value[i], field.name, field.opt, true);\n                        assert(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n                case \"enum\":\n                    const enumInfo = field.T();\n                    for (let i = 0; i < value.length; i++) {\n                        assert(value[i] === undefined || typeof value[i] == 'number');\n                        const val = this.enum(enumInfo, value[i], field.name, field.opt, true, options.enumAsInteger);\n                        assert(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n                case \"message\":\n                    const messageType = field.T();\n                    for (let i = 0; i < value.length; i++) {\n                        const val = this.message(messageType, value[i], field.name, options);\n                        assert(val !== undefined);\n                        jsonArr.push(val);\n                    }\n                    break;\n            }\n            // add converted array to json output\n            if (options.emitDefaultValues || jsonArr.length > 0 || options.emitDefaultValues)\n                jsonValue = jsonArr;\n        }\n        else {\n            switch (field.kind) {\n                case \"scalar\":\n                    jsonValue = this.scalar(field.T, value, field.name, field.opt, options.emitDefaultValues);\n                    break;\n                case \"enum\":\n                    jsonValue = this.enum(field.T(), value, field.name, field.opt, options.emitDefaultValues, options.enumAsInteger);\n                    break;\n                case \"message\":\n                    jsonValue = this.message(field.T(), value, field.name, options);\n                    break;\n            }\n        }\n        return jsonValue;\n    }\n    /**\n     * Returns `null` for google.protobuf.NullValue.\n     */\n    enum(type, value, fieldName, optional, emitDefaultValues, enumAsInteger) {\n        if (type[0] == 'google.protobuf.NullValue')\n            return null;\n        if (value === undefined) {\n            assert(optional);\n            return undefined;\n        }\n        if (value === 0 && !emitDefaultValues && !optional)\n            // we require 0 to be default value for all enums\n            return undefined;\n        assert(typeof value == 'number');\n        assert(Number.isInteger(value));\n        if (enumAsInteger || !type[1].hasOwnProperty(value))\n            // if we don't now the enum value, just return the number\n            return value;\n        if (type[2])\n            // restore the dropped prefix\n            return type[2] + type[1][value];\n        return type[1][value];\n    }\n    message(type, value, fieldName, options) {\n        if (value === undefined)\n            return options.emitDefaultValues ? null : undefined;\n        return type.internalJsonWrite(value, options);\n    }\n    scalar(type, value, fieldName, optional, emitDefaultValues) {\n        if (value === undefined) {\n            assert(optional);\n            return undefined;\n        }\n        const ed = emitDefaultValues || optional;\n        // noinspection FallThroughInSwitchStatementJS\n        switch (type) {\n            // int32, fixed32, uint32: JSON value will be a decimal number. Either numbers or strings are accepted.\n            case ScalarType.INT32:\n            case ScalarType.SFIXED32:\n            case ScalarType.SINT32:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                assertInt32(value);\n                return value;\n            case ScalarType.FIXED32:\n            case ScalarType.UINT32:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                assertUInt32(value);\n                return value;\n            // float, double: JSON value will be a number or one of the special string values \"NaN\", \"Infinity\", and \"-Infinity\".\n            // Either numbers or strings are accepted. Exponent notation is also accepted.\n            case ScalarType.FLOAT:\n                assertFloat32(value);\n            case ScalarType.DOUBLE:\n                if (value === 0)\n                    return ed ? 0 : undefined;\n                assert(typeof value == 'number');\n                if (Number.isNaN(value))\n                    return 'NaN';\n                if (value === Number.POSITIVE_INFINITY)\n                    return 'Infinity';\n                if (value === Number.NEGATIVE_INFINITY)\n                    return '-Infinity';\n                return value;\n            // string:\n            case ScalarType.STRING:\n                if (value === \"\")\n                    return ed ? '' : undefined;\n                assert(typeof value == 'string');\n                return value;\n            // bool:\n            case ScalarType.BOOL:\n                if (value === false)\n                    return ed ? false : undefined;\n                assert(typeof value == 'boolean');\n                return value;\n            // JSON value will be a decimal string. Either numbers or strings are accepted.\n            case ScalarType.UINT64:\n            case ScalarType.FIXED64:\n                assert(typeof value == 'number' || typeof value == 'string' || typeof value == 'bigint');\n                let ulong = PbULong.from(value);\n                if (ulong.isZero() && !ed)\n                    return undefined;\n                return ulong.toString();\n            // JSON value will be a decimal string. Either numbers or strings are accepted.\n            case ScalarType.INT64:\n            case ScalarType.SFIXED64:\n            case ScalarType.SINT64:\n                assert(typeof value == 'number' || typeof value == 'string' || typeof value == 'bigint');\n                let long = PbLong.from(value);\n                if (long.isZero() && !ed)\n                    return undefined;\n                return long.toString();\n            // bytes: JSON value will be the data encoded as a string using standard base64 encoding with paddings.\n            // Either standard or URL-safe base64 encoding with/without paddings are accepted.\n            case ScalarType.BYTES:\n                assert(value instanceof Uint8Array);\n                if (!value.byteLength)\n                    return ed ? \"\" : undefined;\n                return base64encode(value);\n        }\n    }\n}\n","import { LongType, ScalarType } from \"./reflection-info\";\nimport { reflectionLongConvert } from \"./reflection-long-convert\";\nimport { PbLong, PbULong } from \"./pb-long\";\n/**\n * Creates the default value for a scalar type.\n */\nexport function reflectionScalarDefault(type, longType = LongType.STRING) {\n    switch (type) {\n        case ScalarType.BOOL:\n            return false;\n        case ScalarType.UINT64:\n        case ScalarType.FIXED64:\n            return reflectionLongConvert(PbULong.ZERO, longType);\n        case ScalarType.INT64:\n        case ScalarType.SFIXED64:\n        case ScalarType.SINT64:\n            return reflectionLongConvert(PbLong.ZERO, longType);\n        case ScalarType.DOUBLE:\n        case ScalarType.FLOAT:\n            return 0.0;\n        case ScalarType.BYTES:\n            return new Uint8Array(0);\n        case ScalarType.STRING:\n            return \"\";\n        default:\n            // case ScalarType.INT32:\n            // case ScalarType.UINT32:\n            // case ScalarType.SINT32:\n            // case ScalarType.FIXED32:\n            // case ScalarType.SFIXED32:\n            return 0;\n    }\n}\n","import { UnknownFieldHandler, WireType } from \"./binary-format-contract\";\nimport { LongType, ScalarType } from \"./reflection-info\";\nimport { reflectionLongConvert } from \"./reflection-long-convert\";\nimport { reflectionScalarDefault } from \"./reflection-scalar-default\";\n/**\n * Reads proto3 messages in binary format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/encoding\n */\nexport class ReflectionBinaryReader {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        var _a;\n        if (!this.fieldNoToField) {\n            const fieldsInput = (_a = this.info.fields) !== null && _a !== void 0 ? _a : [];\n            this.fieldNoToField = new Map(fieldsInput.map(field => [field.no, field]));\n        }\n    }\n    /**\n     * Reads a message from binary format into the target message.\n     *\n     * Repeated fields are appended. Map entries are added, overwriting\n     * existing keys.\n     *\n     * If a message field is already present, it will be merged with the\n     * new data.\n     */\n    read(reader, message, options, length) {\n        this.prepare();\n        const end = length === undefined ? reader.len : reader.pos + length;\n        while (reader.pos < end) {\n            // read the tag and find the field\n            const [fieldNo, wireType] = reader.tag(), field = this.fieldNoToField.get(fieldNo);\n            if (!field) {\n                let u = options.readUnknownField;\n                if (u == \"throw\")\n                    throw new Error(`Unknown field ${fieldNo} (wire type ${wireType}) for ${this.info.typeName}`);\n                let d = reader.skip(wireType);\n                if (u !== false)\n                    (u === true ? UnknownFieldHandler.onRead : u)(this.info.typeName, message, fieldNo, wireType, d);\n                continue;\n            }\n            // target object for the field we are reading\n            let target = message, repeated = field.repeat, localName = field.localName;\n            // if field is member of oneof ADT, use ADT as target\n            if (field.oneof) {\n                target = target[field.oneof];\n                // if other oneof member selected, set new ADT\n                if (target.oneofKind !== localName)\n                    target = message[field.oneof] = {\n                        oneofKind: localName\n                    };\n            }\n            // we have handled oneof above, we just have read the value into `target[localName]`\n            switch (field.kind) {\n                case \"scalar\":\n                case \"enum\":\n                    let T = field.kind == \"enum\" ? ScalarType.INT32 : field.T;\n                    let L = field.kind == \"scalar\" ? field.L : undefined;\n                    if (repeated) {\n                        let arr = target[localName]; // safe to assume presence of array, oneof cannot contain repeated values\n                        if (wireType == WireType.LengthDelimited && T != ScalarType.STRING && T != ScalarType.BYTES) {\n                            let e = reader.uint32() + reader.pos;\n                            while (reader.pos < e)\n                                arr.push(this.scalar(reader, T, L));\n                        }\n                        else\n                            arr.push(this.scalar(reader, T, L));\n                    }\n                    else\n                        target[localName] = this.scalar(reader, T, L);\n                    break;\n                case \"message\":\n                    if (repeated) {\n                        let arr = target[localName]; // safe to assume presence of array, oneof cannot contain repeated values\n                        let msg = field.T().internalBinaryRead(reader, reader.uint32(), options);\n                        arr.push(msg);\n                    }\n                    else\n                        target[localName] = field.T().internalBinaryRead(reader, reader.uint32(), options, target[localName]);\n                    break;\n                case \"map\":\n                    let [mapKey, mapVal] = this.mapEntry(field, reader, options);\n                    // safe to assume presence of map object, oneof cannot contain repeated values\n                    target[localName][mapKey] = mapVal;\n                    break;\n            }\n        }\n    }\n    /**\n     * Read a map field, expecting key field = 1, value field = 2\n     */\n    mapEntry(field, reader, options) {\n        let length = reader.uint32();\n        let end = reader.pos + length;\n        let key = undefined; // javascript only allows number or string for object properties\n        let val = undefined;\n        while (reader.pos < end) {\n            let [fieldNo, wireType] = reader.tag();\n            switch (fieldNo) {\n                case 1:\n                    if (field.K == ScalarType.BOOL)\n                        key = reader.bool().toString();\n                    else\n                        // long types are read as string, number types are okay as number\n                        key = this.scalar(reader, field.K, LongType.STRING);\n                    break;\n                case 2:\n                    switch (field.V.kind) {\n                        case \"scalar\":\n                            val = this.scalar(reader, field.V.T, field.V.L);\n                            break;\n                        case \"enum\":\n                            val = reader.int32();\n                            break;\n                        case \"message\":\n                            val = field.V.T().internalBinaryRead(reader, reader.uint32(), options);\n                            break;\n                    }\n                    break;\n                default:\n                    throw new Error(`Unknown field ${fieldNo} (wire type ${wireType}) in map entry for ${this.info.typeName}#${field.name}`);\n            }\n        }\n        if (key === undefined) {\n            let keyRaw = reflectionScalarDefault(field.K);\n            key = field.K == ScalarType.BOOL ? keyRaw.toString() : keyRaw;\n        }\n        if (val === undefined)\n            switch (field.V.kind) {\n                case \"scalar\":\n                    val = reflectionScalarDefault(field.V.T, field.V.L);\n                    break;\n                case \"enum\":\n                    val = 0;\n                    break;\n                case \"message\":\n                    val = field.V.T().create();\n                    break;\n            }\n        return [key, val];\n    }\n    scalar(reader, type, longType) {\n        switch (type) {\n            case ScalarType.INT32:\n                return reader.int32();\n            case ScalarType.STRING:\n                return reader.string();\n            case ScalarType.BOOL:\n                return reader.bool();\n            case ScalarType.DOUBLE:\n                return reader.double();\n            case ScalarType.FLOAT:\n                return reader.float();\n            case ScalarType.INT64:\n                return reflectionLongConvert(reader.int64(), longType);\n            case ScalarType.UINT64:\n                return reflectionLongConvert(reader.uint64(), longType);\n            case ScalarType.FIXED64:\n                return reflectionLongConvert(reader.fixed64(), longType);\n            case ScalarType.FIXED32:\n                return reader.fixed32();\n            case ScalarType.BYTES:\n                return reader.bytes();\n            case ScalarType.UINT32:\n                return reader.uint32();\n            case ScalarType.SFIXED32:\n                return reader.sfixed32();\n            case ScalarType.SFIXED64:\n                return reflectionLongConvert(reader.sfixed64(), longType);\n            case ScalarType.SINT32:\n                return reader.sint32();\n            case ScalarType.SINT64:\n                return reflectionLongConvert(reader.sint64(), longType);\n        }\n    }\n}\n","import { UnknownFieldHandler, WireType } from \"./binary-format-contract\";\nimport { RepeatType, ScalarType } from \"./reflection-info\";\nimport { assert } from \"./assert\";\nimport { PbLong, PbULong } from \"./pb-long\";\n/**\n * Writes proto3 messages in binary format using reflection information.\n *\n * https://developers.google.com/protocol-buffers/docs/encoding\n */\nexport class ReflectionBinaryWriter {\n    constructor(info) {\n        this.info = info;\n    }\n    prepare() {\n        if (!this.fields) {\n            const fieldsInput = this.info.fields ? this.info.fields.concat() : [];\n            this.fields = fieldsInput.sort((a, b) => a.no - b.no);\n        }\n    }\n    /**\n     * Writes the message to binary format.\n     */\n    write(message, writer, options) {\n        this.prepare();\n        for (const field of this.fields) {\n            let value, // this will be our field value, whether it is member of a oneof or not\n            emitDefault, // whether we emit the default value (only true for oneof members)\n            repeated = field.repeat, localName = field.localName;\n            // handle oneof ADT\n            if (field.oneof) {\n                const group = message[field.oneof];\n                if (group.oneofKind !== localName)\n                    continue; // if field is not selected, skip\n                value = group[localName];\n                emitDefault = true;\n            }\n            else {\n                value = message[localName];\n                emitDefault = false;\n            }\n            // we have handled oneof above. we just have to honor `emitDefault`.\n            switch (field.kind) {\n                case \"scalar\":\n                case \"enum\":\n                    let T = field.kind == \"enum\" ? ScalarType.INT32 : field.T;\n                    if (repeated) {\n                        assert(Array.isArray(value));\n                        if (repeated == RepeatType.PACKED)\n                            this.packed(writer, T, field.no, value);\n                        else\n                            for (const item of value)\n                                this.scalar(writer, T, field.no, item, true);\n                    }\n                    else if (value === undefined)\n                        assert(field.opt);\n                    else\n                        this.scalar(writer, T, field.no, value, emitDefault || field.opt);\n                    break;\n                case \"message\":\n                    if (repeated) {\n                        assert(Array.isArray(value));\n                        for (const item of value)\n                            this.message(writer, options, field.T(), field.no, item);\n                    }\n                    else {\n                        this.message(writer, options, field.T(), field.no, value);\n                    }\n                    break;\n                case \"map\":\n                    assert(typeof value == 'object' && value !== null);\n                    for (const [key, val] of Object.entries(value))\n                        this.mapEntry(writer, options, field, key, val);\n                    break;\n            }\n        }\n        let u = options.writeUnknownFields;\n        if (u !== false)\n            (u === true ? UnknownFieldHandler.onWrite : u)(this.info.typeName, message, writer);\n    }\n    mapEntry(writer, options, field, key, value) {\n        writer.tag(field.no, WireType.LengthDelimited);\n        writer.fork();\n        // javascript only allows number or string for object properties\n        // we convert from our representation to the protobuf type\n        let keyValue = key;\n        switch (field.K) {\n            case ScalarType.INT32:\n            case ScalarType.FIXED32:\n            case ScalarType.UINT32:\n            case ScalarType.SFIXED32:\n            case ScalarType.SINT32:\n                keyValue = Number.parseInt(key);\n                break;\n            case ScalarType.BOOL:\n                assert(key == 'true' || key == 'false');\n                keyValue = key == 'true';\n                break;\n        }\n        // write key, expecting key field number = 1\n        this.scalar(writer, field.K, 1, keyValue, true);\n        // write value, expecting value field number = 2\n        switch (field.V.kind) {\n            case 'scalar':\n                this.scalar(writer, field.V.T, 2, value, true);\n                break;\n            case 'enum':\n                this.scalar(writer, ScalarType.INT32, 2, value, true);\n                break;\n            case 'message':\n                this.message(writer, options, field.V.T(), 2, value);\n                break;\n        }\n        writer.join();\n    }\n    message(writer, options, handler, fieldNo, value) {\n        if (value === undefined)\n            return;\n        handler.internalBinaryWrite(value, writer.tag(fieldNo, WireType.LengthDelimited).fork(), options);\n        writer.join();\n    }\n    /**\n     * Write a single scalar value.\n     */\n    scalar(writer, type, fieldNo, value, emitDefault) {\n        let [wireType, method, isDefault] = this.scalarInfo(type, value);\n        if (!isDefault || emitDefault) {\n            writer.tag(fieldNo, wireType);\n            writer[method](value);\n        }\n    }\n    /**\n     * Write an array of scalar values in packed format.\n     */\n    packed(writer, type, fieldNo, value) {\n        if (!value.length)\n            return;\n        assert(type !== ScalarType.BYTES && type !== ScalarType.STRING);\n        // write tag\n        writer.tag(fieldNo, WireType.LengthDelimited);\n        // begin length-delimited\n        writer.fork();\n        // write values without tags\n        let [, method,] = this.scalarInfo(type);\n        for (let i = 0; i < value.length; i++)\n            writer[method](value[i]);\n        // end length delimited\n        writer.join();\n    }\n    /**\n     * Get information for writing a scalar value.\n     *\n     * Returns tuple:\n     * [0]: appropriate WireType\n     * [1]: name of the appropriate method of IBinaryWriter\n     * [2]: whether the given value is a default value\n     *\n     * If argument `value` is omitted, [2] is always false.\n     */\n    scalarInfo(type, value) {\n        let t = WireType.Varint;\n        let m;\n        let i = value === undefined;\n        let d = value === 0;\n        switch (type) {\n            case ScalarType.INT32:\n                m = \"int32\";\n                break;\n            case ScalarType.STRING:\n                d = i || !value.length;\n                t = WireType.LengthDelimited;\n                m = \"string\";\n                break;\n            case ScalarType.BOOL:\n                d = value === false;\n                m = \"bool\";\n                break;\n            case ScalarType.UINT32:\n                m = \"uint32\";\n                break;\n            case ScalarType.DOUBLE:\n                t = WireType.Bit64;\n                m = \"double\";\n                break;\n            case ScalarType.FLOAT:\n                t = WireType.Bit32;\n                m = \"float\";\n                break;\n            case ScalarType.INT64:\n                d = i || PbLong.from(value).isZero();\n                m = \"int64\";\n                break;\n            case ScalarType.UINT64:\n                d = i || PbULong.from(value).isZero();\n                m = \"uint64\";\n                break;\n            case ScalarType.FIXED64:\n                d = i || PbULong.from(value).isZero();\n                t = WireType.Bit64;\n                m = \"fixed64\";\n                break;\n            case ScalarType.BYTES:\n                d = i || !value.byteLength;\n                t = WireType.LengthDelimited;\n                m = \"bytes\";\n                break;\n            case ScalarType.FIXED32:\n                t = WireType.Bit32;\n                m = \"fixed32\";\n                break;\n            case ScalarType.SFIXED32:\n                t = WireType.Bit32;\n                m = \"sfixed32\";\n                break;\n            case ScalarType.SFIXED64:\n                d = i || PbLong.from(value).isZero();\n                t = WireType.Bit64;\n                m = \"sfixed64\";\n                break;\n            case ScalarType.SINT32:\n                m = \"sint32\";\n                break;\n            case ScalarType.SINT64:\n                d = i || PbLong.from(value).isZero();\n                m = \"sint64\";\n                break;\n        }\n        return [t, m, i || d];\n    }\n}\n","/**\n * Copy partial data into the target message.\n *\n * If a singular scalar or enum field is present in the source, it\n * replaces the field in the target.\n *\n * If a singular message field is present in the source, it is merged\n * with the target field by calling mergePartial() of the responsible\n * message type.\n *\n * If a repeated field is present in the source, its values replace\n * all values in the target array, removing extraneous values.\n * Repeated message fields are copied, not merged.\n *\n * If a map field is present in the source, entries are added to the\n * target map, replacing entries with the same key. Entries that only\n * exist in the target remain. Entries with message values are copied,\n * not merged.\n *\n * Note that this function differs from protobuf merge semantics,\n * which appends repeated fields.\n */\nexport function reflectionMergePartial(info, target, source) {\n    let fieldValue, // the field value we are working with\n    input = source, output; // where we want our field value to go\n    for (let field of info.fields) {\n        let name = field.localName;\n        if (field.oneof) {\n            const group = input[field.oneof]; // this is the oneof`s group in the source\n            if ((group === null || group === void 0 ? void 0 : group.oneofKind) == undefined) { // the user is free to omit\n                continue; // we skip this field, and all other members too\n            }\n            fieldValue = group[name]; // our value comes from the the oneof group of the source\n            output = target[field.oneof]; // and our output is the oneof group of the target\n            output.oneofKind = group.oneofKind; // always update discriminator\n            if (fieldValue == undefined) {\n                delete output[name]; // remove any existing value\n                continue; // skip further work on field\n            }\n        }\n        else {\n            fieldValue = input[name]; // we are using the source directly\n            output = target; // we want our field value to go directly into the target\n            if (fieldValue == undefined) {\n                continue; // skip further work on field, existing value is used as is\n            }\n        }\n        if (field.repeat)\n            output[name].length = fieldValue.length; // resize target array to match source array\n        // now we just work with `fieldValue` and `output` to merge the value\n        switch (field.kind) {\n            case \"scalar\":\n            case \"enum\":\n                if (field.repeat)\n                    for (let i = 0; i < fieldValue.length; i++)\n                        output[name][i] = fieldValue[i]; // not a reference type\n                else\n                    output[name] = fieldValue; // not a reference type\n                break;\n            case \"message\":\n                let T = field.T();\n                if (field.repeat)\n                    for (let i = 0; i < fieldValue.length; i++)\n                        output[name][i] = T.create(fieldValue[i]);\n                else if (output[name] === undefined)\n                    output[name] = T.create(fieldValue); // nothing to merge with\n                else\n                    T.mergePartial(output[name], fieldValue);\n                break;\n            case \"map\":\n                // Map and repeated fields are simply overwritten, not appended or merged\n                switch (field.V.kind) {\n                    case \"scalar\":\n                    case \"enum\":\n                        Object.assign(output[name], fieldValue); // elements are not reference types\n                        break;\n                    case \"message\":\n                        let T = field.V.T();\n                        for (let k of Object.keys(fieldValue))\n                            output[name][k] = T.create(fieldValue[k]);\n                        break;\n                }\n                break;\n        }\n    }\n}\n","import { ScalarType } from \"./reflection-info\";\n/**\n * Determines whether two message of the same type have the same field values.\n * Checks for deep equality, traversing repeated fields, oneof groups, maps\n * and messages recursively.\n * Will also return true if both messages are `undefined`.\n */\nexport function reflectionEquals(info, a, b) {\n    if (a === b)\n        return true;\n    if (!a || !b)\n        return false;\n    for (let field of info.fields) {\n        let localName = field.localName;\n        let val_a = field.oneof ? a[field.oneof][localName] : a[localName];\n        let val_b = field.oneof ? b[field.oneof][localName] : b[localName];\n        switch (field.kind) {\n            case \"enum\":\n            case \"scalar\":\n                let t = field.kind == \"enum\" ? ScalarType.INT32 : field.T;\n                if (!(field.repeat\n                    ? repeatedPrimitiveEq(t, val_a, val_b)\n                    : primitiveEq(t, val_a, val_b)))\n                    return false;\n                break;\n            case \"map\":\n                if (!(field.V.kind == \"message\"\n                    ? repeatedMsgEq(field.V.T(), objectValues(val_a), objectValues(val_b))\n                    : repeatedPrimitiveEq(field.V.kind == \"enum\" ? ScalarType.INT32 : field.V.T, objectValues(val_a), objectValues(val_b))))\n                    return false;\n                break;\n            case \"message\":\n                let T = field.T();\n                if (!(field.repeat\n                    ? repeatedMsgEq(T, val_a, val_b)\n                    : T.equals(val_a, val_b)))\n                    return false;\n                break;\n        }\n    }\n    return true;\n}\nconst objectValues = Object.values;\nfunction primitiveEq(type, a, b) {\n    if (a === b)\n        return true;\n    if (type !== ScalarType.BYTES)\n        return false;\n    let ba = a;\n    let bb = b;\n    if (ba.length !== bb.length)\n        return false;\n    for (let i = 0; i < ba.length; i++)\n        if (ba[i] != bb[i])\n            return false;\n    return true;\n}\nfunction repeatedPrimitiveEq(type, a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!primitiveEq(type, a[i], b[i]))\n            return false;\n    return true;\n}\nfunction repeatedMsgEq(type, a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!type.equals(a[i], b[i]))\n            return false;\n    return true;\n}\n","import { normalizeFieldInfo } from \"./reflection-info\";\nimport { ReflectionTypeCheck } from \"./reflection-type-check\";\nimport { ReflectionJsonReader } from \"./reflection-json-reader\";\nimport { ReflectionJsonWriter } from \"./reflection-json-writer\";\nimport { ReflectionBinaryReader } from \"./reflection-binary-reader\";\nimport { ReflectionBinaryWriter } from \"./reflection-binary-writer\";\nimport { reflectionCreate } from \"./reflection-create\";\nimport { reflectionMergePartial } from \"./reflection-merge-partial\";\nimport { typeofJsonValue } from \"./json-typings\";\nimport { jsonReadOptions, jsonWriteOptions, } from \"./json-format-contract\";\nimport { reflectionEquals } from \"./reflection-equals\";\nimport { binaryWriteOptions } from \"./binary-writer\";\nimport { binaryReadOptions } from \"./binary-reader\";\n/**\n * This standard message type provides reflection-based\n * operations to work with a message.\n */\nexport class MessageType {\n    constructor(name, fields, options) {\n        this.defaultCheckDepth = 16;\n        this.typeName = name;\n        this.fields = fields.map(normalizeFieldInfo);\n        this.options = options !== null && options !== void 0 ? options : {};\n        this.refTypeCheck = new ReflectionTypeCheck(this);\n        this.refJsonReader = new ReflectionJsonReader(this);\n        this.refJsonWriter = new ReflectionJsonWriter(this);\n        this.refBinReader = new ReflectionBinaryReader(this);\n        this.refBinWriter = new ReflectionBinaryWriter(this);\n    }\n    create(value) {\n        let message = reflectionCreate(this);\n        if (value !== undefined) {\n            reflectionMergePartial(this, message, value);\n        }\n        return message;\n    }\n    /**\n     * Clone the message.\n     *\n     * Unknown fields are discarded.\n     */\n    clone(message) {\n        let copy = this.create();\n        reflectionMergePartial(this, copy, message);\n        return copy;\n    }\n    /**\n     * Determines whether two message of the same type have the same field values.\n     * Checks for deep equality, traversing repeated fields, oneof groups, maps\n     * and messages recursively.\n     * Will also return true if both messages are `undefined`.\n     */\n    equals(a, b) {\n        return reflectionEquals(this, a, b);\n    }\n    /**\n     * Is the given value assignable to our message type\n     * and contains no [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?\n     */\n    is(arg, depth = this.defaultCheckDepth) {\n        return this.refTypeCheck.is(arg, depth, false);\n    }\n    /**\n     * Is the given value assignable to our message type,\n     * regardless of [excess properties](https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks)?\n     */\n    isAssignable(arg, depth = this.defaultCheckDepth) {\n        return this.refTypeCheck.is(arg, depth, true);\n    }\n    /**\n     * Copy partial data into the target message.\n     */\n    mergePartial(target, source) {\n        reflectionMergePartial(this, target, source);\n    }\n    /**\n     * Create a new message from binary format.\n     */\n    fromBinary(data, options) {\n        let opt = binaryReadOptions(options);\n        return this.internalBinaryRead(opt.readerFactory(data), data.byteLength, opt);\n    }\n    /**\n     * Read a new message from a JSON value.\n     */\n    fromJson(json, options) {\n        return this.internalJsonRead(json, jsonReadOptions(options));\n    }\n    /**\n     * Read a new message from a JSON string.\n     * This is equivalent to `T.fromJson(JSON.parse(json))`.\n     */\n    fromJsonString(json, options) {\n        let value = JSON.parse(json);\n        return this.fromJson(value, options);\n    }\n    /**\n     * Write the message to canonical JSON value.\n     */\n    toJson(message, options) {\n        return this.internalJsonWrite(message, jsonWriteOptions(options));\n    }\n    /**\n     * Convert the message to canonical JSON string.\n     * This is equivalent to `JSON.stringify(T.toJson(t))`\n     */\n    toJsonString(message, options) {\n        var _a;\n        let value = this.toJson(message, options);\n        return JSON.stringify(value, null, (_a = options === null || options === void 0 ? void 0 : options.prettySpaces) !== null && _a !== void 0 ? _a : 0);\n    }\n    /**\n     * Write the message to binary format.\n     */\n    toBinary(message, options) {\n        let opt = binaryWriteOptions(options);\n        return this.internalBinaryWrite(message, opt.writerFactory(), opt).finish();\n    }\n    /**\n     * This is an internal method. If you just want to read a message from\n     * JSON, use `fromJson()` or `fromJsonString()`.\n     *\n     * Reads JSON value and merges the fields into the target\n     * according to protobuf rules. If the target is omitted,\n     * a new instance is created first.\n     */\n    internalJsonRead(json, options, target) {\n        if (json !== null && typeof json == \"object\" && !Array.isArray(json)) {\n            let message = target !== null && target !== void 0 ? target : this.create();\n            this.refJsonReader.read(json, message, options);\n            return message;\n        }\n        throw new Error(`Unable to parse message ${this.typeName} from JSON ${typeofJsonValue(json)}.`);\n    }\n    /**\n     * This is an internal method. If you just want to write a message\n     * to JSON, use `toJson()` or `toJsonString().\n     *\n     * Writes JSON value and returns it.\n     */\n    internalJsonWrite(message, options) {\n        return this.refJsonWriter.write(message, options);\n    }\n    /**\n     * This is an internal method. If you just want to write a message\n     * in binary format, use `toBinary()`.\n     *\n     * Serializes the message in binary format and appends it to the given\n     * writer. Returns passed writer.\n     */\n    internalBinaryWrite(message, writer, options) {\n        this.refBinWriter.write(message, writer, options);\n        return writer;\n    }\n    /**\n     * This is an internal method. If you just want to read a message from\n     * binary data, use `fromBinary()`.\n     *\n     * Reads data from binary format and merges the fields into\n     * the target according to protobuf rules. If the target is\n     * omitted, a new instance is created first.\n     */\n    internalBinaryRead(reader, length, options, target) {\n        let message = target !== null && target !== void 0 ? target : this.create();\n        this.refBinReader.read(reader, message, options, length);\n        return message;\n    }\n}\n","import { reflectionScalarDefault } from \"./reflection-scalar-default\";\nimport { MESSAGE_TYPE } from './message-type-contract';\n/**\n * Creates an instance of the generic message, using the field\n * information.\n */\nexport function reflectionCreate(type) {\n    const msg = {};\n    Object.defineProperty(msg, MESSAGE_TYPE, { enumerable: false, value: type });\n    for (let field of type.fields) {\n        let name = field.localName;\n        if (field.opt)\n            continue;\n        if (field.oneof)\n            msg[field.oneof] = { oneofKind: undefined };\n        else if (field.repeat)\n            msg[name] = [];\n        else\n            switch (field.kind) {\n                case \"scalar\":\n                    msg[name] = reflectionScalarDefault(field.T, field.L);\n                    break;\n                case \"enum\":\n                    // we require 0 to be default value for all enums\n                    msg[name] = 0;\n                    break;\n                case \"map\":\n                    msg[name] = {};\n                    break;\n            }\n    }\n    return msg;\n}\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_account.proto\" (package \"db3_account_proto\", syntax proto3)\n// tslint:disable\nimport { MessageType } from \"@protobuf-ts/runtime\";\n/**\n *\n *\n *\n * @generated from protobuf message db3_account_proto.Account\n */\nexport interface Account {\n    /**\n     * @generated from protobuf field: uint64 bills = 1;\n     */\n    bills: string;\n    /**\n     * @generated from protobuf field: uint64 credits = 2;\n     */\n    credits: string;\n    /**\n     * @generated from protobuf field: uint64 total_storage_in_bytes = 3;\n     */\n    totalStorageInBytes: string;\n    /**\n     * @generated from protobuf field: uint64 total_mutation_count = 4;\n     */\n    totalMutationCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_session_count = 5;\n     */\n    totalSessionCount: string;\n    /**\n     * @generated from protobuf field: uint64 nonce = 6;\n     */\n    nonce: string;\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass Account$Type extends MessageType<Account> {\n    constructor() {\n        super(\"db3_account_proto.Account\", [\n            { no: 1, name: \"bills\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 2, name: \"credits\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 3, name: \"total_storage_in_bytes\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 4, name: \"total_mutation_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 5, name: \"total_session_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 6, name: \"nonce\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_account_proto.Account\n */\nexport const Account = new Account$Type();\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_database.proto\" (package \"db3_database_proto\", syntax proto3)\n// tslint:disable\n//\n//\n//\n// db3_database.proto\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//\nimport { MessageType } from \"@protobuf-ts/runtime\";\n/**\n *\n * the definition of database\n *\n *\n * @generated from protobuf message db3_database_proto.Database\n */\nexport interface Database {\n    /**\n     * @generated from protobuf field: bytes address = 1;\n     */\n    address: Uint8Array;\n    /**\n     * the owner of the Database\n     *\n     * @generated from protobuf field: bytes sender = 2;\n     */\n    sender: Uint8Array;\n    /**\n     * the history of database modification\n     *\n     * @generated from protobuf field: repeated bytes tx = 3;\n     */\n    tx: Uint8Array[];\n    /**\n     * @generated from protobuf field: map<string, db3_database_proto.Collection> collections = 4;\n     */\n    collections: {\n        [key: string]: Collection;\n    };\n}\n/**\n * @generated from protobuf message db3_database_proto.Collection\n */\nexport interface Collection {\n    /**\n     * @generated from protobuf field: bytes id = 1;\n     */\n    id: Uint8Array;\n    /**\n     * @generated from protobuf field: string name = 2;\n     */\n    name: string;\n    /**\n     * @generated from protobuf field: repeated db3_database_proto.Index index_list = 3;\n     */\n    indexList: Index[];\n}\n/**\n * @generated from protobuf message db3_database_proto.Document\n */\nexport interface Document {\n    /**\n     * @generated from protobuf field: bytes id = 1;\n     */\n    id: Uint8Array;\n    /**\n     * @generated from protobuf field: bytes doc = 2;\n     */\n    doc: Uint8Array;\n    /**\n     * @generated from protobuf field: bytes owner = 3;\n     */\n    owner: Uint8Array;\n    /**\n     * @generated from protobuf field: bytes tx_id = 4;\n     */\n    txId: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_database_proto.Index\n */\nexport interface Index {\n    /**\n     * Output only. A server defined name for this index.\n     * The form of this name for composite indexes will be:\n     * `projects/{project_id}/databases/{database_id}/collectionGroups/{collection_id}/indexes/{composite_index_id}`\n     * For single field indexes, this field will be empty.\n     *\n     * @generated from protobuf field: string name = 1;\n     */\n    name: string;\n    /**\n     * Id of the index filed in the collection\n     *\n     * @generated from protobuf field: uint32 id = 2;\n     */\n    id: number;\n    /**\n     * The fields supported by this index.\n     *\n     * For composite indexes, this is always 2 or more fields.\n     * The last field entry is always for the field path `__name__`. If, on\n     * creation, `__name__` was not specified as the last field, it will be added\n     * automatically with the same direction as that of the last field defined. If\n     * the final field in a composite index is not directional, the `__name__`\n     * will be ordered ASCENDING (unless explicitly specified).\n     *\n     * For single field indexes, this will always be exactly one entry with a\n     * field path equal to the field path of the associated field.\n     *\n     * @generated from protobuf field: repeated db3_database_proto.Index.IndexField fields = 3;\n     */\n    fields: Index_IndexField[];\n}\n/**\n * A field in an index.\n * The field_path describes which field is indexed, the value_mode describes\n * how the field value is indexed.\n *\n * @generated from protobuf message db3_database_proto.Index.IndexField\n */\nexport interface Index_IndexField {\n    /**\n     * Can be __name__.\n     * For single field indexes, this must match the name of the field or may\n     * be omitted.\n     *\n     * @generated from protobuf field: string field_path = 1;\n     */\n    fieldPath: string;\n    /**\n     * @generated from protobuf oneof: value_mode\n     */\n    valueMode: {\n        oneofKind: \"order\";\n        /**\n         * Indicates that this field supports ordering by the specified order or\n         * comparing using =, !=, <, <=, >, >=.\n         *\n         * @generated from protobuf field: db3_database_proto.Index.IndexField.Order order = 2;\n         */\n        order: Index_IndexField_Order;\n    } | {\n        oneofKind: \"arrayConfig\";\n        /**\n         * Indicates that this field supports operations on `array_value`s.\n         *\n         * @generated from protobuf field: db3_database_proto.Index.IndexField.ArrayConfig array_config = 3;\n         */\n        arrayConfig: Index_IndexField_ArrayConfig;\n    } | {\n        oneofKind: undefined;\n    };\n}\n/**\n * The supported orderings.\n *\n * @generated from protobuf enum db3_database_proto.Index.IndexField.Order\n */\nexport enum Index_IndexField_Order {\n    /**\n     * The ordering is unspecified. Not a valid option.\n     *\n     * @generated from protobuf enum value: ORDER_UNSPECIFIED = 0;\n     */\n    ORDER_UNSPECIFIED = 0,\n    /**\n     * The field is ordered by ascending field value.\n     *\n     * @generated from protobuf enum value: ASCENDING = 1;\n     */\n    ASCENDING = 1,\n    /**\n     * The field is ordered by descending field value.\n     *\n     * @generated from protobuf enum value: DESCENDING = 2;\n     */\n    DESCENDING = 2\n}\n/**\n * The supported array value configurations.\n *\n * @generated from protobuf enum db3_database_proto.Index.IndexField.ArrayConfig\n */\nexport enum Index_IndexField_ArrayConfig {\n    /**\n     * The index does not support additional array queries.\n     *\n     * @generated from protobuf enum value: ARRAY_CONFIG_UNSPECIFIED = 0;\n     */\n    ARRAY_CONFIG_UNSPECIFIED = 0,\n    /**\n     * The index supports array containment queries.\n     *\n     * @generated from protobuf enum value: CONTAINS = 1;\n     */\n    CONTAINS = 1\n}\n/**\n * The state of an index. During index creation, an index will be in the\n * `CREATING` state. If the index is created successfully, it will transition\n * to the `READY` state. If the index creation encounters a problem, the index\n * will transition to the `NEEDS_REPAIR` state.\n *\n * @generated from protobuf enum db3_database_proto.Index.State\n */\nexport enum Index_State {\n    /**\n     * The state is unspecified.\n     *\n     * @generated from protobuf enum value: STATE_UNSPECIFIED = 0;\n     */\n    STATE_UNSPECIFIED = 0,\n    /**\n     * The index is being created.\n     * There is an active long-running operation for the index.\n     * The index is updated when writing a document.\n     * Some index data may exist.\n     *\n     * @generated from protobuf enum value: CREATING = 1;\n     */\n    CREATING = 1,\n    /**\n     * The index is ready to be used.\n     * The index is updated when writing a document.\n     * The index is fully populated from all stored documents it applies to.\n     *\n     * @generated from protobuf enum value: READY = 2;\n     */\n    READY = 2,\n    /**\n     * The index was being created, but something went wrong.\n     * There is no active long-running operation for the index,\n     * and the most recently finished long-running operation failed.\n     * The index is not updated when writing a document.\n     * Some index data may exist.\n     * Use the google.longrunning.Operations API to determine why the operation\n     * that last attempted to create this index failed, then re-create the\n     * index.\n     *\n     * @generated from protobuf enum value: NEEDS_REPAIR = 3;\n     */\n    NEEDS_REPAIR = 3\n}\n/**\n * A Firestore query.\n *\n * @generated from protobuf message db3_database_proto.StructuredQuery\n */\nexport interface StructuredQuery {\n    /**\n     * The projection to return.\n     *\n     * @generated from protobuf field: db3_database_proto.StructuredQuery.Projection select = 1;\n     */\n    select?: StructuredQuery_Projection;\n    /**\n     * The collections to query.\n     * TODO: Will support repeated collection in the future\n     *\n     * @generated from protobuf field: string collection_name = 2;\n     */\n    collectionName: string;\n    /**\n     * The filter to apply.\n     *\n     * @generated from protobuf field: db3_database_proto.StructuredQuery.Filter where = 3;\n     */\n    where?: StructuredQuery_Filter;\n    /**\n     * The maximum number of results to return.\n     *\n     * Applies after all other constraints.\n     *\n     * Requires:\n     *\n     * * The value must be greater than or equal to zero if specified.\n     *\n     * @generated from protobuf field: db3_database_proto.StructuredQuery.Limit limit = 5;\n     */\n    limit?: StructuredQuery_Limit;\n}\n/**\n * A filter.\n *\n * @generated from protobuf message db3_database_proto.StructuredQuery.Filter\n */\nexport interface StructuredQuery_Filter {\n    /**\n     * @generated from protobuf oneof: filter_type\n     */\n    filterType: {\n        oneofKind: \"fieldFilter\";\n        /**\n         * A filter on a document field.\n         *\n         * @generated from protobuf field: db3_database_proto.StructuredQuery.FieldFilter field_filter = 1;\n         */\n        fieldFilter: StructuredQuery_FieldFilter; // A composite filter.\n        // TODO: Support in the future P2\n        // CompositeFilter composite_filter = 2;\n    } | {\n        oneofKind: undefined;\n    };\n}\n/**\n * A message that can hold any of the supported value types.\n *\n * @generated from protobuf message db3_database_proto.StructuredQuery.Value\n */\nexport interface StructuredQuery_Value {\n    /**\n     * @generated from protobuf oneof: value_type\n     */\n    valueType: {\n        oneofKind: \"booleanValue\";\n        /**\n         * A boolean value.\n         *\n         * @generated from protobuf field: bool boolean_value = 1;\n         */\n        booleanValue: boolean;\n    } | {\n        oneofKind: \"integerValue\";\n        /**\n         * An integer value.\n         *\n         * @generated from protobuf field: int64 integer_value = 2;\n         */\n        integerValue: string;\n    } | {\n        oneofKind: \"doubleValue\";\n        /**\n         * A double value.\n         *\n         * @generated from protobuf field: double double_value = 3;\n         */\n        doubleValue: number;\n    } | {\n        oneofKind: \"stringValue\";\n        // A timestamp value.\n        // \n        // Precise only to microseconds. When stored, any additional precision is\n        // rounded down.\n        // TODO: support P2\n        // google.protobuf.Timestamp timestamp_value = 10;\n\n        /**\n         * A string value.\n         *\n         * The string, represented as UTF-8, must not exceed 1 MiB - 89 bytes.\n         * Only the first 1,500 bytes of the UTF-8 representation are considered by\n         * queries.\n         *\n         * @generated from protobuf field: string string_value = 17;\n         */\n        stringValue: string;\n    } | {\n        oneofKind: undefined;\n    };\n}\n/**\n * A filter on a specific field.\n *\n * @generated from protobuf message db3_database_proto.StructuredQuery.FieldFilter\n */\nexport interface StructuredQuery_FieldFilter {\n    /**\n     * The field to filter by.\n     *\n     * @generated from protobuf field: string field = 1;\n     */\n    field: string;\n    /**\n     * The operator to filter by.\n     *\n     * @generated from protobuf field: db3_database_proto.StructuredQuery.FieldFilter.Operator op = 2;\n     */\n    op: StructuredQuery_FieldFilter_Operator;\n    /**\n     * The bytes of Bson value to compare to.\n     *\n     * @generated from protobuf field: db3_database_proto.StructuredQuery.Value value = 3;\n     */\n    value?: StructuredQuery_Value;\n}\n/**\n * A field filter operator.\n *\n * @generated from protobuf enum db3_database_proto.StructuredQuery.FieldFilter.Operator\n */\nexport enum StructuredQuery_FieldFilter_Operator {\n    /**\n     * Unspecified. This value must not be used.\n     *\n     * @generated from protobuf enum value: OPERATOR_UNSPECIFIED = 0;\n     */\n    OPERATOR_UNSPECIFIED = 0,\n    /**\n     * The given `field` is less than the given `value`.\n     *\n     * Requires:\n     *\n     * * That `field` come first in `order_by`.\n     *\n     * @generated from protobuf enum value: LESS_THAN = 1;\n     */\n    LESS_THAN = 1,\n    /**\n     * The given `field` is less than or equal to the given `value`.\n     *\n     * Requires:\n     *\n     * * That `field` come first in `order_by`.\n     *\n     * @generated from protobuf enum value: LESS_THAN_OR_EQUAL = 2;\n     */\n    LESS_THAN_OR_EQUAL = 2,\n    /**\n     * The given `field` is greater than the given `value`.\n     *\n     * Requires:\n     *\n     * * That `field` come first in `order_by`.\n     *\n     * @generated from protobuf enum value: GREATER_THAN = 3;\n     */\n    GREATER_THAN = 3,\n    /**\n     * The given `field` is greater than or equal to the given `value`.\n     *\n     * Requires:\n     *\n     * * That `field` come first in `order_by`.\n     *\n     * @generated from protobuf enum value: GREATER_THAN_OR_EQUAL = 4;\n     */\n    GREATER_THAN_OR_EQUAL = 4,\n    /**\n     * The given `field` is equal to the given `value`.\n     *\n     * @generated from protobuf enum value: EQUAL = 5;\n     */\n    EQUAL = 5,\n    /**\n     * The given `field` is not equal to the given `value`.\n     *\n     * Requires:\n     *\n     * * No other `NOT_EQUAL`, `NOT_IN`, `IS_NOT_NULL`, or `IS_NOT_NAN`.\n     * * That `field` comes first in the `order_by`.\n     *\n     * @generated from protobuf enum value: NOT_EQUAL = 6;\n     */\n    NOT_EQUAL = 6,\n    /**\n     * The given `field` is an array that contains the given `value`.\n     *\n     * @generated from protobuf enum value: ARRAY_CONTAINS = 7;\n     */\n    ARRAY_CONTAINS = 7\n}\n/**\n * The projection of document's fields to return.\n *\n * @generated from protobuf message db3_database_proto.StructuredQuery.Projection\n */\nexport interface StructuredQuery_Projection {\n    /**\n     * The fields to return.\n     *\n     * If empty, all fields are returned.\n     *\n     * @generated from protobuf field: repeated string fields = 1;\n     */\n    fields: string[];\n}\n/**\n * @generated from protobuf message db3_database_proto.StructuredQuery.Limit\n */\nexport interface StructuredQuery_Limit {\n    /**\n     * @generated from protobuf field: int32 limit = 1;\n     */\n    limit: number;\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass Database$Type extends MessageType<Database> {\n    constructor() {\n        super(\"db3_database_proto.Database\", [\n            { no: 1, name: \"address\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"sender\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"tx\", kind: \"scalar\", repeat: 2 /*RepeatType.UNPACKED*/, T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"collections\", kind: \"map\", K: 9 /*ScalarType.STRING*/, V: { kind: \"message\", T: () => Collection } }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.Database\n */\nexport const Database = new Database$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Collection$Type extends MessageType<Collection> {\n    constructor() {\n        super(\"db3_database_proto.Collection\", [\n            { no: 1, name: \"id\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"name\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: \"index_list\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => Index }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.Collection\n */\nexport const Collection = new Collection$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Document$Type extends MessageType<Document> {\n    constructor() {\n        super(\"db3_database_proto.Document\", [\n            { no: 1, name: \"id\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"doc\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"owner\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"tx_id\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.Document\n */\nexport const Document = new Document$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Index$Type extends MessageType<Index> {\n    constructor() {\n        super(\"db3_database_proto.Index\", [\n            { no: 1, name: \"name\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"id\", kind: \"scalar\", T: 13 /*ScalarType.UINT32*/ },\n            { no: 3, name: \"fields\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => Index_IndexField }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.Index\n */\nexport const Index = new Index$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Index_IndexField$Type extends MessageType<Index_IndexField> {\n    constructor() {\n        super(\"db3_database_proto.Index.IndexField\", [\n            { no: 1, name: \"field_path\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"order\", kind: \"enum\", oneof: \"valueMode\", T: () => [\"db3_database_proto.Index.IndexField.Order\", Index_IndexField_Order] },\n            { no: 3, name: \"array_config\", kind: \"enum\", oneof: \"valueMode\", T: () => [\"db3_database_proto.Index.IndexField.ArrayConfig\", Index_IndexField_ArrayConfig] }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.Index.IndexField\n */\nexport const Index_IndexField = new Index_IndexField$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StructuredQuery$Type extends MessageType<StructuredQuery> {\n    constructor() {\n        super(\"db3_database_proto.StructuredQuery\", [\n            { no: 1, name: \"select\", kind: \"message\", T: () => StructuredQuery_Projection },\n            { no: 2, name: \"collection_name\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: \"where\", kind: \"message\", T: () => StructuredQuery_Filter },\n            { no: 5, name: \"limit\", kind: \"message\", T: () => StructuredQuery_Limit }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.StructuredQuery\n */\nexport const StructuredQuery = new StructuredQuery$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StructuredQuery_Filter$Type extends MessageType<StructuredQuery_Filter> {\n    constructor() {\n        super(\"db3_database_proto.StructuredQuery.Filter\", [\n            { no: 1, name: \"field_filter\", kind: \"message\", oneof: \"filterType\", T: () => StructuredQuery_FieldFilter }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.StructuredQuery.Filter\n */\nexport const StructuredQuery_Filter = new StructuredQuery_Filter$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StructuredQuery_Value$Type extends MessageType<StructuredQuery_Value> {\n    constructor() {\n        super(\"db3_database_proto.StructuredQuery.Value\", [\n            { no: 1, name: \"boolean_value\", kind: \"scalar\", oneof: \"valueType\", T: 8 /*ScalarType.BOOL*/ },\n            { no: 2, name: \"integer_value\", kind: \"scalar\", oneof: \"valueType\", T: 3 /*ScalarType.INT64*/ },\n            { no: 3, name: \"double_value\", kind: \"scalar\", oneof: \"valueType\", T: 1 /*ScalarType.DOUBLE*/ },\n            { no: 17, name: \"string_value\", kind: \"scalar\", oneof: \"valueType\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.StructuredQuery.Value\n */\nexport const StructuredQuery_Value = new StructuredQuery_Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StructuredQuery_FieldFilter$Type extends MessageType<StructuredQuery_FieldFilter> {\n    constructor() {\n        super(\"db3_database_proto.StructuredQuery.FieldFilter\", [\n            { no: 1, name: \"field\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"op\", kind: \"enum\", T: () => [\"db3_database_proto.StructuredQuery.FieldFilter.Operator\", StructuredQuery_FieldFilter_Operator] },\n            { no: 3, name: \"value\", kind: \"message\", T: () => StructuredQuery_Value }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.StructuredQuery.FieldFilter\n */\nexport const StructuredQuery_FieldFilter = new StructuredQuery_FieldFilter$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StructuredQuery_Projection$Type extends MessageType<StructuredQuery_Projection> {\n    constructor() {\n        super(\"db3_database_proto.StructuredQuery.Projection\", [\n            { no: 1, name: \"fields\", kind: \"scalar\", repeat: 2 /*RepeatType.UNPACKED*/, T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.StructuredQuery.Projection\n */\nexport const StructuredQuery_Projection = new StructuredQuery_Projection$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StructuredQuery_Limit$Type extends MessageType<StructuredQuery_Limit> {\n    constructor() {\n        super(\"db3_database_proto.StructuredQuery.Limit\", [\n            { no: 1, name: \"limit\", kind: \"scalar\", T: 5 /*ScalarType.INT32*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_database_proto.StructuredQuery.Limit\n */\nexport const StructuredQuery_Limit = new StructuredQuery_Limit$Type();\n","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","//\n// publickey.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nexport type SignatureScheme = 'ED25519' | 'Secp256k1'\n\nexport type PublicKeyInitData = string | Uint8Array | Iterable<number>\n\nexport const SIGNATURE_SCHEME_TO_FLAG = {\n    ED25519: 0x00,\n    Secp256k1: 0x01,\n}\n\n/**\n * A public key\n */\nexport interface PublicKey {\n    /**\n     * Checks if two public keys are equal\n     */\n    equals(publicKey: PublicKey): boolean\n\n    /**\n     * Return the base-64 representation of the public key\n     */\n    toBase64(): string\n\n    /**\n     * Return the byte array representation of the public key\n     */\n    toBytes(): Uint8Array\n\n    /**\n     * Return the db3 address associated with this public key\n     */\n    toAddress(): string\n}\n\nexport function bytesEqual(a: Uint8Array, b: Uint8Array) {\n    if (a === b) return true\n\n    if (a.length !== b.length) {\n        return false\n    }\n\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n            return false\n        }\n    }\n    return true\n}\n","/**\n * [js-sha3]{@link https://github.com/emn178/js-sha3}\n *\n * @version 0.8.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2015-2018\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var INPUT_ERROR = 'input is invalid type';\n  var FINALIZE_ERROR = 'finalize already called';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA3_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA3_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA3_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var SHAKE_PADDING = [31, 7936, 2031616, 520093696];\n  var CSHAKE_PADDING = [4, 1024, 262144, 67108864];\n  var KECCAK_PADDING = [1, 256, 65536, 16777216];\n  var PADDING = [6, 1536, 393216, 100663296];\n  var SHIFT = [0, 8, 16, 24];\n  var RC = [1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0, 2147483649,\n    0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136, 0, 2147516425, 0,\n    2147483658, 0, 2147516555, 0, 139, 2147483648, 32905, 2147483648, 32771,\n    2147483648, 32770, 2147483648, 128, 2147483648, 32778, 0, 2147483658, 2147483648,\n    2147516545, 2147483648, 32896, 2147483648, 2147483649, 0, 2147516424, 2147483648];\n  var BITS = [224, 256, 384, 512];\n  var SHAKE_BITS = [128, 256];\n  var OUTPUT_TYPES = ['hex', 'buffer', 'arrayBuffer', 'array', 'digest'];\n  var CSHAKE_BYTEPAD = {\n    '128': 168,\n    '256': 136\n  };\n\n  if (root.JS_SHA3_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (bits, padding, outputType) {\n    return function (message) {\n      return new Keccak(bits, padding, bits).update(message)[outputType]();\n    };\n  };\n\n  var createShakeOutputMethod = function (bits, padding, outputType) {\n    return function (message, outputBits) {\n      return new Keccak(bits, padding, outputBits).update(message)[outputType]();\n    };\n  };\n\n  var createCshakeOutputMethod = function (bits, padding, outputType) {\n    return function (message, outputBits, n, s) {\n      return methods['cshake' + bits].update(message, outputBits, n, s)[outputType]();\n    };\n  };\n\n  var createKmacOutputMethod = function (bits, padding, outputType) {\n    return function (key, message, outputBits, s) {\n      return methods['kmac' + bits].update(key, message, outputBits, s)[outputType]();\n    };\n  };\n\n  var createOutputMethods = function (method, createMethod, bits, padding) {\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createMethod(bits, padding, type);\n    }\n    return method;\n  };\n\n  var createMethod = function (bits, padding) {\n    var method = createOutputMethod(bits, padding, 'hex');\n    method.create = function () {\n      return new Keccak(bits, padding, bits);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    return createOutputMethods(method, createOutputMethod, bits, padding);\n  };\n\n  var createShakeMethod = function (bits, padding) {\n    var method = createShakeOutputMethod(bits, padding, 'hex');\n    method.create = function (outputBits) {\n      return new Keccak(bits, padding, outputBits);\n    };\n    method.update = function (message, outputBits) {\n      return method.create(outputBits).update(message);\n    };\n    return createOutputMethods(method, createShakeOutputMethod, bits, padding);\n  };\n\n  var createCshakeMethod = function (bits, padding) {\n    var w = CSHAKE_BYTEPAD[bits];\n    var method = createCshakeOutputMethod(bits, padding, 'hex');\n    method.create = function (outputBits, n, s) {\n      if (!n && !s) {\n        return methods['shake' + bits].create(outputBits);\n      } else {\n        return new Keccak(bits, padding, outputBits).bytepad([n, s], w);\n      }\n    };\n    method.update = function (message, outputBits, n, s) {\n      return method.create(outputBits, n, s).update(message);\n    };\n    return createOutputMethods(method, createCshakeOutputMethod, bits, padding);\n  };\n\n  var createKmacMethod = function (bits, padding) {\n    var w = CSHAKE_BYTEPAD[bits];\n    var method = createKmacOutputMethod(bits, padding, 'hex');\n    method.create = function (key, outputBits, s) {\n      return new Kmac(bits, padding, outputBits).bytepad(['KMAC', s], w).bytepad([key], w);\n    };\n    method.update = function (key, message, outputBits, s) {\n      return method.create(key, outputBits, s).update(message);\n    };\n    return createOutputMethods(method, createKmacOutputMethod, bits, padding);\n  };\n\n  var algorithms = [\n    { name: 'keccak', padding: KECCAK_PADDING, bits: BITS, createMethod: createMethod },\n    { name: 'sha3', padding: PADDING, bits: BITS, createMethod: createMethod },\n    { name: 'shake', padding: SHAKE_PADDING, bits: SHAKE_BITS, createMethod: createShakeMethod },\n    { name: 'cshake', padding: CSHAKE_PADDING, bits: SHAKE_BITS, createMethod: createCshakeMethod },\n    { name: 'kmac', padding: CSHAKE_PADDING, bits: SHAKE_BITS, createMethod: createKmacMethod }\n  ];\n\n  var methods = {}, methodNames = [];\n\n  for (var i = 0; i < algorithms.length; ++i) {\n    var algorithm = algorithms[i];\n    var bits = algorithm.bits;\n    for (var j = 0; j < bits.length; ++j) {\n      var methodName = algorithm.name + '_' + bits[j];\n      methodNames.push(methodName);\n      methods[methodName] = algorithm.createMethod(bits[j], algorithm.padding);\n      if (algorithm.name !== 'sha3') {\n        var newMethodName = algorithm.name + bits[j];\n        methodNames.push(newMethodName);\n        methods[newMethodName] = methods[methodName];\n      }\n    }\n  }\n\n  function Keccak(bits, padding, outputBits) {\n    this.blocks = [];\n    this.s = [];\n    this.padding = padding;\n    this.outputBits = outputBits;\n    this.reset = true;\n    this.finalized = false;\n    this.block = 0;\n    this.start = 0;\n    this.blockCount = (1600 - (bits << 1)) >> 5;\n    this.byteCount = this.blockCount << 2;\n    this.outputBlocks = outputBits >> 5;\n    this.extraBytes = (outputBits & 31) >> 3;\n\n    for (var i = 0; i < 50; ++i) {\n      this.s[i] = 0;\n    }\n  }\n\n  Keccak.prototype.update = function (message) {\n    if (this.finalized) {\n      throw new Error(FINALIZE_ERROR);\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(INPUT_ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(INPUT_ERROR);\n          }\n        }\n      } else {\n        throw new Error(INPUT_ERROR);\n      }\n      notString = true;\n    }\n    var blocks = this.blocks, byteCount = this.byteCount, length = message.length,\n      blockCount = this.blockCount, index = 0, s = this.s, i, code;\n\n    while (index < length) {\n      if (this.reset) {\n        this.reset = false;\n        blocks[0] = this.block;\n        for (i = 1; i < blockCount + 1; ++i) {\n          blocks[i] = 0;\n        }\n      }\n      if (notString) {\n        for (i = this.start; index < length && i < byteCount; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < byteCount; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n      this.lastByteIndex = i;\n      if (i >= byteCount) {\n        this.start = i - byteCount;\n        this.block = blocks[blockCount];\n        for (i = 0; i < blockCount; ++i) {\n          s[i] ^= blocks[i];\n        }\n        f(s);\n        this.reset = true;\n      } else {\n        this.start = i;\n      }\n    }\n    return this;\n  };\n\n  Keccak.prototype.encode = function (x, right) {\n    var o = x & 255, n = 1;\n    var bytes = [o];\n    x = x >> 8;\n    o = x & 255;\n    while (o > 0) {\n      bytes.unshift(o);\n      x = x >> 8;\n      o = x & 255;\n      ++n;\n    }\n    if (right) {\n      bytes.push(n);\n    } else {\n      bytes.unshift(n);\n    }\n    this.update(bytes);\n    return bytes.length;\n  };\n\n  Keccak.prototype.encodeString = function (str) {\n    var notString, type = typeof str;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (str === null) {\n          throw new Error(INPUT_ERROR);\n        } else if (ARRAY_BUFFER && str.constructor === ArrayBuffer) {\n          str = new Uint8Array(str);\n        } else if (!Array.isArray(str)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(str)) {\n            throw new Error(INPUT_ERROR);\n          }\n        }\n      } else {\n        throw new Error(INPUT_ERROR);\n      }\n      notString = true;\n    }\n    var bytes = 0, length = str.length;\n    if (notString) {\n      bytes = length;\n    } else {\n      for (var i = 0; i < str.length; ++i) {\n        var code = str.charCodeAt(i);\n        if (code < 0x80) {\n          bytes += 1;\n        } else if (code < 0x800) {\n          bytes += 2;\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes += 3;\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (str.charCodeAt(++i) & 0x3ff));\n          bytes += 4;\n        }\n      }\n    }\n    bytes += this.encode(bytes * 8);\n    this.update(str);\n    return bytes;\n  };\n\n  Keccak.prototype.bytepad = function (strs, w) {\n    var bytes = this.encode(w);\n    for (var i = 0; i < strs.length; ++i) {\n      bytes += this.encodeString(strs[i]);\n    }\n    var paddingBytes = w - bytes % w;\n    var zeros = [];\n    zeros.length = paddingBytes;\n    this.update(zeros);\n    return this;\n  };\n\n  Keccak.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex, blockCount = this.blockCount, s = this.s;\n    blocks[i >> 2] |= this.padding[i & 3];\n    if (this.lastByteIndex === this.byteCount) {\n      blocks[0] = blocks[blockCount];\n      for (i = 1; i < blockCount + 1; ++i) {\n        blocks[i] = 0;\n      }\n    }\n    blocks[blockCount - 1] |= 0x80000000;\n    for (i = 0; i < blockCount; ++i) {\n      s[i] ^= blocks[i];\n    }\n    f(s);\n  };\n\n  Keccak.prototype.toString = Keccak.prototype.hex = function () {\n    this.finalize();\n\n    var blockCount = this.blockCount, s = this.s, outputBlocks = this.outputBlocks,\n      extraBytes = this.extraBytes, i = 0, j = 0;\n    var hex = '', block;\n    while (j < outputBlocks) {\n      for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n        block = s[i];\n        hex += HEX_CHARS[(block >> 4) & 0x0F] + HEX_CHARS[block & 0x0F] +\n          HEX_CHARS[(block >> 12) & 0x0F] + HEX_CHARS[(block >> 8) & 0x0F] +\n          HEX_CHARS[(block >> 20) & 0x0F] + HEX_CHARS[(block >> 16) & 0x0F] +\n          HEX_CHARS[(block >> 28) & 0x0F] + HEX_CHARS[(block >> 24) & 0x0F];\n      }\n      if (j % blockCount === 0) {\n        f(s);\n        i = 0;\n      }\n    }\n    if (extraBytes) {\n      block = s[i];\n      hex += HEX_CHARS[(block >> 4) & 0x0F] + HEX_CHARS[block & 0x0F];\n      if (extraBytes > 1) {\n        hex += HEX_CHARS[(block >> 12) & 0x0F] + HEX_CHARS[(block >> 8) & 0x0F];\n      }\n      if (extraBytes > 2) {\n        hex += HEX_CHARS[(block >> 20) & 0x0F] + HEX_CHARS[(block >> 16) & 0x0F];\n      }\n    }\n    return hex;\n  };\n\n  Keccak.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var blockCount = this.blockCount, s = this.s, outputBlocks = this.outputBlocks,\n      extraBytes = this.extraBytes, i = 0, j = 0;\n    var bytes = this.outputBits >> 3;\n    var buffer;\n    if (extraBytes) {\n      buffer = new ArrayBuffer((outputBlocks + 1) << 2);\n    } else {\n      buffer = new ArrayBuffer(bytes);\n    }\n    var array = new Uint32Array(buffer);\n    while (j < outputBlocks) {\n      for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n        array[j] = s[i];\n      }\n      if (j % blockCount === 0) {\n        f(s);\n      }\n    }\n    if (extraBytes) {\n      array[i] = s[i];\n      buffer = buffer.slice(0, bytes);\n    }\n    return buffer;\n  };\n\n  Keccak.prototype.buffer = Keccak.prototype.arrayBuffer;\n\n  Keccak.prototype.digest = Keccak.prototype.array = function () {\n    this.finalize();\n\n    var blockCount = this.blockCount, s = this.s, outputBlocks = this.outputBlocks,\n      extraBytes = this.extraBytes, i = 0, j = 0;\n    var array = [], offset, block;\n    while (j < outputBlocks) {\n      for (i = 0; i < blockCount && j < outputBlocks; ++i, ++j) {\n        offset = j << 2;\n        block = s[i];\n        array[offset] = block & 0xFF;\n        array[offset + 1] = (block >> 8) & 0xFF;\n        array[offset + 2] = (block >> 16) & 0xFF;\n        array[offset + 3] = (block >> 24) & 0xFF;\n      }\n      if (j % blockCount === 0) {\n        f(s);\n      }\n    }\n    if (extraBytes) {\n      offset = j << 2;\n      block = s[i];\n      array[offset] = block & 0xFF;\n      if (extraBytes > 1) {\n        array[offset + 1] = (block >> 8) & 0xFF;\n      }\n      if (extraBytes > 2) {\n        array[offset + 2] = (block >> 16) & 0xFF;\n      }\n    }\n    return array;\n  };\n\n  function Kmac(bits, padding, outputBits) {\n    Keccak.call(this, bits, padding, outputBits);\n  }\n\n  Kmac.prototype = new Keccak();\n\n  Kmac.prototype.finalize = function () {\n    this.encode(this.outputBits, true);\n    return Keccak.prototype.finalize.call(this);\n  };\n\n  var f = function (s) {\n    var h, l, n, c0, c1, c2, c3, c4, c5, c6, c7, c8, c9,\n      b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13, b14, b15, b16, b17,\n      b18, b19, b20, b21, b22, b23, b24, b25, b26, b27, b28, b29, b30, b31, b32, b33,\n      b34, b35, b36, b37, b38, b39, b40, b41, b42, b43, b44, b45, b46, b47, b48, b49;\n    for (n = 0; n < 48; n += 2) {\n      c0 = s[0] ^ s[10] ^ s[20] ^ s[30] ^ s[40];\n      c1 = s[1] ^ s[11] ^ s[21] ^ s[31] ^ s[41];\n      c2 = s[2] ^ s[12] ^ s[22] ^ s[32] ^ s[42];\n      c3 = s[3] ^ s[13] ^ s[23] ^ s[33] ^ s[43];\n      c4 = s[4] ^ s[14] ^ s[24] ^ s[34] ^ s[44];\n      c5 = s[5] ^ s[15] ^ s[25] ^ s[35] ^ s[45];\n      c6 = s[6] ^ s[16] ^ s[26] ^ s[36] ^ s[46];\n      c7 = s[7] ^ s[17] ^ s[27] ^ s[37] ^ s[47];\n      c8 = s[8] ^ s[18] ^ s[28] ^ s[38] ^ s[48];\n      c9 = s[9] ^ s[19] ^ s[29] ^ s[39] ^ s[49];\n\n      h = c8 ^ ((c2 << 1) | (c3 >>> 31));\n      l = c9 ^ ((c3 << 1) | (c2 >>> 31));\n      s[0] ^= h;\n      s[1] ^= l;\n      s[10] ^= h;\n      s[11] ^= l;\n      s[20] ^= h;\n      s[21] ^= l;\n      s[30] ^= h;\n      s[31] ^= l;\n      s[40] ^= h;\n      s[41] ^= l;\n      h = c0 ^ ((c4 << 1) | (c5 >>> 31));\n      l = c1 ^ ((c5 << 1) | (c4 >>> 31));\n      s[2] ^= h;\n      s[3] ^= l;\n      s[12] ^= h;\n      s[13] ^= l;\n      s[22] ^= h;\n      s[23] ^= l;\n      s[32] ^= h;\n      s[33] ^= l;\n      s[42] ^= h;\n      s[43] ^= l;\n      h = c2 ^ ((c6 << 1) | (c7 >>> 31));\n      l = c3 ^ ((c7 << 1) | (c6 >>> 31));\n      s[4] ^= h;\n      s[5] ^= l;\n      s[14] ^= h;\n      s[15] ^= l;\n      s[24] ^= h;\n      s[25] ^= l;\n      s[34] ^= h;\n      s[35] ^= l;\n      s[44] ^= h;\n      s[45] ^= l;\n      h = c4 ^ ((c8 << 1) | (c9 >>> 31));\n      l = c5 ^ ((c9 << 1) | (c8 >>> 31));\n      s[6] ^= h;\n      s[7] ^= l;\n      s[16] ^= h;\n      s[17] ^= l;\n      s[26] ^= h;\n      s[27] ^= l;\n      s[36] ^= h;\n      s[37] ^= l;\n      s[46] ^= h;\n      s[47] ^= l;\n      h = c6 ^ ((c0 << 1) | (c1 >>> 31));\n      l = c7 ^ ((c1 << 1) | (c0 >>> 31));\n      s[8] ^= h;\n      s[9] ^= l;\n      s[18] ^= h;\n      s[19] ^= l;\n      s[28] ^= h;\n      s[29] ^= l;\n      s[38] ^= h;\n      s[39] ^= l;\n      s[48] ^= h;\n      s[49] ^= l;\n\n      b0 = s[0];\n      b1 = s[1];\n      b32 = (s[11] << 4) | (s[10] >>> 28);\n      b33 = (s[10] << 4) | (s[11] >>> 28);\n      b14 = (s[20] << 3) | (s[21] >>> 29);\n      b15 = (s[21] << 3) | (s[20] >>> 29);\n      b46 = (s[31] << 9) | (s[30] >>> 23);\n      b47 = (s[30] << 9) | (s[31] >>> 23);\n      b28 = (s[40] << 18) | (s[41] >>> 14);\n      b29 = (s[41] << 18) | (s[40] >>> 14);\n      b20 = (s[2] << 1) | (s[3] >>> 31);\n      b21 = (s[3] << 1) | (s[2] >>> 31);\n      b2 = (s[13] << 12) | (s[12] >>> 20);\n      b3 = (s[12] << 12) | (s[13] >>> 20);\n      b34 = (s[22] << 10) | (s[23] >>> 22);\n      b35 = (s[23] << 10) | (s[22] >>> 22);\n      b16 = (s[33] << 13) | (s[32] >>> 19);\n      b17 = (s[32] << 13) | (s[33] >>> 19);\n      b48 = (s[42] << 2) | (s[43] >>> 30);\n      b49 = (s[43] << 2) | (s[42] >>> 30);\n      b40 = (s[5] << 30) | (s[4] >>> 2);\n      b41 = (s[4] << 30) | (s[5] >>> 2);\n      b22 = (s[14] << 6) | (s[15] >>> 26);\n      b23 = (s[15] << 6) | (s[14] >>> 26);\n      b4 = (s[25] << 11) | (s[24] >>> 21);\n      b5 = (s[24] << 11) | (s[25] >>> 21);\n      b36 = (s[34] << 15) | (s[35] >>> 17);\n      b37 = (s[35] << 15) | (s[34] >>> 17);\n      b18 = (s[45] << 29) | (s[44] >>> 3);\n      b19 = (s[44] << 29) | (s[45] >>> 3);\n      b10 = (s[6] << 28) | (s[7] >>> 4);\n      b11 = (s[7] << 28) | (s[6] >>> 4);\n      b42 = (s[17] << 23) | (s[16] >>> 9);\n      b43 = (s[16] << 23) | (s[17] >>> 9);\n      b24 = (s[26] << 25) | (s[27] >>> 7);\n      b25 = (s[27] << 25) | (s[26] >>> 7);\n      b6 = (s[36] << 21) | (s[37] >>> 11);\n      b7 = (s[37] << 21) | (s[36] >>> 11);\n      b38 = (s[47] << 24) | (s[46] >>> 8);\n      b39 = (s[46] << 24) | (s[47] >>> 8);\n      b30 = (s[8] << 27) | (s[9] >>> 5);\n      b31 = (s[9] << 27) | (s[8] >>> 5);\n      b12 = (s[18] << 20) | (s[19] >>> 12);\n      b13 = (s[19] << 20) | (s[18] >>> 12);\n      b44 = (s[29] << 7) | (s[28] >>> 25);\n      b45 = (s[28] << 7) | (s[29] >>> 25);\n      b26 = (s[38] << 8) | (s[39] >>> 24);\n      b27 = (s[39] << 8) | (s[38] >>> 24);\n      b8 = (s[48] << 14) | (s[49] >>> 18);\n      b9 = (s[49] << 14) | (s[48] >>> 18);\n\n      s[0] = b0 ^ (~b2 & b4);\n      s[1] = b1 ^ (~b3 & b5);\n      s[10] = b10 ^ (~b12 & b14);\n      s[11] = b11 ^ (~b13 & b15);\n      s[20] = b20 ^ (~b22 & b24);\n      s[21] = b21 ^ (~b23 & b25);\n      s[30] = b30 ^ (~b32 & b34);\n      s[31] = b31 ^ (~b33 & b35);\n      s[40] = b40 ^ (~b42 & b44);\n      s[41] = b41 ^ (~b43 & b45);\n      s[2] = b2 ^ (~b4 & b6);\n      s[3] = b3 ^ (~b5 & b7);\n      s[12] = b12 ^ (~b14 & b16);\n      s[13] = b13 ^ (~b15 & b17);\n      s[22] = b22 ^ (~b24 & b26);\n      s[23] = b23 ^ (~b25 & b27);\n      s[32] = b32 ^ (~b34 & b36);\n      s[33] = b33 ^ (~b35 & b37);\n      s[42] = b42 ^ (~b44 & b46);\n      s[43] = b43 ^ (~b45 & b47);\n      s[4] = b4 ^ (~b6 & b8);\n      s[5] = b5 ^ (~b7 & b9);\n      s[14] = b14 ^ (~b16 & b18);\n      s[15] = b15 ^ (~b17 & b19);\n      s[24] = b24 ^ (~b26 & b28);\n      s[25] = b25 ^ (~b27 & b29);\n      s[34] = b34 ^ (~b36 & b38);\n      s[35] = b35 ^ (~b37 & b39);\n      s[44] = b44 ^ (~b46 & b48);\n      s[45] = b45 ^ (~b47 & b49);\n      s[6] = b6 ^ (~b8 & b0);\n      s[7] = b7 ^ (~b9 & b1);\n      s[16] = b16 ^ (~b18 & b10);\n      s[17] = b17 ^ (~b19 & b11);\n      s[26] = b26 ^ (~b28 & b20);\n      s[27] = b27 ^ (~b29 & b21);\n      s[36] = b36 ^ (~b38 & b30);\n      s[37] = b37 ^ (~b39 & b31);\n      s[46] = b46 ^ (~b48 & b40);\n      s[47] = b47 ^ (~b49 & b41);\n      s[8] = b8 ^ (~b0 & b2);\n      s[9] = b9 ^ (~b1 & b3);\n      s[18] = b18 ^ (~b10 & b12);\n      s[19] = b19 ^ (~b11 & b13);\n      s[28] = b28 ^ (~b20 & b22);\n      s[29] = b29 ^ (~b21 & b23);\n      s[38] = b38 ^ (~b30 & b32);\n      s[39] = b39 ^ (~b31 & b33);\n      s[48] = b48 ^ (~b40 & b42);\n      s[49] = b49 ^ (~b41 & b43);\n\n      s[0] ^= RC[n];\n      s[1] ^= RC[n + 1];\n    }\n  };\n\n  if (COMMON_JS) {\n    module.exports = methods;\n  } else {\n    for (i = 0; i < methodNames.length; ++i) {\n      root[methodNames[i]] = methods[methodNames[i]];\n    }\n    if (AMD) {\n      define(function () {\n        return methods;\n      });\n    }\n  }\n})();\n","export function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nexport function bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nexport function bytes(b, ...lengths) {\n    if (!(b instanceof Uint8Array))\n        throw new TypeError('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nexport function hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nexport function exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nexport function output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nconst assert = {\n    number,\n    bool,\n    bytes,\n    hash,\n    exists,\n    output,\n};\nexport default assert;\n//# sourceMappingURL=_assert.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// The import here is via the package name. This is to ensure\n// that exports mapping/resolution does fall into place.\nimport { crypto } from '@noble/hashes/crypto';\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\n// There is almost no big endian hardware, but js typed arrays uses platform specific endianness.\n// So, just to be sure not to corrupt anything.\nif (!isLE)\n    throw new Error('Non little-endian hardware is not supported');\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xde, 0xad, 0xbe, 0xef]))\n */\nexport function bytesToHex(uint8a) {\n    // pre-caching improves the speed 6x\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Uint8Array expected');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\n/**\n * @example hexToBytes('deadbeef')\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex');\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow. However, call to async function will return Promise\n// which will be fullfiled only on next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string') {\n        throw new TypeError(`utf8ToBytes expected string, got ${typeof str}`);\n    }\n    return new TextEncoder().encode(str);\n}\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!(data instanceof Uint8Array))\n        throw new TypeError(`Expected input type is Uint8Array (got ${typeof data})`);\n    return data;\n}\n/**\n * Concats Uint8Array-s into one; like `Buffer.concat([buf1, buf2])`\n * @example concatBytes(buf1, buf2)\n */\nexport function concatBytes(...arrays) {\n    if (!arrays.every((a) => a instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nconst isPlainObject = (obj) => Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts)))\n        throw new TypeError('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashConstructor) {\n    const hashC = (message) => hashConstructor().update(toBytes(message)).digest();\n    const tmp = hashConstructor();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashConstructor();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto.web) {\n        return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n    }\n    else if (crypto.node) {\n        return new Uint8Array(crypto.node.randomBytes(bytesLength).buffer);\n    }\n    else {\n        throw new Error(\"The environment doesn't have randomBytes function\");\n    }\n}\n//# sourceMappingURL=utils.js.map","import assert from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport class SHA2 extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        assert.exists(this);\n        const { view, buffer, blockLen } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        assert.exists(this);\n        assert.output(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\n//# sourceMappingURL=_sha2.js.map","const U32_MASK64 = BigInt(2 ** 32 - 1);\nconst _32n = BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nexport function fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nexport function split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nexport const toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h, l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (h, l) => l;\nconst rotr32L = (h, l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\n// Removing \"export\" has 5% perf penalty -_-\nexport function add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n//# sourceMappingURL=_u64.js.map","import { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n)));\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = new Uint32Array(80);\nconst SHA512_W_L = new Uint32Array(80);\nexport class SHA512 extends SHA2 {\n    constructor() {\n        super(128, 64, 16, false);\n        // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n        // Also looks cleaner and easier to verify with spec.\n        // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x6a09e667 | 0;\n        this.Al = 0xf3bcc908 | 0;\n        this.Bh = 0xbb67ae85 | 0;\n        this.Bl = 0x84caa73b | 0;\n        this.Ch = 0x3c6ef372 | 0;\n        this.Cl = 0xfe94f82b | 0;\n        this.Dh = 0xa54ff53a | 0;\n        this.Dl = 0x5f1d36f1 | 0;\n        this.Eh = 0x510e527f | 0;\n        this.El = 0xade682d1 | 0;\n        this.Fh = 0x9b05688c | 0;\n        this.Fl = 0x2b3e6c1f | 0;\n        this.Gh = 0x1f83d9ab | 0;\n        this.Gl = 0xfb41bd6b | 0;\n        this.Hh = 0x5be0cd19 | 0;\n        this.Hl = 0x137e2179 | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        SHA512_W_H.fill(0);\n        SHA512_W_L.fill(0);\n    }\n    destroy() {\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nclass SHA512_224 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x8c3d37c8 | 0;\n        this.Al = 0x19544da2 | 0;\n        this.Bh = 0x73e19966 | 0;\n        this.Bl = 0x89dcd4d6 | 0;\n        this.Ch = 0x1dfab7ae | 0;\n        this.Cl = 0x32ff9c82 | 0;\n        this.Dh = 0x679dd514 | 0;\n        this.Dl = 0x582f9fcf | 0;\n        this.Eh = 0x0f6d2b69 | 0;\n        this.El = 0x7bd44da8 | 0;\n        this.Fh = 0x77e36f73 | 0;\n        this.Fl = 0x04c48942 | 0;\n        this.Gh = 0x3f9d85a8 | 0;\n        this.Gl = 0x6a1d36c8 | 0;\n        this.Hh = 0x1112e6ad | 0;\n        this.Hl = 0x91d692a1 | 0;\n        this.outputLen = 28;\n    }\n}\nclass SHA512_256 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x22312194 | 0;\n        this.Al = 0xfc2bf72c | 0;\n        this.Bh = 0x9f555fa3 | 0;\n        this.Bl = 0xc84c64c2 | 0;\n        this.Ch = 0x2393b86b | 0;\n        this.Cl = 0x6f53b151 | 0;\n        this.Dh = 0x96387719 | 0;\n        this.Dl = 0x5940eabd | 0;\n        this.Eh = 0x96283ee2 | 0;\n        this.El = 0xa88effe3 | 0;\n        this.Fh = 0xbe5e1e25 | 0;\n        this.Fl = 0x53863992 | 0;\n        this.Gh = 0x2b0199fc | 0;\n        this.Gl = 0x2c85b8aa | 0;\n        this.Hh = 0x0eb72ddc | 0;\n        this.Hl = 0x81c52ca2 | 0;\n        this.outputLen = 32;\n    }\n}\nclass SHA384 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0xcbbb9d5d | 0;\n        this.Al = 0xc1059ed8 | 0;\n        this.Bh = 0x629a292a | 0;\n        this.Bl = 0x367cd507 | 0;\n        this.Ch = 0x9159015a | 0;\n        this.Cl = 0x3070dd17 | 0;\n        this.Dh = 0x152fecd8 | 0;\n        this.Dl = 0xf70e5939 | 0;\n        this.Eh = 0x67332667 | 0;\n        this.El = 0xffc00b31 | 0;\n        this.Fh = 0x8eb44a87 | 0;\n        this.Fl = 0x68581511 | 0;\n        this.Gh = 0xdb0c2e0d | 0;\n        this.Gl = 0x64f98fa7 | 0;\n        this.Hh = 0x47b5481d | 0;\n        this.Hl = 0xbefa4fa4 | 0;\n        this.outputLen = 48;\n    }\n}\nexport const sha512 = wrapConstructor(() => new SHA512());\nexport const sha512_224 = wrapConstructor(() => new SHA512_224());\nexport const sha512_256 = wrapConstructor(() => new SHA512_256());\nexport const sha384 = wrapConstructor(() => new SHA384());\n//# sourceMappingURL=sha512.js.map","import assert from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nclass HMAC extends Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        assert.hash(hash);\n        const key = toBytes(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new TypeError('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        pad.fill(0);\n    }\n    update(buf) {\n        assert.exists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        assert.exists(this);\n        assert.bytes(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","//\n// util.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { sha512 } from '@noble/hashes/sha512'\nimport { hmac } from '@noble/hashes/hmac'\nimport nacl from 'tweetnacl'\nconst ED25519_CURVE = 'ed25519 seed'\nconst HARDENED_OFFSET = 0x80000000\n\nexport const pathRegex = new RegExp(\"^m(\\\\/[0-9]+')+$\")\n\nexport const replaceDerive = (val: string): string => val.replace(\"'\", '')\n\ninterface Keys {\n    key: Uint8Array\n    chainCode: Uint8Array\n}\n\nexport const getMasterKeyFromSeed = (seed: string): Keys => {\n    const h = hmac.create(sha512, ED25519_CURVE)\n    const I = h.update(fromHEX(seed)).digest()\n    const IL = I.slice(0, 32)\n    const IR = I.slice(32)\n    return {\n        key: IL,\n        chainCode: IR,\n    }\n}\n\nexport function fromHEX(hexStr: string): Uint8Array {\n    // @ts-ignore\n    let intArr = hexStr\n        .replace('0x', '')\n        .match(/.{1,2}/g)\n        .map((byte) => parseInt(byte, 16))\n\n    if (intArr === null) {\n        throw new Error(`Unable to parse HEX: ${hexStr}`)\n    }\n\n    return Uint8Array.from(intArr)\n}\n\nexport function toHEX(bytes: Uint8Array): string {\n    return bytes.reduce(\n        (str, byte) => str + byte.toString(16).padStart(2, '0'),\n        ''\n    )\n}\n\n//\n// Base64 / binary data / UTF-8 strings utilities\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Base64_encoding_and_decoding\n//\n//  Array of bytes to Base64 string decoding\n//\n\nfunction b64ToUint6(nChr: number) {\n    return nChr > 64 && nChr < 91\n        ? nChr - 65\n        : nChr > 96 && nChr < 123\n        ? nChr - 71\n        : nChr > 47 && nChr < 58\n        ? nChr + 4\n        : nChr === 43\n        ? 62\n        : nChr === 47\n        ? 63\n        : 0\n}\n\nexport function fromB64(sBase64: string, nBlocksSize?: number): Uint8Array {\n    var sB64Enc = sBase64.replace(/[^A-Za-z0-9+/]/g, ''),\n        nInLen = sB64Enc.length,\n        nOutLen = nBlocksSize\n            ? Math.ceil(((nInLen * 3 + 1) >> 2) / nBlocksSize) * nBlocksSize\n            : (nInLen * 3 + 1) >> 2,\n        taBytes = new Uint8Array(nOutLen)\n\n    for (\n        var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0;\n        nInIdx < nInLen;\n        nInIdx++\n    ) {\n        nMod4 = nInIdx & 3\n        nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << (6 * (3 - nMod4))\n        if (nMod4 === 3 || nInLen - nInIdx === 1) {\n            for (\n                nMod3 = 0;\n                nMod3 < 3 && nOutIdx < nOutLen;\n                nMod3++, nOutIdx++\n            ) {\n                taBytes[nOutIdx] = (nUint24 >>> ((16 >>> nMod3) & 24)) & 255\n            }\n            nUint24 = 0\n        }\n    }\n\n    return taBytes\n}\n\n/* Base64 string to array encoding */\n\nfunction uint6ToB64(nUint6: number) {\n    return nUint6 < 26\n        ? nUint6 + 65\n        : nUint6 < 52\n        ? nUint6 + 71\n        : nUint6 < 62\n        ? nUint6 - 4\n        : nUint6 === 62\n        ? 43\n        : nUint6 === 63\n        ? 47\n        : 65\n}\n\nexport function toB64(aBytes: Uint8Array): string {\n    var nMod3 = 2,\n        sB64Enc = ''\n\n    for (var nLen = aBytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {\n        nMod3 = nIdx % 3\n        if (nIdx > 0 && ((nIdx * 4) / 3) % 76 === 0) {\n            sB64Enc += ''\n        }\n        nUint24 |= aBytes[nIdx] << ((16 >>> nMod3) & 24)\n        if (nMod3 === 2 || aBytes.length - nIdx === 1) {\n            sB64Enc += String.fromCodePoint(\n                uint6ToB64((nUint24 >>> 18) & 63),\n                uint6ToB64((nUint24 >>> 12) & 63),\n                uint6ToB64((nUint24 >>> 6) & 63),\n                uint6ToB64(nUint24 & 63)\n            )\n            nUint24 = 0\n        }\n    }\n\n    return (\n        sB64Enc.slice(0, sB64Enc.length - 2 + nMod3) +\n        (nMod3 === 2 ? '' : nMod3 === 1 ? '=' : '==')\n    )\n}\n\nexport const derivePath = (\n    path: string,\n    seed: string,\n    offset = HARDENED_OFFSET\n) => {\n    if (!isValidPath(path)) {\n        throw new Error('Invalid derivation path')\n    }\n\n    const { key, chainCode } = getMasterKeyFromSeed(seed)\n    const segments = path\n        .split('/')\n        .slice(1)\n        .map(replaceDerive)\n        .map((el) => parseInt(el, 10))\n\n    return segments.reduce(\n        (parentKeys, segment) => CKDPriv(parentKeys, segment + offset),\n        { key, chainCode }\n    )\n}\nconst CKDPriv = ({ key, chainCode }: Keys, index: number): Keys => {\n    const indexBuffer = new ArrayBuffer(4)\n    const cv = new DataView(indexBuffer)\n    cv.setUint32(0, index)\n\n    const data = new Uint8Array(1 + key.length + indexBuffer.byteLength)\n    data.set(new Uint8Array(1).fill(0))\n    data.set(key, 1)\n    data.set(\n        new Uint8Array(indexBuffer, 0, indexBuffer.byteLength),\n        key.length + 1\n    )\n\n    const I = hmac.create(sha512, chainCode).update(data).digest()\n    const IL = I.slice(0, 32)\n    const IR = I.slice(32)\n    return {\n        key: IL,\n        chainCode: IR,\n    }\n}\n\nexport const getPublicKey = (\n    privateKey: Uint8Array,\n    withZeroByte = true\n): Uint8Array => {\n    const keyPair = nacl.sign.keyPair.fromSeed(privateKey)\n    const signPk = keyPair.secretKey.subarray(32)\n    const newArr = new Uint8Array(signPk.length + 1)\n    newArr.set([0])\n    newArr.set(signPk, 1)\n    return withZeroByte ? newArr : signPk\n}\n\nexport const isValidPath = (path: string): boolean => {\n    if (!pathRegex.test(path)) {\n        return false\n    }\n    return !path\n        .split('/')\n        .slice(1)\n        .map(replaceDerive)\n        .some(isNaN as any /* ts T_T*/)\n}\nexport const isHexString = (value: string): boolean => {\n    if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n        return false\n    }\n\n    return true\n}\n","//\n// ed25519_publickey.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport sha3 from 'js-sha3'\nimport { fromB64, toB64 } from './crypto_utils'\nimport {\n    bytesEqual,\n    PublicKeyInitData,\n    SIGNATURE_SCHEME_TO_FLAG,\n} from './publickey'\n\nconst PUBLIC_KEY_SIZE = 32\n\n/**\n * An Ed25519 public key\n */\nexport class Ed25519PublicKey {\n    private data: Uint8Array\n\n    /**\n     * Create a new Ed25519PublicKey object\n     * @param value ed25519 public key as buffer or base-64 encoded string\n     */\n    constructor(value: PublicKeyInitData) {\n        if (typeof value === 'string') {\n            this.data = fromB64(value)\n        } else if (value instanceof Uint8Array) {\n            this.data = value\n        } else {\n            this.data = Uint8Array.from(value)\n        }\n\n        if (this.data.length !== PUBLIC_KEY_SIZE) {\n            throw new Error(\n                `Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`\n            )\n        }\n    }\n\n    /**\n     * Checks if two Ed25519 public keys are equal\n     */\n    equals(publicKey: Ed25519PublicKey): boolean {\n        return bytesEqual(this.toBytes(), publicKey.toBytes())\n    }\n\n    /**\n     * Return the base-64 representation of the Ed25519 public key\n     */\n    toBase64(): string {\n        return toB64(this.toBytes())\n    }\n\n    /**\n     * Return the byte array representation of the Ed25519 public key\n     */\n    toBytes(): Uint8Array {\n        return this.data\n    }\n\n    /**\n     * Return the db3 address associated with this Ed25519 public key\n     */\n    toAddress(): string {\n        let tmp = new Uint8Array(PUBLIC_KEY_SIZE + 1)\n        tmp.set([SIGNATURE_SCHEME_TO_FLAG['ED25519']])\n        tmp.set(this.toBytes(), 1)\n        return '0x' + sha3.sha3_256(tmp).slice(0, 40)\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.output = exports.exists = exports.hash = exports.bytes = exports.bool = exports.number = void 0;\nfunction number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nexports.number = number;\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nexports.bool = bool;\nfunction bytes(b, ...lengths) {\n    if (!(b instanceof Uint8Array))\n        throw new TypeError('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nexports.bytes = bytes;\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nexports.hash = hash;\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nexports.exists = exists;\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexports.output = output;\nconst assert = {\n    number,\n    bool,\n    bytes,\n    hash,\n    exists,\n    output,\n};\nexports.default = assert;\n//# sourceMappingURL=_assert.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crypto = void 0;\nexports.crypto = {\n    node: undefined,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n};\n//# sourceMappingURL=cryptoBrowser.js.map","\"use strict\";\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomBytes = exports.wrapConstructorWithOpts = exports.wrapConstructor = exports.checkOpts = exports.Hash = exports.concatBytes = exports.toBytes = exports.utf8ToBytes = exports.asyncLoop = exports.nextTick = exports.hexToBytes = exports.bytesToHex = exports.isLE = exports.rotr = exports.createView = exports.u32 = exports.u8 = void 0;\n// The import here is via the package name. This is to ensure\n// that exports mapping/resolution does fall into place.\nconst crypto_1 = require(\"@noble/hashes/crypto\");\n// Cast array to different type\nconst u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexports.u8 = u8;\nconst u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\nexports.u32 = u32;\n// Cast array to view\nconst createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\nexports.createView = createView;\n// The rotate right (circular right shift) operation for uint32\nconst rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\nexports.rotr = rotr;\nexports.isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\n// There is almost no big endian hardware, but js typed arrays uses platform specific endianness.\n// So, just to be sure not to corrupt anything.\nif (!exports.isLE)\n    throw new Error('Non little-endian hardware is not supported');\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xde, 0xad, 0xbe, 0xef]))\n */\nfunction bytesToHex(uint8a) {\n    // pre-caching improves the speed 6x\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Uint8Array expected');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\nexports.bytesToHex = bytesToHex;\n/**\n * @example hexToBytes('deadbeef')\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex');\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nexports.hexToBytes = hexToBytes;\n// There is no setImmediate in browser and setTimeout is slow. However, call to async function will return Promise\n// which will be fullfiled only on next scheduler queue processing step and this is exactly what we need.\nconst nextTick = async () => { };\nexports.nextTick = nextTick;\n// Returns control to thread each 'tick' ms to avoid blocking\nasync function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await (0, exports.nextTick)();\n        ts += diff;\n    }\n}\nexports.asyncLoop = asyncLoop;\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string') {\n        throw new TypeError(`utf8ToBytes expected string, got ${typeof str}`);\n    }\n    return new TextEncoder().encode(str);\n}\nexports.utf8ToBytes = utf8ToBytes;\nfunction toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!(data instanceof Uint8Array))\n        throw new TypeError(`Expected input type is Uint8Array (got ${typeof data})`);\n    return data;\n}\nexports.toBytes = toBytes;\n/**\n * Concats Uint8Array-s into one; like `Buffer.concat([buf1, buf2])`\n * @example concatBytes(buf1, buf2)\n */\nfunction concatBytes(...arrays) {\n    if (!arrays.every((a) => a instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nexports.concatBytes = concatBytes;\n// For runtime check if class implements interface\nclass Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nexports.Hash = Hash;\n// Check if object doens't have custom constructor (like Uint8Array/Array)\nconst isPlainObject = (obj) => Object.prototype.toString.call(obj) === '[object Object]' && obj.constructor === Object;\nfunction checkOpts(defaults, opts) {\n    if (opts !== undefined && (typeof opts !== 'object' || !isPlainObject(opts)))\n        throw new TypeError('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexports.checkOpts = checkOpts;\nfunction wrapConstructor(hashConstructor) {\n    const hashC = (message) => hashConstructor().update(toBytes(message)).digest();\n    const tmp = hashConstructor();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashConstructor();\n    return hashC;\n}\nexports.wrapConstructor = wrapConstructor;\nfunction wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexports.wrapConstructorWithOpts = wrapConstructorWithOpts;\n/**\n * Secure PRNG\n */\nfunction randomBytes(bytesLength = 32) {\n    if (crypto_1.crypto.web) {\n        return crypto_1.crypto.web.getRandomValues(new Uint8Array(bytesLength));\n    }\n    else if (crypto_1.crypto.node) {\n        return new Uint8Array(crypto_1.crypto.node.randomBytes(bytesLength).buffer);\n    }\n    else {\n        throw new Error(\"The environment doesn't have randomBytes function\");\n    }\n}\nexports.randomBytes = randomBytes;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hmac = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// HMAC (RFC 2104)\nclass HMAC extends utils_js_1.Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        _assert_js_1.default.hash(hash);\n        const key = (0, utils_js_1.toBytes)(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new TypeError('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        pad.fill(0);\n    }\n    update(buf) {\n        _assert_js_1.default.exists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        _assert_js_1.default.exists(this);\n        _assert_js_1.default.bytes(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nconst hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nexports.hmac = hmac;\nexports.hmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pbkdf2Async = exports.pbkdf2 = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst hmac_js_1 = require(\"./hmac.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash, _password, _salt, _opts) {\n    _assert_js_1.default.hash(hash);\n    const opts = (0, utils_js_1.checkOpts)({ dkLen: 32, asyncTick: 10 }, _opts);\n    const { c, dkLen, asyncTick } = opts;\n    _assert_js_1.default.number(c);\n    _assert_js_1.default.number(dkLen);\n    _assert_js_1.default.number(asyncTick);\n    if (c < 1)\n        throw new Error('PBKDF2: iterations (c) should be >= 1');\n    const password = (0, utils_js_1.toBytes)(_password);\n    const salt = (0, utils_js_1.toBytes)(_salt);\n    // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n    const DK = new Uint8Array(dkLen);\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    const PRF = hmac_js_1.hmac.create(hash, password);\n    const PRFSalt = PRF._cloneInto().update(salt);\n    return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\nfunction pbkdf2Output(PRF, PRFSalt, DK, prfW, u) {\n    PRF.destroy();\n    PRFSalt.destroy();\n    if (prfW)\n        prfW.destroy();\n    u.fill(0);\n    return DK;\n}\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n */\nfunction pbkdf2(hash, password, salt, opts) {\n    const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = (0, utils_js_1.createView)(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 +  + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        for (let ui = 1; ui < c; ui++) {\n            // Uc = PRF(Password, Uc1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        }\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexports.pbkdf2 = pbkdf2;\nasync function pbkdf2Async(hash, password, salt, opts) {\n    const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n    let prfW; // Working copy\n    const arr = new Uint8Array(4);\n    const view = (0, utils_js_1.createView)(arr);\n    const u = new Uint8Array(PRF.outputLen);\n    // DK = T1 + T2 +  + Tdklen/hlen\n    for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n        // Ti = F(Password, Salt, c, i)\n        const Ti = DK.subarray(pos, pos + PRF.outputLen);\n        view.setInt32(0, ti, false);\n        // F(Password, Salt, c, i) = U1 ^ U2 ^  ^ Uc\n        // U1 = PRF(Password, Salt + INT_32_BE(i))\n        (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n        Ti.set(u.subarray(0, Ti.length));\n        await (0, utils_js_1.asyncLoop)(c - 1, asyncTick, (i) => {\n            // Uc = PRF(Password, Uc1)\n            PRF._cloneInto(prfW).update(u).digestInto(u);\n            for (let i = 0; i < Ti.length; i++)\n                Ti[i] ^= u[i];\n        });\n    }\n    return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\nexports.pbkdf2Async = pbkdf2Async;\n//# sourceMappingURL=pbkdf2.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SHA2 = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nclass SHA2 extends utils_js_1.Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = (0, utils_js_1.createView)(this.buffer);\n    }\n    update(data) {\n        _assert_js_1.default.exists(this);\n        const { view, buffer, blockLen } = this;\n        data = (0, utils_js_1.toBytes)(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = (0, utils_js_1.createView)(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        _assert_js_1.default.exists(this);\n        _assert_js_1.default.output(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = (0, utils_js_1.createView)(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\nexports.SHA2 = SHA2;\n//# sourceMappingURL=_sha2.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sha224 = exports.sha256 = void 0;\nconst _sha2_js_1 = require(\"./_sha2.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Choice: a ? b : c\nconst Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = new Uint32Array(64);\nclass SHA256 extends _sha2_js_1.SHA2 {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = IV[0] | 0;\n        this.B = IV[1] | 0;\n        this.C = IV[2] | 0;\n        this.D = IV[3] | 0;\n        this.E = IV[4] | 0;\n        this.F = IV[5] | 0;\n        this.G = IV[6] | 0;\n        this.H = IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = (0, utils_js_1.rotr)(W15, 7) ^ (0, utils_js_1.rotr)(W15, 18) ^ (W15 >>> 3);\n            const s1 = (0, utils_js_1.rotr)(W2, 17) ^ (0, utils_js_1.rotr)(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = (0, utils_js_1.rotr)(E, 6) ^ (0, utils_js_1.rotr)(E, 11) ^ (0, utils_js_1.rotr)(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = (0, utils_js_1.rotr)(A, 2) ^ (0, utils_js_1.rotr)(A, 13) ^ (0, utils_js_1.rotr)(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexports.sha256 = (0, utils_js_1.wrapConstructor)(() => new SHA256());\nexports.sha224 = (0, utils_js_1.wrapConstructor)(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.add = exports.toBig = exports.split = exports.fromBig = void 0;\nconst U32_MASK64 = BigInt(2 ** 32 - 1);\nconst _32n = BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nexports.fromBig = fromBig;\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nexports.split = split;\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\nexports.toBig = toBig;\n// for Shift in [0, 32)\nconst shrSH = (h, l, s) => h >>> s;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (h, l) => l;\nconst rotr32L = (h, l) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\n// Removing \"export\" has 5% perf penalty -_-\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\nexports.add = add;\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig: exports.toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexports.default = u64;\n//# sourceMappingURL=_u64.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sha384 = exports.sha512_256 = exports.sha512_224 = exports.sha512 = exports.SHA512 = void 0;\nconst _sha2_js_1 = require(\"./_sha2.js\");\nconst _u64_js_1 = require(\"./_u64.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = _u64_js_1.default.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n)));\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = new Uint32Array(80);\nconst SHA512_W_L = new Uint32Array(80);\nclass SHA512 extends _sha2_js_1.SHA2 {\n    constructor() {\n        super(128, 64, 16, false);\n        // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n        // Also looks cleaner and easier to verify with spec.\n        // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x6a09e667 | 0;\n        this.Al = 0xf3bcc908 | 0;\n        this.Bh = 0xbb67ae85 | 0;\n        this.Bl = 0x84caa73b | 0;\n        this.Ch = 0x3c6ef372 | 0;\n        this.Cl = 0xfe94f82b | 0;\n        this.Dh = 0xa54ff53a | 0;\n        this.Dl = 0x5f1d36f1 | 0;\n        this.Eh = 0x510e527f | 0;\n        this.El = 0xade682d1 | 0;\n        this.Fh = 0x9b05688c | 0;\n        this.Fl = 0x2b3e6c1f | 0;\n        this.Gh = 0x1f83d9ab | 0;\n        this.Gl = 0xfb41bd6b | 0;\n        this.Hh = 0x5be0cd19 | 0;\n        this.Hl = 0x137e2179 | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = _u64_js_1.default.rotrSH(W15h, W15l, 1) ^ _u64_js_1.default.rotrSH(W15h, W15l, 8) ^ _u64_js_1.default.shrSH(W15h, W15l, 7);\n            const s0l = _u64_js_1.default.rotrSL(W15h, W15l, 1) ^ _u64_js_1.default.rotrSL(W15h, W15l, 8) ^ _u64_js_1.default.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = _u64_js_1.default.rotrSH(W2h, W2l, 19) ^ _u64_js_1.default.rotrBH(W2h, W2l, 61) ^ _u64_js_1.default.shrSH(W2h, W2l, 6);\n            const s1l = _u64_js_1.default.rotrSL(W2h, W2l, 19) ^ _u64_js_1.default.rotrBL(W2h, W2l, 61) ^ _u64_js_1.default.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = _u64_js_1.default.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = _u64_js_1.default.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = _u64_js_1.default.rotrSH(Eh, El, 14) ^ _u64_js_1.default.rotrSH(Eh, El, 18) ^ _u64_js_1.default.rotrBH(Eh, El, 41);\n            const sigma1l = _u64_js_1.default.rotrSL(Eh, El, 14) ^ _u64_js_1.default.rotrSL(Eh, El, 18) ^ _u64_js_1.default.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = _u64_js_1.default.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = _u64_js_1.default.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = _u64_js_1.default.rotrSH(Ah, Al, 28) ^ _u64_js_1.default.rotrBH(Ah, Al, 34) ^ _u64_js_1.default.rotrBH(Ah, Al, 39);\n            const sigma0l = _u64_js_1.default.rotrSL(Ah, Al, 28) ^ _u64_js_1.default.rotrBL(Ah, Al, 34) ^ _u64_js_1.default.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = _u64_js_1.default.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = _u64_js_1.default.add3L(T1l, sigma0l, MAJl);\n            Ah = _u64_js_1.default.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = _u64_js_1.default.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = _u64_js_1.default.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = _u64_js_1.default.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = _u64_js_1.default.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = _u64_js_1.default.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = _u64_js_1.default.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = _u64_js_1.default.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = _u64_js_1.default.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        SHA512_W_H.fill(0);\n        SHA512_W_L.fill(0);\n    }\n    destroy() {\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nexports.SHA512 = SHA512;\nclass SHA512_224 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x8c3d37c8 | 0;\n        this.Al = 0x19544da2 | 0;\n        this.Bh = 0x73e19966 | 0;\n        this.Bl = 0x89dcd4d6 | 0;\n        this.Ch = 0x1dfab7ae | 0;\n        this.Cl = 0x32ff9c82 | 0;\n        this.Dh = 0x679dd514 | 0;\n        this.Dl = 0x582f9fcf | 0;\n        this.Eh = 0x0f6d2b69 | 0;\n        this.El = 0x7bd44da8 | 0;\n        this.Fh = 0x77e36f73 | 0;\n        this.Fl = 0x04c48942 | 0;\n        this.Gh = 0x3f9d85a8 | 0;\n        this.Gl = 0x6a1d36c8 | 0;\n        this.Hh = 0x1112e6ad | 0;\n        this.Hl = 0x91d692a1 | 0;\n        this.outputLen = 28;\n    }\n}\nclass SHA512_256 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0x22312194 | 0;\n        this.Al = 0xfc2bf72c | 0;\n        this.Bh = 0x9f555fa3 | 0;\n        this.Bl = 0xc84c64c2 | 0;\n        this.Ch = 0x2393b86b | 0;\n        this.Cl = 0x6f53b151 | 0;\n        this.Dh = 0x96387719 | 0;\n        this.Dl = 0x5940eabd | 0;\n        this.Eh = 0x96283ee2 | 0;\n        this.El = 0xa88effe3 | 0;\n        this.Fh = 0xbe5e1e25 | 0;\n        this.Fl = 0x53863992 | 0;\n        this.Gh = 0x2b0199fc | 0;\n        this.Gl = 0x2c85b8aa | 0;\n        this.Hh = 0x0eb72ddc | 0;\n        this.Hl = 0x81c52ca2 | 0;\n        this.outputLen = 32;\n    }\n}\nclass SHA384 extends SHA512 {\n    constructor() {\n        super();\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = 0xcbbb9d5d | 0;\n        this.Al = 0xc1059ed8 | 0;\n        this.Bh = 0x629a292a | 0;\n        this.Bl = 0x367cd507 | 0;\n        this.Ch = 0x9159015a | 0;\n        this.Cl = 0x3070dd17 | 0;\n        this.Dh = 0x152fecd8 | 0;\n        this.Dl = 0xf70e5939 | 0;\n        this.Eh = 0x67332667 | 0;\n        this.El = 0xffc00b31 | 0;\n        this.Fh = 0x8eb44a87 | 0;\n        this.Fl = 0x68581511 | 0;\n        this.Gh = 0xdb0c2e0d | 0;\n        this.Gl = 0x64f98fa7 | 0;\n        this.Hh = 0x47b5481d | 0;\n        this.Hl = 0xbefa4fa4 | 0;\n        this.outputLen = 48;\n    }\n}\nexports.sha512 = (0, utils_js_1.wrapConstructor)(() => new SHA512());\nexports.sha512_224 = (0, utils_js_1.wrapConstructor)(() => new SHA512_224());\nexports.sha512_256 = (0, utils_js_1.wrapConstructor)(() => new SHA512_256());\nexports.sha384 = (0, utils_js_1.wrapConstructor)(() => new SHA384());\n//# sourceMappingURL=sha512.js.map","\"use strict\";\n/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bytes = exports.stringToBytes = exports.str = exports.bytesToString = exports.hex = exports.utf8 = exports.bech32m = exports.bech32 = exports.base58check = exports.base58xmr = exports.base58xrp = exports.base58flickr = exports.base58 = exports.base64url = exports.base64 = exports.base32crockford = exports.base32hex = exports.base32 = exports.base16 = exports.utils = exports.assertNumber = void 0;\nfunction assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nexports.assertNumber = assertNumber;\nfunction chain(...args) {\n    const wrap = (a, b) => (c) => a(b(c));\n    const encode = Array.from(args)\n        .reverse()\n        .reduce((acc, i) => (acc ? wrap(acc, i.encode) : i.encode), undefined);\n    const decode = args.reduce((acc, i) => (acc ? wrap(acc, i.decode) : i.decode), undefined);\n    return { encode, decode };\n}\nfunction alphabet(alphabet) {\n    return {\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n    };\n}\nfunction join(separator = '') {\n    if (typeof separator !== 'string')\n        throw new Error('join separator should be string');\n    return {\n        encode: (from) => {\n            if (!Array.isArray(from) || (from.length && typeof from[0] !== 'string'))\n                throw new Error('join.encode input should be array of strings');\n            for (let i of from)\n                if (typeof i !== 'string')\n                    throw new Error(`join.encode: non-string input=${i}`);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            if (typeof to !== 'string')\n                throw new Error('join.decode input should be string');\n            return to.split(separator);\n        },\n    };\n}\nfunction padding(bits, chr = '=') {\n    assertNumber(bits);\n    if (typeof chr !== 'string')\n        throw new Error('padding chr should be string');\n    return {\n        encode(data) {\n            if (!Array.isArray(data) || (data.length && typeof data[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of data)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.encode: non-string input=${i}`);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of input)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.decode: non-string input=${i}`);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('Invalid padding: string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                if (!(((end - 1) * bits) % 8))\n                    throw new Error('Invalid padding: string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\nfunction normalize(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('normalize fn should be function');\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\nfunction convertRadix(data, from, to) {\n    if (from < 2)\n        throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);\n    if (!Array.isArray(data))\n        throw new Error('convertRadix: data should be array');\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data);\n    digits.forEach((d) => {\n        assertNumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`Wrong integer: ${d}`);\n    });\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < digits.length; i++) {\n            const digit = digits[i];\n            const digitBase = from * carry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                (from * carry) / from !== carry ||\n                digitBase - digit !== from * carry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            carry = digitBase % to;\n            digits[i] = Math.floor(digitBase / to);\n            if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!digits[i])\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (!b ? a : gcd(b, a % b));\nconst radix2carry = (from, to) => from + (to - gcd(from, to));\nfunction convertRadix2(data, from, to, padding) {\n    if (!Array.isArray(data))\n        throw new Error('convertRadix2: data should be array');\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0;\n    const mask = 2 ** to - 1;\n    const res = [];\n    for (const n of data) {\n        assertNumber(n);\n        if (n >= 2 ** from)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        carry &= 2 ** pos - 1;\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\nfunction radix(num) {\n    assertNumber(num);\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), 2 ** 8, num);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix.decode input should be array of strings');\n            return Uint8Array.from(convertRadix(digits, num, 2 ** 8));\n        },\n    };\n}\nfunction radix2(bits, revPadding = false) {\n    assertNumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix2.decode input should be array of strings');\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('unsafeWrapper fn should be function');\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    assertNumber(len);\n    if (typeof fn !== 'function')\n        throw new Error('checksum fn should be function');\n    return {\n        encode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const checksum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(checksum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const newChecksum = fn(payload).slice(0, len);\n            const oldChecksum = data.slice(-len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\nexports.utils = { alphabet, chain, checksum, radix, radix2, join, padding };\nexports.base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexports.base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexports.base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexports.base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\nexports.base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexports.base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nconst genBase58 = (abc) => chain(radix(58), alphabet(abc), join(''));\nexports.base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexports.base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexports.base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexports.base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += exports.base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = exports.base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\nconst base58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), exports.base58);\nexports.base58check = base58check;\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % 2 ** 30], 30, 5, false));\n}\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        if (typeof prefix !== 'string')\n            throw new Error(`bech32.encode prefix should be string, not ${typeof prefix}`);\n        if (!Array.isArray(words) || (words.length && typeof words[0] !== 'number'))\n            throw new Error(`bech32.encode words should be array of numbers, not ${typeof words}`);\n        const actualLength = prefix.length + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        prefix = prefix.toLowerCase();\n        return `${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix, words, ENCODING_CONST)}`;\n    }\n    function decode(str, limit = 90) {\n        if (typeof str !== 'string')\n            throw new Error(`bech32.decode input should be string, not ${typeof str}`);\n        if (str.length < 8 || (limit !== false && str.length > limit))\n            throw new TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        str = lowered;\n        const sepIndex = str.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = str.slice(0, sepIndex);\n        const _words = str.slice(sepIndex + 1);\n        if (_words.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(_words).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!_words.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    return { encode, decode, decodeToBytes, decodeUnsafe, fromWords, fromWordsUnsafe, toWords };\n}\nexports.bech32 = genBech32('bech32');\nexports.bech32m = genBech32('bech32m');\nexports.utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\nexports.hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n    if (typeof s !== 'string' || s.length % 2)\n        throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n    return s.toLowerCase();\n}));\nconst CODERS = {\n    utf8: exports.utf8, hex: exports.hex, base16: exports.base16, base32: exports.base32, base64: exports.base64, base64url: exports.base64url, base58: exports.base58, base58xmr: exports.base58xmr\n};\nconst coderTypeError = `Invalid encoding type. Available types: ${Object.keys(CODERS).join(', ')}`;\nconst bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!(bytes instanceof Uint8Array))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\nexports.bytesToString = bytesToString;\nexports.str = exports.bytesToString;\nconst stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\nexports.stringToBytes = stringToBytes;\nexports.bytes = exports.stringToBytes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mnemonicToSeedSync = exports.mnemonicToSeed = exports.validateMnemonic = exports.entropyToMnemonic = exports.mnemonicToEntropy = exports.generateMnemonic = void 0;\n/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */\nconst _assert_1 = require(\"@noble/hashes/_assert\");\nconst pbkdf2_1 = require(\"@noble/hashes/pbkdf2\");\nconst sha256_1 = require(\"@noble/hashes/sha256\");\nconst sha512_1 = require(\"@noble/hashes/sha512\");\nconst utils_1 = require(\"@noble/hashes/utils\");\nconst base_1 = require(\"@scure/base\");\n// Japanese wordlist\nconst isJapanese = (wordlist) => wordlist[0] === '\\u3042\\u3044\\u3053\\u304f\\u3057\\u3093';\n// Normalization replaces equivalent sequences of characters\n// so that any two texts that are equivalent will be reduced\n// to the same sequence of code points, called the normal form of the original text.\nfunction nfkd(str) {\n    if (typeof str !== 'string')\n        throw new TypeError(`Invalid mnemonic type: ${typeof str}`);\n    return str.normalize('NFKD');\n}\nfunction normalize(str) {\n    const norm = nfkd(str);\n    const words = norm.split(' ');\n    if (![12, 15, 18, 21, 24].includes(words.length))\n        throw new Error('Invalid mnemonic');\n    return { nfkd: norm, words };\n}\nfunction assertEntropy(entropy) {\n    _assert_1.default.bytes(entropy, 16, 20, 24, 28, 32);\n}\n/**\n * Generate x random words. Uses Cryptographically-Secure Random Number Generator.\n * @param wordlist imported wordlist for specific language\n * @param strength mnemonic strength 128-256 bits\n * @example\n * generateMnemonic(wordlist, 128)\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nfunction generateMnemonic(wordlist, strength = 128) {\n    _assert_1.default.number(strength);\n    if (strength % 32 !== 0 || strength > 256)\n        throw new TypeError('Invalid entropy');\n    return entropyToMnemonic((0, utils_1.randomBytes)(strength / 8), wordlist);\n}\nexports.generateMnemonic = generateMnemonic;\nconst calcChecksum = (entropy) => {\n    // Checksum is ent.length/4 bits long\n    const bitsLeft = 8 - entropy.length / 4;\n    // Zero rightmost \"bitsLeft\" bits in byte\n    // For example: bitsLeft=4 val=10111101 -> 10110000\n    return new Uint8Array([((0, sha256_1.sha256)(entropy)[0] >> bitsLeft) << bitsLeft]);\n};\nfunction getCoder(wordlist) {\n    if (!Array.isArray(wordlist) || wordlist.length !== 2048 || typeof wordlist[0] !== 'string')\n        throw new Error('Worlist: expected array of 2048 strings');\n    wordlist.forEach((i) => {\n        if (typeof i !== 'string')\n            throw new Error(`Wordlist: non-string element: ${i}`);\n    });\n    return base_1.utils.chain(base_1.utils.checksum(1, calcChecksum), base_1.utils.radix2(11, true), base_1.utils.alphabet(wordlist));\n}\n/**\n * Reversible: Converts mnemonic string to raw entropy in form of byte array.\n * @param mnemonic 12-24 words\n * @param wordlist imported wordlist for specific language\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToEntropy(mnem, wordlist)\n * // Produces\n * new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ])\n */\nfunction mnemonicToEntropy(mnemonic, wordlist) {\n    const { words } = normalize(mnemonic);\n    const entropy = getCoder(wordlist).decode(words);\n    assertEntropy(entropy);\n    return entropy;\n}\nexports.mnemonicToEntropy = mnemonicToEntropy;\n/**\n * Reversible: Converts raw entropy in form of byte array to mnemonic string.\n * @param entropy byte array\n * @param wordlist imported wordlist for specific language\n * @returns 12-24 words\n * @example\n * const ent = new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ]);\n * entropyToMnemonic(ent, wordlist);\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nfunction entropyToMnemonic(entropy, wordlist) {\n    assertEntropy(entropy);\n    const words = getCoder(wordlist).encode(entropy);\n    return words.join(isJapanese(wordlist) ? '\\u3000' : ' ');\n}\nexports.entropyToMnemonic = entropyToMnemonic;\n/**\n * Validates mnemonic for being 12-24 words contained in `wordlist`.\n */\nfunction validateMnemonic(mnemonic, wordlist) {\n    try {\n        mnemonicToEntropy(mnemonic, wordlist);\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nexports.validateMnemonic = validateMnemonic;\nconst salt = (passphrase) => nfkd(`mnemonic${passphrase}`);\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * await mnemonicToSeed(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nfunction mnemonicToSeed(mnemonic, passphrase = '') {\n    return (0, pbkdf2_1.pbkdf2Async)(sha512_1.sha512, normalize(mnemonic).nfkd, salt(passphrase), { c: 2048, dkLen: 64 });\n}\nexports.mnemonicToSeed = mnemonicToSeed;\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToSeedSync(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nfunction mnemonicToSeedSync(mnemonic, passphrase = '') {\n    return (0, pbkdf2_1.pbkdf2)(sha512_1.sha512, normalize(mnemonic).nfkd, salt(passphrase), { c: 2048, dkLen: 64 });\n}\nexports.mnemonicToSeedSync = mnemonicToSeedSync;\n","//\n// mnemonics.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { mnemonicToSeedSync as bip39MnemonicToSeedSync } from '@scure/bip39'\nimport { toHEX } from './crypto_utils'\n\n/**\n * Parse and validate a path that is compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n *\n * @param path path string (e.g. `m/44'/784'/0'/0'/0'`).\n */\nexport function isValidHardenedPath(path: string): boolean {\n    if (\n        !new RegExp(\"^m\\\\/44'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+'\\\\/[0-9]+'+$\").test(\n            path\n        )\n    ) {\n        return false\n    }\n    return true\n}\n\n/**\n * Parse and validate a path that is compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}.\n * Note that the purpose for Secp256k1 is registered as 54, to differentiate from Ed25519 with purpose 44.\n *\n * @param path path string (e.g. `m/54'/784'/0'/0/0`).\n */\nexport function isValidBIP32Path(path: string): boolean {\n    if (\n        !new RegExp(\"^m\\\\/54'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+\\\\/[0-9]+$\").test(path)\n    ) {\n        return false\n    }\n    return true\n}\n\n/**\n * Uses KDF to derive 64 bytes of key data from mnemonic with empty password.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeed(mnemonics: string): Uint8Array {\n    return bip39MnemonicToSeedSync(mnemonics, '')\n}\n\n/**\n * Derive the seed in hex format from a 12-word mnemonic string.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeedHex(mnemonics: string): string {\n    return toHEX(mnemonicToSeed(mnemonics))\n}\n","//\n// ed25519_keypair.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport nacl from 'tweetnacl'\nimport type { ExportedKeypair, Keypair } from './keypair'\nimport { SignatureScheme, SIGNATURE_SCHEME_TO_FLAG } from './publickey'\nimport { Ed25519PublicKey } from './ed25519_publickey'\nimport { mnemonicToSeedHex, isValidHardenedPath } from './mnemonics'\nimport { derivePath, getPublicKey, toB64 } from './crypto_utils'\n\nexport const DEFAULT_ED25519_DERIVATION_PATH = \"m/44'/784'/0'/0'/0'\"\n\nconst ED25519_SIGNATURE_LEN = 64\nconst ED25519_PUBLIC_LEN = 32\nconst DB3_ED25519_SIGNATURE_LEN = ED25519_SIGNATURE_LEN + ED25519_PUBLIC_LEN + 1\n/**\n * Ed25519 Keypair data\n */\nexport interface Ed25519KeypairData {\n    publicKey: Uint8Array\n    secretKey: Uint8Array\n}\n\nexport class Ed25519Keypair implements Keypair {\n    keypair: Ed25519KeypairData | nacl.SignKeyPair\n    /**\n     * Create a new Ed25519 keypair instance.\n     * Generate random keypair if no {@link Ed25519Keypair} is provided.\n     *\n     * @param keypair Ed25519 keypair\n     */\n    constructor(keypair: Ed25519KeypairData) {\n        if (keypair) {\n            this.keypair = keypair\n        } else {\n            this.keypair = nacl.sign.keyPair()\n        }\n    }\n\n    /**\n     * Generate a new Ed25519 keypair instance.\n     *\n     */\n    static generate(): Ed25519Keypair {\n        return new Ed25519Keypair(nacl.sign.keyPair())\n    }\n    static fromSecretKey(secretKey: Uint8Array): Ed25519Keypair {\n        const secretKeyLength = secretKey.length\n        if (secretKeyLength !== 64) {\n            // Many users actually wanted to invoke fromSeed(seed: Uint8Array), especially when reading from keystore.\n            if (secretKeyLength === 32) {\n                throw new Error(\n                    'Wrong secretKey size. Expected 64 bytes, got 32. Similar function exists: fromSeed(seed: Uint8Array)'\n                )\n            }\n            throw new Error(\n                `Wrong secretKey size. Expected 64 bytes, got ${secretKeyLength}.`\n            )\n        }\n        const keypair = nacl.sign.keyPair.fromSecretKey(secretKey)\n        return new Ed25519Keypair(keypair)\n    }\n    /**\n     * Get the key scheme of the keypair ED25519\n     */\n    getKeyScheme(): SignatureScheme {\n        return 'ED25519'\n    }\n\n    /**\n     * Generate an Ed25519 keypair from a 32 byte seed.\n     *\n     * @param seed seed byte array\n     */\n    static fromSeed(seed: Uint8Array): Ed25519Keypair {\n        const seedLength = seed.length\n        if (seedLength != 32) {\n            throw new Error(\n                `Wrong seed size. Expected 32 bytes, got ${seedLength}.`\n            )\n        }\n        return new Ed25519Keypair(nacl.sign.keyPair.fromSeed(seed))\n    }\n\n    /**\n     * Return the signature for the provided data using Ed25519.\n     */\n    signData(data: Uint8Array): Uint8Array {\n        const signature = nacl.sign.detached(data, this.keypair.secretKey)\n        var buf = new Uint8Array(DB3_ED25519_SIGNATURE_LEN)\n        buf[0] = SIGNATURE_SCHEME_TO_FLAG['ED25519']\n        buf.set(signature, 1)\n        buf.set(this.keypair.publicKey, 1 + ED25519_SIGNATURE_LEN)\n        return buf\n    }\n\n    static deriveKeypair(mnemonics: string, path?: string): Ed25519Keypair {\n        if (path == null) {\n            path = DEFAULT_ED25519_DERIVATION_PATH\n        }\n        if (!isValidHardenedPath(path)) {\n            throw new Error('Invalid derivation path')\n        }\n        const { key } = derivePath(path, mnemonicToSeedHex(mnemonics))\n        const pubkey = getPublicKey(key, false)\n\n        // Ed25519 private key returned here has 32 bytes. NaCl expects 64 bytes where the last 32 bytes are the public key.\n        let fullPrivateKey = new Uint8Array(64)\n        fullPrivateKey.set(key)\n        fullPrivateKey.set(pubkey, 32)\n\n        return new Ed25519Keypair({\n            publicKey: pubkey,\n            secretKey: fullPrivateKey,\n        })\n    }\n\n    getPublicKey(): Ed25519PublicKey {\n        return new Ed25519PublicKey(this.keypair.publicKey)\n    }\n\n    export(): ExportedKeypair {\n        return {\n            schema: 'ED25519',\n            privateKey: toB64(this.keypair.secretKey),\n        }\n    }\n}\n","/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\nimport * as nodeCrypto from 'crypto';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _3n = BigInt(3);\nconst _8n = BigInt(8);\nconst CURVE = Object.freeze({\n    a: _0n,\n    b: BigInt(7),\n    P: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: _1n,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n});\nexport { CURVE };\nfunction weistrass(x) {\n    const { a, b } = CURVE;\n    const x2 = mod(x * x);\n    const x3 = mod(x2 * x);\n    return mod(x3 + a * x + b);\n}\nconst USE_ENDOMORPHISM = CURVE.a === _0n;\nclass ShaError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nclass JacobianPoint {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    static fromAffine(p) {\n        if (!(p instanceof Point)) {\n            throw new TypeError('JacobianPoint#fromAffine: expected Point');\n        }\n        return new JacobianPoint(p.x, p.y, _1n);\n    }\n    static toAffineBatch(points) {\n        const toInv = invertBatch(points.map((p) => p.z));\n        return points.map((p, i) => p.toAffine(toInv[i]));\n    }\n    static normalizeZ(points) {\n        return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine);\n    }\n    equals(other) {\n        if (!(other instanceof JacobianPoint))\n            throw new TypeError('JacobianPoint expected');\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        return U1 === U2 && S1 === S2;\n    }\n    negate() {\n        return new JacobianPoint(this.x, mod(-this.y), this.z);\n    }\n    double() {\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const A = mod(X1 * X1);\n        const B = mod(Y1 * Y1);\n        const C = mod(B * B);\n        const x1b = X1 + B;\n        const D = mod(_2n * (mod(x1b * x1b) - A - C));\n        const E = mod(_3n * A);\n        const F = mod(E * E);\n        const X3 = mod(F - _2n * D);\n        const Y3 = mod(E * (D - X3) - _8n * C);\n        const Z3 = mod(_2n * Y1 * Z1);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    add(other) {\n        if (!(other instanceof JacobianPoint))\n            throw new TypeError('JacobianPoint expected');\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        if (X2 === _0n || Y2 === _0n)\n            return this;\n        if (X1 === _0n || Y1 === _0n)\n            return other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        const H = mod(U2 - U1);\n        const r = mod(S2 - S1);\n        if (H === _0n) {\n            if (r === _0n) {\n                return this.double();\n            }\n            else {\n                return JacobianPoint.ZERO;\n            }\n        }\n        const HH = mod(H * H);\n        const HHH = mod(H * HH);\n        const V = mod(U1 * HH);\n        const X3 = mod(r * r - HHH - _2n * V);\n        const Y3 = mod(r * (V - X3) - S1 * HHH);\n        const Z3 = mod(Z1 * Z2 * H);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiplyUnsafe(scalar) {\n        const P0 = JacobianPoint.ZERO;\n        if (typeof scalar === 'bigint' && scalar === _0n)\n            return P0;\n        let n = normalizeScalar(scalar);\n        if (n === _1n)\n            return this;\n        if (!USE_ENDOMORPHISM) {\n            let p = P0;\n            let d = this;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        }\n        let { k1neg, k1, k2neg, k2 } = splitScalarEndo(n);\n        let k1p = P0;\n        let k2p = P0;\n        let d = this;\n        while (k1 > _0n || k2 > _0n) {\n            if (k1 & _1n)\n                k1p = k1p.add(d);\n            if (k2 & _1n)\n                k2p = k2p.add(d);\n            d = d.double();\n            k1 >>= _1n;\n            k2 >>= _1n;\n        }\n        if (k1neg)\n            k1p = k1p.negate();\n        if (k2neg)\n            k2p = k2p.negate();\n        k2p = new JacobianPoint(mod(k2p.x * CURVE.beta), k2p.y, k2p.z);\n        return k1p.add(k2p);\n    }\n    precomputeWindow(W) {\n        const windows = USE_ENDOMORPHISM ? 128 / W + 1 : 256 / W + 1;\n        const points = [];\n        let p = this;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            for (let i = 1; i < 2 ** (W - 1); i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    wNAF(n, affinePoint) {\n        if (!affinePoint && this.equals(JacobianPoint.BASE))\n            affinePoint = Point.BASE;\n        const W = (affinePoint && affinePoint._WINDOW_SIZE) || 1;\n        if (256 % W) {\n            throw new Error('Point#wNAF: Invalid precomputation window, must be power of 2');\n        }\n        let precomputes = affinePoint && pointPrecomputes.get(affinePoint);\n        if (!precomputes) {\n            precomputes = this.precomputeWindow(W);\n            if (affinePoint && W !== 1) {\n                precomputes = JacobianPoint.normalizeZ(precomputes);\n                pointPrecomputes.set(affinePoint, precomputes);\n            }\n        }\n        let p = JacobianPoint.ZERO;\n        let f = JacobianPoint.ZERO;\n        const windows = 1 + (USE_ENDOMORPHISM ? 128 / W : 256 / W);\n        const windowSize = 2 ** (W - 1);\n        const mask = BigInt(2 ** W - 1);\n        const maxNumber = 2 ** W;\n        const shiftBy = BigInt(W);\n        for (let window = 0; window < windows; window++) {\n            const offset = window * windowSize;\n            let wbits = Number(n & mask);\n            n >>= shiftBy;\n            if (wbits > windowSize) {\n                wbits -= maxNumber;\n                n += _1n;\n            }\n            if (wbits === 0) {\n                let pr = precomputes[offset];\n                if (window % 2)\n                    pr = pr.negate();\n                f = f.add(pr);\n            }\n            else {\n                let cached = precomputes[offset + Math.abs(wbits) - 1];\n                if (wbits < 0)\n                    cached = cached.negate();\n                p = p.add(cached);\n            }\n        }\n        return { p, f };\n    }\n    multiply(scalar, affinePoint) {\n        let n = normalizeScalar(scalar);\n        let point;\n        let fake;\n        if (USE_ENDOMORPHISM) {\n            const { k1neg, k1, k2neg, k2 } = splitScalarEndo(n);\n            let { p: k1p, f: f1p } = this.wNAF(k1, affinePoint);\n            let { p: k2p, f: f2p } = this.wNAF(k2, affinePoint);\n            if (k1neg)\n                k1p = k1p.negate();\n            if (k2neg)\n                k2p = k2p.negate();\n            k2p = new JacobianPoint(mod(k2p.x * CURVE.beta), k2p.y, k2p.z);\n            point = k1p.add(k2p);\n            fake = f1p.add(f2p);\n        }\n        else {\n            const { p, f } = this.wNAF(n, affinePoint);\n            point = p;\n            fake = f;\n        }\n        return JacobianPoint.normalizeZ([point, fake])[0];\n    }\n    toAffine(invZ = invert(this.z)) {\n        const { x, y, z } = this;\n        const iz1 = invZ;\n        const iz2 = mod(iz1 * iz1);\n        const iz3 = mod(iz2 * iz1);\n        const ax = mod(x * iz2);\n        const ay = mod(y * iz3);\n        const zz = mod(z * iz1);\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return new Point(ax, ay);\n    }\n}\nJacobianPoint.BASE = new JacobianPoint(CURVE.Gx, CURVE.Gy, _1n);\nJacobianPoint.ZERO = new JacobianPoint(_0n, _1n, _0n);\nconst pointPrecomputes = new WeakMap();\nexport class Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n    }\n    hasEvenY() {\n        return this.y % _2n === _0n;\n    }\n    static fromCompressedHex(bytes) {\n        const isShort = bytes.length === 32;\n        const x = bytesToNumber(isShort ? bytes : bytes.subarray(1));\n        if (!isValidFieldElement(x))\n            throw new Error('Point is not on curve');\n        const y2 = weistrass(x);\n        let y = sqrtMod(y2);\n        const isYOdd = (y & _1n) === _1n;\n        if (isShort) {\n            if (isYOdd)\n                y = mod(-y);\n        }\n        else {\n            const isFirstByteOdd = (bytes[0] & 1) === 1;\n            if (isFirstByteOdd !== isYOdd)\n                y = mod(-y);\n        }\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromUncompressedHex(bytes) {\n        const x = bytesToNumber(bytes.subarray(1, 33));\n        const y = bytesToNumber(bytes.subarray(33, 65));\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        const len = bytes.length;\n        const header = bytes[0];\n        if (len === 32 || (len === 33 && (header === 0x02 || header === 0x03))) {\n            return this.fromCompressedHex(bytes);\n        }\n        if (len === 65 && header === 0x04)\n            return this.fromUncompressedHex(bytes);\n        throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${len}`);\n    }\n    static fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normalizePrivateKey(privateKey));\n    }\n    static fromSignature(msgHash, signature, recovery) {\n        msgHash = ensureBytes(msgHash);\n        const h = truncateHash(msgHash);\n        const { r, s } = normalizeSignature(signature);\n        if (recovery !== 0 && recovery !== 1) {\n            throw new Error('Cannot recover signature: invalid recovery bit');\n        }\n        const prefix = recovery & 1 ? '03' : '02';\n        const R = Point.fromHex(prefix + numTo32bStr(r));\n        const { n } = CURVE;\n        const rinv = invert(r, n);\n        const u1 = mod(-h * rinv, n);\n        const u2 = mod(s * rinv, n);\n        const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2);\n        if (!Q)\n            throw new Error('Cannot recover signature: point at infinify');\n        Q.assertValidity();\n        return Q;\n    }\n    toRawBytes(isCompressed = false) {\n        return hexToBytes(this.toHex(isCompressed));\n    }\n    toHex(isCompressed = false) {\n        const x = numTo32bStr(this.x);\n        if (isCompressed) {\n            const prefix = this.hasEvenY() ? '02' : '03';\n            return `${prefix}${x}`;\n        }\n        else {\n            return `04${x}${numTo32bStr(this.y)}`;\n        }\n    }\n    toHexX() {\n        return this.toHex(true).slice(2);\n    }\n    toRawX() {\n        return this.toRawBytes(true).slice(1);\n    }\n    assertValidity() {\n        const msg = 'Point is not on elliptic curve';\n        const { x, y } = this;\n        if (!isValidFieldElement(x) || !isValidFieldElement(y))\n            throw new Error(msg);\n        const left = mod(y * y);\n        const right = weistrass(x);\n        if (mod(left - right) !== _0n)\n            throw new Error(msg);\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y;\n    }\n    negate() {\n        return new Point(this.x, mod(-this.y));\n    }\n    double() {\n        return JacobianPoint.fromAffine(this).double().toAffine();\n    }\n    add(other) {\n        return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine();\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiply(scalar) {\n        return JacobianPoint.fromAffine(this).multiply(scalar, this).toAffine();\n    }\n    multiplyAndAddUnsafe(Q, a, b) {\n        const P = JacobianPoint.fromAffine(this);\n        const aP = a === _0n || a === _1n || this !== Point.BASE ? P.multiplyUnsafe(a) : P.multiply(a);\n        const bQ = JacobianPoint.fromAffine(Q).multiplyUnsafe(b);\n        const sum = aP.add(bQ);\n        return sum.equals(JacobianPoint.ZERO) ? undefined : sum.toAffine();\n    }\n}\nPoint.BASE = new Point(CURVE.Gx, CURVE.Gy);\nPoint.ZERO = new Point(_0n, _0n);\nfunction sliceDER(s) {\n    return Number.parseInt(s[0], 16) >= 8 ? '00' + s : s;\n}\nfunction parseDERInt(data) {\n    if (data.length < 2 || data[0] !== 0x02) {\n        throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);\n    }\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) {\n        throw new Error(`Invalid signature integer: wrong length`);\n    }\n    if (res[0] === 0x00 && res[1] <= 0x7f) {\n        throw new Error('Invalid signature integer: trailing length');\n    }\n    return { data: bytesToNumber(res), left: data.subarray(len + 2) };\n}\nfunction parseDERSignature(data) {\n    if (data.length < 2 || data[0] != 0x30) {\n        throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);\n    }\n    if (data[1] !== data.length - 2) {\n        throw new Error('Invalid signature: incorrect length');\n    }\n    const { data: r, left: sBytes } = parseDERInt(data.subarray(2));\n    const { data: s, left: rBytesLeft } = parseDERInt(sBytes);\n    if (rBytesLeft.length) {\n        throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);\n    }\n    return { r, s };\n}\nexport class Signature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromCompact(hex) {\n        const arr = hex instanceof Uint8Array;\n        const name = 'Signature.fromCompact';\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`${name}: Expected string or Uint8Array`);\n        const str = arr ? bytesToHex(hex) : hex;\n        if (str.length !== 128)\n            throw new Error(`${name}: Expected 64-byte hex`);\n        return new Signature(hexToNumber(str.slice(0, 64)), hexToNumber(str.slice(64, 128)));\n    }\n    static fromDER(hex) {\n        const arr = hex instanceof Uint8Array;\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`Signature.fromDER: Expected string or Uint8Array`);\n        const { r, s } = parseDERSignature(arr ? hex : hexToBytes(hex));\n        return new Signature(r, s);\n    }\n    static fromHex(hex) {\n        return this.fromDER(hex);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isWithinCurveOrder(r))\n            throw new Error('Invalid Signature: r must be 0 < r < n');\n        if (!isWithinCurveOrder(s))\n            throw new Error('Invalid Signature: s must be 0 < s < n');\n    }\n    hasHighS() {\n        const HALF = CURVE.n >> _1n;\n        return this.s > HALF;\n    }\n    normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, CURVE.n - this.s) : this;\n    }\n    toDERRawBytes(isCompressed = false) {\n        return hexToBytes(this.toDERHex(isCompressed));\n    }\n    toDERHex(isCompressed = false) {\n        const sHex = sliceDER(numberToHexUnpadded(this.s));\n        if (isCompressed)\n            return sHex;\n        const rHex = sliceDER(numberToHexUnpadded(this.r));\n        const rLen = numberToHexUnpadded(rHex.length / 2);\n        const sLen = numberToHexUnpadded(sHex.length / 2);\n        const length = numberToHexUnpadded(rHex.length / 2 + sHex.length / 2 + 4);\n        return `30${length}02${rLen}${rHex}02${sLen}${sHex}`;\n    }\n    toRawBytes() {\n        return this.toDERRawBytes();\n    }\n    toHex() {\n        return this.toDERHex();\n    }\n    toCompactRawBytes() {\n        return hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n}\nfunction concatBytes(...arrays) {\n    if (!arrays.every((b) => b instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\nconst POW_2_256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\nfunction numTo32bStr(num) {\n    if (typeof num !== 'bigint')\n        throw new Error('Expected bigint');\n    if (!(_0n <= num && num < POW_2_256))\n        throw new Error('Expected number < 2^256');\n    return num.toString(16).padStart(64, '0');\n}\nfunction numTo32b(num) {\n    const b = hexToBytes(numTo32bStr(num));\n    if (b.length !== 32)\n        throw new Error('Error: expected 32 bytes');\n    return b;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToNumber: expected string, got ' + typeof hex);\n    }\n    return BigInt(`0x${hex}`);\n}\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex' + hex.length);\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nfunction bytesToNumber(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction ensureBytes(hex) {\n    return hex instanceof Uint8Array ? Uint8Array.from(hex) : hexToBytes(hex);\n}\nfunction normalizeScalar(num) {\n    if (typeof num === 'number' && Number.isSafeInteger(num) && num > 0)\n        return BigInt(num);\n    if (typeof num === 'bigint' && isWithinCurveOrder(num))\n        return num;\n    throw new TypeError('Expected valid private scalar: 0 < scalar < curve.n');\n}\nfunction mod(a, b = CURVE.P) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\nfunction pow2(x, power) {\n    const { P } = CURVE;\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= P;\n    }\n    return res;\n}\nfunction sqrtMod(x) {\n    const { P } = CURVE;\n    const _6n = BigInt(6);\n    const _11n = BigInt(11);\n    const _22n = BigInt(22);\n    const _23n = BigInt(23);\n    const _44n = BigInt(44);\n    const _88n = BigInt(88);\n    const b2 = (x * x * x) % P;\n    const b3 = (b2 * b2 * x) % P;\n    const b6 = (pow2(b3, _3n) * b3) % P;\n    const b9 = (pow2(b6, _3n) * b3) % P;\n    const b11 = (pow2(b9, _2n) * b2) % P;\n    const b22 = (pow2(b11, _11n) * b11) % P;\n    const b44 = (pow2(b22, _22n) * b22) % P;\n    const b88 = (pow2(b44, _44n) * b44) % P;\n    const b176 = (pow2(b88, _88n) * b88) % P;\n    const b220 = (pow2(b176, _44n) * b44) % P;\n    const b223 = (pow2(b220, _3n) * b3) % P;\n    const t1 = (pow2(b223, _23n) * b22) % P;\n    const t2 = (pow2(t1, _6n) * b2) % P;\n    return pow2(t2, _2n);\n}\nfunction invert(number, modulo = CURVE.P) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    let a = mod(number, modulo);\n    let b = modulo;\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction invertBatch(nums, p = CURVE.P) {\n    const scratch = new Array(nums.length);\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = acc;\n        return mod(acc * num, p);\n    }, _1n);\n    const inverted = invert(lastMultiplied, p);\n    nums.reduceRight((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = mod(acc * scratch[i], p);\n        return mod(acc * num, p);\n    }, inverted);\n    return scratch;\n}\nconst divNearest = (a, b) => (a + b / _2n) / b;\nconst ENDO = {\n    a1: BigInt('0x3086d221a7d46bcde86c90e49284eb15'),\n    b1: -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3'),\n    a2: BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8'),\n    b2: BigInt('0x3086d221a7d46bcde86c90e49284eb15'),\n    POW_2_128: BigInt('0x100000000000000000000000000000000'),\n};\nfunction splitScalarEndo(k) {\n    const { n } = CURVE;\n    const { a1, b1, a2, b2, POW_2_128 } = ENDO;\n    const c1 = divNearest(b2 * k, n);\n    const c2 = divNearest(-b1 * k, n);\n    let k1 = mod(k - c1 * a1 - c2 * a2, n);\n    let k2 = mod(-c1 * b1 - c2 * b2, n);\n    const k1neg = k1 > POW_2_128;\n    const k2neg = k2 > POW_2_128;\n    if (k1neg)\n        k1 = n - k1;\n    if (k2neg)\n        k2 = n - k2;\n    if (k1 > POW_2_128 || k2 > POW_2_128) {\n        throw new Error('splitScalarEndo: Endomorphism failed, k=' + k);\n    }\n    return { k1neg, k1, k2neg, k2 };\n}\nfunction truncateHash(hash) {\n    const { n } = CURVE;\n    const byteLength = hash.length;\n    const delta = byteLength * 8 - 256;\n    let h = bytesToNumber(hash);\n    if (delta > 0)\n        h = h >> BigInt(delta);\n    if (h >= n)\n        h -= n;\n    return h;\n}\nlet _sha256Sync;\nlet _hmacSha256Sync;\nclass HmacDrbg {\n    constructor() {\n        this.v = new Uint8Array(32).fill(1);\n        this.k = new Uint8Array(32).fill(0);\n        this.counter = 0;\n    }\n    hmac(...values) {\n        return utils.hmacSha256(this.k, ...values);\n    }\n    hmacSync(...values) {\n        return _hmacSha256Sync(this.k, ...values);\n    }\n    checkSync() {\n        if (typeof _hmacSha256Sync !== 'function')\n            throw new ShaError('hmacSha256Sync needs to be set');\n    }\n    incr() {\n        if (this.counter >= 1000)\n            throw new Error('Tried 1,000 k values for sign(), all were invalid');\n        this.counter += 1;\n    }\n    async reseed(seed = new Uint8Array()) {\n        this.k = await this.hmac(this.v, Uint8Array.from([0x00]), seed);\n        this.v = await this.hmac(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = await this.hmac(this.v, Uint8Array.from([0x01]), seed);\n        this.v = await this.hmac(this.v);\n    }\n    reseedSync(seed = new Uint8Array()) {\n        this.checkSync();\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x00]), seed);\n        this.v = this.hmacSync(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x01]), seed);\n        this.v = this.hmacSync(this.v);\n    }\n    async generate() {\n        this.incr();\n        this.v = await this.hmac(this.v);\n        return this.v;\n    }\n    generateSync() {\n        this.checkSync();\n        this.incr();\n        this.v = this.hmacSync(this.v);\n        return this.v;\n    }\n}\nfunction isWithinCurveOrder(num) {\n    return _0n < num && num < CURVE.n;\n}\nfunction isValidFieldElement(num) {\n    return _0n < num && num < CURVE.P;\n}\nfunction kmdToSig(kBytes, m, d) {\n    const k = bytesToNumber(kBytes);\n    if (!isWithinCurveOrder(k))\n        return;\n    const { n } = CURVE;\n    const q = Point.BASE.multiply(k);\n    const r = mod(q.x, n);\n    if (r === _0n)\n        return;\n    const s = mod(invert(k, n) * mod(m + d * r, n), n);\n    if (s === _0n)\n        return;\n    const sig = new Signature(r, s);\n    const recovery = (q.x === sig.r ? 0 : 2) | Number(q.y & _1n);\n    return { sig, recovery };\n}\nfunction normalizePrivateKey(key) {\n    let num;\n    if (typeof key === 'bigint') {\n        num = key;\n    }\n    else if (typeof key === 'number' && Number.isSafeInteger(key) && key > 0) {\n        num = BigInt(key);\n    }\n    else if (typeof key === 'string') {\n        if (key.length !== 64)\n            throw new Error('Expected 32 bytes of private key');\n        num = hexToNumber(key);\n    }\n    else if (key instanceof Uint8Array) {\n        if (key.length !== 32)\n            throw new Error('Expected 32 bytes of private key');\n        num = bytesToNumber(key);\n    }\n    else {\n        throw new TypeError('Expected valid private key');\n    }\n    if (!isWithinCurveOrder(num))\n        throw new Error('Expected private key: 0 < key < n');\n    return num;\n}\nfunction normalizePublicKey(publicKey) {\n    if (publicKey instanceof Point) {\n        publicKey.assertValidity();\n        return publicKey;\n    }\n    else {\n        return Point.fromHex(publicKey);\n    }\n}\nfunction normalizeSignature(signature) {\n    if (signature instanceof Signature) {\n        signature.assertValidity();\n        return signature;\n    }\n    try {\n        return Signature.fromDER(signature);\n    }\n    catch (error) {\n        return Signature.fromCompact(signature);\n    }\n}\nexport function getPublicKey(privateKey, isCompressed = false) {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n}\nexport function recoverPublicKey(msgHash, signature, recovery, isCompressed = false) {\n    return Point.fromSignature(msgHash, signature, recovery).toRawBytes(isCompressed);\n}\nfunction isProbPub(item) {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && item.length;\n    if (arr)\n        return len === 33 || len === 65;\n    if (str)\n        return len === 66 || len === 130;\n    if (item instanceof Point)\n        return true;\n    return false;\n}\nexport function getSharedSecret(privateA, publicB, isCompressed = false) {\n    if (isProbPub(privateA))\n        throw new TypeError('getSharedSecret: first arg must be private key');\n    if (!isProbPub(publicB))\n        throw new TypeError('getSharedSecret: second arg must be public key');\n    const b = normalizePublicKey(publicB);\n    b.assertValidity();\n    return b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed);\n}\nfunction bits2int(bytes) {\n    const slice = bytes.length > 32 ? bytes.slice(0, 32) : bytes;\n    return bytesToNumber(slice);\n}\nfunction bits2octets(bytes) {\n    const z1 = bits2int(bytes);\n    const z2 = mod(z1, CURVE.n);\n    return int2octets(z2 < _0n ? z1 : z2);\n}\nfunction int2octets(num) {\n    return numTo32b(num);\n}\nfunction initSigArgs(msgHash, privateKey, extraEntropy) {\n    if (msgHash == null)\n        throw new Error(`sign: expected valid message hash, not \"${msgHash}\"`);\n    const h1 = ensureBytes(msgHash);\n    const d = normalizePrivateKey(privateKey);\n    const seedArgs = [int2octets(d), bits2octets(h1)];\n    if (extraEntropy != null) {\n        if (extraEntropy === true)\n            extraEntropy = utils.randomBytes(32);\n        const e = ensureBytes(extraEntropy);\n        if (e.length !== 32)\n            throw new Error('sign: Expected 32 bytes of extra data');\n        seedArgs.push(e);\n    }\n    const seed = concatBytes(...seedArgs);\n    const m = bits2int(h1);\n    return { seed, m, d };\n}\nfunction finalizeSig(recSig, opts) {\n    let { sig, recovery } = recSig;\n    const { canonical, der, recovered } = Object.assign({ canonical: true, der: true }, opts);\n    if (canonical && sig.hasHighS()) {\n        sig = sig.normalizeS();\n        recovery ^= 1;\n    }\n    const hashed = der ? sig.toDERRawBytes() : sig.toCompactRawBytes();\n    return recovered ? [hashed, recovery] : hashed;\n}\nasync function sign(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    let sig;\n    const drbg = new HmacDrbg();\n    await drbg.reseed(seed);\n    while (!(sig = kmdToSig(await drbg.generate(), m, d)))\n        await drbg.reseed();\n    return finalizeSig(sig, opts);\n}\nfunction signSync(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    let sig;\n    const drbg = new HmacDrbg();\n    drbg.reseedSync(seed);\n    while (!(sig = kmdToSig(drbg.generateSync(), m, d)))\n        drbg.reseedSync();\n    return finalizeSig(sig, opts);\n}\nexport { sign, signSync };\nconst vopts = { strict: true };\nexport function verify(signature, msgHash, publicKey, opts = vopts) {\n    let sig;\n    try {\n        sig = normalizeSignature(signature);\n        msgHash = ensureBytes(msgHash);\n    }\n    catch (error) {\n        return false;\n    }\n    const { r, s } = sig;\n    if (opts.strict && sig.hasHighS())\n        return false;\n    const h = truncateHash(msgHash);\n    let P;\n    try {\n        P = normalizePublicKey(publicKey);\n    }\n    catch (error) {\n        return false;\n    }\n    const { n } = CURVE;\n    const sinv = invert(s, n);\n    const u1 = mod(h * sinv, n);\n    const u2 = mod(r * sinv, n);\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2);\n    if (!R)\n        return false;\n    const v = mod(R.x, n);\n    return v === r;\n}\nfunction schnorrChallengeFinalize(ch) {\n    return mod(bytesToNumber(ch), CURVE.n);\n}\nclass SchnorrSignature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        if (bytes.length !== 64)\n            throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${bytes.length}`);\n        const r = bytesToNumber(bytes.subarray(0, 32));\n        const s = bytesToNumber(bytes.subarray(32, 64));\n        return new SchnorrSignature(r, s);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isValidFieldElement(r) || !isWithinCurveOrder(s))\n            throw new Error('Invalid signature');\n    }\n    toHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n    toRawBytes() {\n        return hexToBytes(this.toHex());\n    }\n}\nfunction schnorrGetPublicKey(privateKey) {\n    return Point.fromPrivateKey(privateKey).toRawX();\n}\nclass InternalSchnorrSignature {\n    constructor(message, privateKey, auxRand = utils.randomBytes()) {\n        if (message == null)\n            throw new TypeError(`sign: Expected valid message, not \"${message}\"`);\n        this.m = ensureBytes(message);\n        const { x, scalar } = this.getScalar(normalizePrivateKey(privateKey));\n        this.px = x;\n        this.d = scalar;\n        this.rand = ensureBytes(auxRand);\n        if (this.rand.length !== 32)\n            throw new TypeError('sign: Expected 32 bytes of aux randomness');\n    }\n    getScalar(priv) {\n        const point = Point.fromPrivateKey(priv);\n        const scalar = point.hasEvenY() ? priv : CURVE.n - priv;\n        return { point, scalar, x: point.toRawX() };\n    }\n    initNonce(d, t0h) {\n        return numTo32b(d ^ bytesToNumber(t0h));\n    }\n    finalizeNonce(k0h) {\n        const k0 = mod(bytesToNumber(k0h), CURVE.n);\n        if (k0 === _0n)\n            throw new Error('sign: Creation of signature failed. k is zero');\n        const { point: R, x: rx, scalar: k } = this.getScalar(k0);\n        return { R, rx, k };\n    }\n    finalizeSig(R, k, e, d) {\n        return new SchnorrSignature(R.x, mod(k + e * d, CURVE.n)).toRawBytes();\n    }\n    error() {\n        throw new Error('sign: Invalid signature produced');\n    }\n    async calc() {\n        const { m, d, px, rand } = this;\n        const tag = utils.taggedHash;\n        const t = this.initNonce(d, await tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(await tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(await tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!(await schnorrVerify(sig, m, px)))\n            this.error();\n        return sig;\n    }\n    calcSync() {\n        const { m, d, px, rand } = this;\n        const tag = utils.taggedHashSync;\n        const t = this.initNonce(d, tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!schnorrVerifySync(sig, m, px))\n            this.error();\n        return sig;\n    }\n}\nasync function schnorrSign(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calc();\n}\nfunction schnorrSignSync(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calcSync();\n}\nfunction initSchnorrVerify(signature, message, publicKey) {\n    const raw = signature instanceof SchnorrSignature;\n    const sig = raw ? signature : SchnorrSignature.fromHex(signature);\n    if (raw)\n        sig.assertValidity();\n    return {\n        ...sig,\n        m: ensureBytes(message),\n        P: normalizePublicKey(publicKey),\n    };\n}\nfunction finalizeSchnorrVerify(r, P, s, e) {\n    const R = Point.BASE.multiplyAndAddUnsafe(P, normalizePrivateKey(s), mod(-e, CURVE.n));\n    if (!R || !R.hasEvenY() || R.x !== r)\n        return false;\n    return true;\n}\nasync function schnorrVerify(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(await utils.taggedHash(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction schnorrVerifySync(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(utils.taggedHashSync(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        if (error instanceof ShaError)\n            throw error;\n        return false;\n    }\n}\nexport const schnorr = {\n    Signature: SchnorrSignature,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    signSync: schnorrSignSync,\n    verifySync: schnorrVerifySync,\n};\nPoint.BASE._setWindowSize(8);\nconst crypto = {\n    node: nodeCrypto,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n};\nconst TAGS = {\n    challenge: 'BIP0340/challenge',\n    aux: 'BIP0340/aux',\n    nonce: 'BIP0340/nonce',\n};\nconst TAGGED_HASH_PREFIXES = {};\nexport const utils = {\n    bytesToHex,\n    hexToBytes,\n    concatBytes,\n    mod,\n    invert,\n    isValidPrivateKey(privateKey) {\n        try {\n            normalizePrivateKey(privateKey);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    _bigintTo32Bytes: numTo32b,\n    _normalizePrivateKey: normalizePrivateKey,\n    hashToPrivateKey: (hash) => {\n        hash = ensureBytes(hash);\n        if (hash.length < 40 || hash.length > 1024)\n            throw new Error('Expected 40-1024 bytes of private key as per FIPS 186');\n        const num = mod(bytesToNumber(hash), CURVE.n - _1n) + _1n;\n        return numTo32b(num);\n    },\n    randomBytes: (bytesLength = 32) => {\n        if (crypto.web) {\n            return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n        }\n        else if (crypto.node) {\n            const { randomBytes } = crypto.node;\n            return Uint8Array.from(randomBytes(bytesLength));\n        }\n        else {\n            throw new Error(\"The environment doesn't have randomBytes function\");\n        }\n    },\n    randomPrivateKey: () => {\n        return utils.hashToPrivateKey(utils.randomBytes(40));\n    },\n    sha256: async (...messages) => {\n        if (crypto.web) {\n            const buffer = await crypto.web.subtle.digest('SHA-256', concatBytes(...messages));\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHash } = crypto.node;\n            const hash = createHash('sha256');\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have sha256 function\");\n        }\n    },\n    hmacSha256: async (key, ...messages) => {\n        if (crypto.web) {\n            const ckey = await crypto.web.subtle.importKey('raw', key, { name: 'HMAC', hash: { name: 'SHA-256' } }, false, ['sign']);\n            const message = concatBytes(...messages);\n            const buffer = await crypto.web.subtle.sign('HMAC', ckey, message);\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHmac } = crypto.node;\n            const hash = createHmac('sha256', key);\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have hmac-sha256 function\");\n        }\n    },\n    sha256Sync: undefined,\n    hmacSha256Sync: undefined,\n    taggedHash: async (tag, ...messages) => {\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = await utils.sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return utils.sha256(tagP, ...messages);\n    },\n    taggedHashSync: (tag, ...messages) => {\n        if (typeof _sha256Sync !== 'function')\n            throw new ShaError('sha256Sync is undefined, you need to set it');\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = _sha256Sync(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return _sha256Sync(tagP, ...messages);\n    },\n    precompute(windowSize = 8, point = Point.BASE) {\n        const cached = point === Point.BASE ? point : new Point(point.x, point.y);\n        cached._setWindowSize(windowSize);\n        cached.multiply(_3n);\n        return cached;\n    },\n};\nObject.defineProperties(utils, {\n    sha256Sync: {\n        configurable: false,\n        get() {\n            return _sha256Sync;\n        },\n        set(val) {\n            if (!_sha256Sync)\n                _sha256Sync = val;\n        },\n    },\n    hmacSha256Sync: {\n        configurable: false,\n        get() {\n            return _hmacSha256Sync;\n        },\n        set(val) {\n            if (!_hmacSha256Sync)\n                _hmacSha256Sync = val;\n        },\n    },\n});\n","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// Choice: a ? b : c\nconst Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = new Uint32Array(64);\nclass SHA256 extends SHA2 {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = IV[0] | 0;\n        this.B = IV[1] | 0;\n        this.C = IV[2] | 0;\n        this.D = IV[3] | 0;\n        this.E = IV[4] | 0;\n        this.F = IV[5] | 0;\n        this.G = IV[6] | 0;\n        this.H = IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = wrapConstructor(() => new SHA256());\nexport const sha224 = wrapConstructor(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","//\n// secp256k1_publickey.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport sha3 from 'js-sha3'\nimport { fromB64, toB64 } from './crypto_utils'\nimport {\n    bytesEqual,\n    PublicKey,\n    PublicKeyInitData,\n    SIGNATURE_SCHEME_TO_FLAG,\n} from './publickey'\n\nconst SECP256K1_PUBLIC_KEY_SIZE = 33\n\n/**\n * A Secp256k1 public key\n */\nexport class Secp256k1PublicKey implements PublicKey {\n    private data: Uint8Array\n\n    /**\n     * Create a new Secp256k1PublicKey object\n     * @param value secp256k1 public key as buffer or base-64 encoded string\n     */\n    constructor(value: PublicKeyInitData) {\n        if (typeof value === 'string') {\n            this.data = fromB64(value)\n        } else if (value instanceof Uint8Array) {\n            this.data = value\n        } else {\n            this.data = Uint8Array.from(value)\n        }\n\n        if (this.data.length !== SECP256K1_PUBLIC_KEY_SIZE) {\n            throw new Error(\n                `Invalid public key input. Expected ${SECP256K1_PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`\n            )\n        }\n    }\n\n    /**\n     * Checks if two Secp256k1 public keys are equal\n     */\n    equals(publicKey: Secp256k1PublicKey): boolean {\n        return bytesEqual(this.toBytes(), publicKey.toBytes())\n    }\n\n    /**\n     * Return the base-64 representation of the Secp256k1 public key\n     */\n    toBase64(): string {\n        return toB64(this.toBytes())\n    }\n\n    /**\n     * Return the byte array representation of the Secp256k1 public key\n     */\n    toBytes(): Uint8Array {\n        return this.data\n    }\n\n    /**\n     * Return the base-64 representation of the Secp256k1 public key\n     */\n    toString(): string {\n        return this.toBase64()\n    }\n\n    /**\n     * Return the db3 address associated with this Secp256k1 public key\n     */\n    toAddress(): string {\n        let tmp = new Uint8Array(SECP256K1_PUBLIC_KEY_SIZE + 1)\n        tmp.set([SIGNATURE_SCHEME_TO_FLAG['Secp256k1']])\n        tmp.set(this.toBytes(), 1)\n        return '0x' + sha3.sha3_256(tmp).slice(0, 40)\n    }\n}\n","import { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nconst Rho = new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nconst Id = Uint8Array.from({ length: 16 }, (_, i) => i);\nconst Pi = Id.map((i) => (9 * i + 5) % 16);\nlet idxL = [Id];\nlet idxR = [Pi];\nfor (let i = 0; i < 4; i++)\n    for (let j of [idxL, idxR])\n        j.push(j[i].map((k) => Rho[k]));\nconst shifts = [\n    [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\n    [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\n    [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\n    [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\n    [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\n].map((i) => new Uint8Array(i));\nconst shiftsL = idxL.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst shiftsR = idxR.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst Kl = new Uint32Array([0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e]);\nconst Kr = new Uint32Array([0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000]);\n// The rotate left (circular left shift) operation for uint32\nconst rotl = (word, shift) => (word << shift) | (word >>> (32 - shift));\n// It's called f() in spec.\nfunction f(group, x, y, z) {\n    if (group === 0)\n        return x ^ y ^ z;\n    else if (group === 1)\n        return (x & y) | (~x & z);\n    else if (group === 2)\n        return (x | ~y) ^ z;\n    else if (group === 3)\n        return (x & z) | (y & ~z);\n    else\n        return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nconst BUF = new Uint32Array(16);\nexport class RIPEMD160 extends SHA2 {\n    constructor() {\n        super(64, 20, 8, true);\n        this.h0 = 0x67452301 | 0;\n        this.h1 = 0xefcdab89 | 0;\n        this.h2 = 0x98badcfe | 0;\n        this.h3 = 0x10325476 | 0;\n        this.h4 = 0xc3d2e1f0 | 0;\n    }\n    get() {\n        const { h0, h1, h2, h3, h4 } = this;\n        return [h0, h1, h2, h3, h4];\n    }\n    set(h0, h1, h2, h3, h4) {\n        this.h0 = h0 | 0;\n        this.h1 = h1 | 0;\n        this.h2 = h2 | 0;\n        this.h3 = h3 | 0;\n        this.h4 = h4 | 0;\n    }\n    process(view, offset) {\n        for (let i = 0; i < 16; i++, offset += 4)\n            BUF[i] = view.getUint32(offset, true);\n        // prettier-ignore\n        let al = this.h0 | 0, ar = al, bl = this.h1 | 0, br = bl, cl = this.h2 | 0, cr = cl, dl = this.h3 | 0, dr = dl, el = this.h4 | 0, er = el;\n        // Instead of iterating 0 to 80, we split it into 5 groups\n        // And use the groups in constants, functions, etc. Much simpler\n        for (let group = 0; group < 5; group++) {\n            const rGroup = 4 - group;\n            const hbl = Kl[group], hbr = Kr[group]; // prettier-ignore\n            const rl = idxL[group], rr = idxR[group]; // prettier-ignore\n            const sl = shiftsL[group], sr = shiftsR[group]; // prettier-ignore\n            for (let i = 0; i < 16; i++) {\n                const tl = (rotl(al + f(group, bl, cl, dl) + BUF[rl[i]] + hbl, sl[i]) + el) | 0;\n                al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n            }\n            // 2 loops are 10% faster\n            for (let i = 0; i < 16; i++) {\n                const tr = (rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[i]] + hbr, sr[i]) + er) | 0;\n                ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n            }\n        }\n        // Add the compressed chunk to the current hash value\n        this.set((this.h1 + cl + dr) | 0, (this.h2 + dl + er) | 0, (this.h3 + el + ar) | 0, (this.h4 + al + br) | 0, (this.h0 + bl + cr) | 0);\n    }\n    roundClean() {\n        BUF.fill(0);\n    }\n    destroy() {\n        this.destroyed = true;\n        this.buffer.fill(0);\n        this.set(0, 0, 0, 0, 0);\n    }\n}\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexport const ripemd160 = wrapConstructor(() => new RIPEMD160());\n//# sourceMappingURL=ripemd160.js.map","/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\nimport * as nodeCrypto from 'crypto';\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _3n = BigInt(3);\nconst _8n = BigInt(8);\nconst CURVE = Object.freeze({\n    a: _0n,\n    b: BigInt(7),\n    P: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: _1n,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n});\nconst divNearest = (a, b) => (a + b / _2n) / b;\nconst endo = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    splitScalar(k) {\n        const { n } = CURVE;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000');\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg)\n            k1 = n - k1;\n        if (k2neg)\n            k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n            throw new Error('splitScalarEndo: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n    },\n};\nconst fieldLen = 32;\nconst groupLen = 32;\nconst hashLen = 32;\nconst compressedLen = fieldLen + 1;\nconst uncompressedLen = 2 * fieldLen + 1;\nexport { CURVE };\nfunction weierstrass(x) {\n    const { a, b } = CURVE;\n    const x2 = mod(x * x);\n    const x3 = mod(x2 * x);\n    return mod(x3 + a * x + b);\n}\nconst USE_ENDOMORPHISM = CURVE.a === _0n;\nclass ShaError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nfunction assertJacPoint(other) {\n    if (!(other instanceof JacobianPoint))\n        throw new TypeError('JacobianPoint expected');\n}\nclass JacobianPoint {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    static fromAffine(p) {\n        if (!(p instanceof Point)) {\n            throw new TypeError('JacobianPoint#fromAffine: expected Point');\n        }\n        if (p.equals(Point.ZERO))\n            return JacobianPoint.ZERO;\n        return new JacobianPoint(p.x, p.y, _1n);\n    }\n    static toAffineBatch(points) {\n        const toInv = invertBatch(points.map((p) => p.z));\n        return points.map((p, i) => p.toAffine(toInv[i]));\n    }\n    static normalizeZ(points) {\n        return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine);\n    }\n    equals(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        return U1 === U2 && S1 === S2;\n    }\n    negate() {\n        return new JacobianPoint(this.x, mod(-this.y), this.z);\n    }\n    double() {\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const A = mod(X1 * X1);\n        const B = mod(Y1 * Y1);\n        const C = mod(B * B);\n        const x1b = X1 + B;\n        const D = mod(_2n * (mod(x1b * x1b) - A - C));\n        const E = mod(_3n * A);\n        const F = mod(E * E);\n        const X3 = mod(F - _2n * D);\n        const Y3 = mod(E * (D - X3) - _8n * C);\n        const Z3 = mod(_2n * Y1 * Z1);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    add(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        if (X2 === _0n || Y2 === _0n)\n            return this;\n        if (X1 === _0n || Y1 === _0n)\n            return other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        const H = mod(U2 - U1);\n        const r = mod(S2 - S1);\n        if (H === _0n) {\n            if (r === _0n) {\n                return this.double();\n            }\n            else {\n                return JacobianPoint.ZERO;\n            }\n        }\n        const HH = mod(H * H);\n        const HHH = mod(H * HH);\n        const V = mod(U1 * HH);\n        const X3 = mod(r * r - HHH - _2n * V);\n        const Y3 = mod(r * (V - X3) - S1 * HHH);\n        const Z3 = mod(Z1 * Z2 * H);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiplyUnsafe(scalar) {\n        const P0 = JacobianPoint.ZERO;\n        if (typeof scalar === 'bigint' && scalar === _0n)\n            return P0;\n        let n = normalizeScalar(scalar);\n        if (n === _1n)\n            return this;\n        if (!USE_ENDOMORPHISM) {\n            let p = P0;\n            let d = this;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        }\n        let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n        let k1p = P0;\n        let k2p = P0;\n        let d = this;\n        while (k1 > _0n || k2 > _0n) {\n            if (k1 & _1n)\n                k1p = k1p.add(d);\n            if (k2 & _1n)\n                k2p = k2p.add(d);\n            d = d.double();\n            k1 >>= _1n;\n            k2 >>= _1n;\n        }\n        if (k1neg)\n            k1p = k1p.negate();\n        if (k2neg)\n            k2p = k2p.negate();\n        k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n        return k1p.add(k2p);\n    }\n    precomputeWindow(W) {\n        const windows = USE_ENDOMORPHISM ? 128 / W + 1 : 256 / W + 1;\n        const points = [];\n        let p = this;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            for (let i = 1; i < 2 ** (W - 1); i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    wNAF(n, affinePoint) {\n        if (!affinePoint && this.equals(JacobianPoint.BASE))\n            affinePoint = Point.BASE;\n        const W = (affinePoint && affinePoint._WINDOW_SIZE) || 1;\n        if (256 % W) {\n            throw new Error('Point#wNAF: Invalid precomputation window, must be power of 2');\n        }\n        let precomputes = affinePoint && pointPrecomputes.get(affinePoint);\n        if (!precomputes) {\n            precomputes = this.precomputeWindow(W);\n            if (affinePoint && W !== 1) {\n                precomputes = JacobianPoint.normalizeZ(precomputes);\n                pointPrecomputes.set(affinePoint, precomputes);\n            }\n        }\n        let p = JacobianPoint.ZERO;\n        let f = JacobianPoint.BASE;\n        const windows = 1 + (USE_ENDOMORPHISM ? 128 / W : 256 / W);\n        const windowSize = 2 ** (W - 1);\n        const mask = BigInt(2 ** W - 1);\n        const maxNumber = 2 ** W;\n        const shiftBy = BigInt(W);\n        for (let window = 0; window < windows; window++) {\n            const offset = window * windowSize;\n            let wbits = Number(n & mask);\n            n >>= shiftBy;\n            if (wbits > windowSize) {\n                wbits -= maxNumber;\n                n += _1n;\n            }\n            const offset1 = offset;\n            const offset2 = offset + Math.abs(wbits) - 1;\n            const cond1 = window % 2 !== 0;\n            const cond2 = wbits < 0;\n            if (wbits === 0) {\n                f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n            }\n            else {\n                p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n            }\n        }\n        return { p, f };\n    }\n    multiply(scalar, affinePoint) {\n        let n = normalizeScalar(scalar);\n        let point;\n        let fake;\n        if (USE_ENDOMORPHISM) {\n            const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n            let { p: k1p, f: f1p } = this.wNAF(k1, affinePoint);\n            let { p: k2p, f: f2p } = this.wNAF(k2, affinePoint);\n            k1p = constTimeNegate(k1neg, k1p);\n            k2p = constTimeNegate(k2neg, k2p);\n            k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n            point = k1p.add(k2p);\n            fake = f1p.add(f2p);\n        }\n        else {\n            const { p, f } = this.wNAF(n, affinePoint);\n            point = p;\n            fake = f;\n        }\n        return JacobianPoint.normalizeZ([point, fake])[0];\n    }\n    toAffine(invZ) {\n        const { x, y, z } = this;\n        const is0 = this.equals(JacobianPoint.ZERO);\n        if (invZ == null)\n            invZ = is0 ? _8n : invert(z);\n        const iz1 = invZ;\n        const iz2 = mod(iz1 * iz1);\n        const iz3 = mod(iz2 * iz1);\n        const ax = mod(x * iz2);\n        const ay = mod(y * iz3);\n        const zz = mod(z * iz1);\n        if (is0)\n            return Point.ZERO;\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return new Point(ax, ay);\n    }\n}\nJacobianPoint.BASE = new JacobianPoint(CURVE.Gx, CURVE.Gy, _1n);\nJacobianPoint.ZERO = new JacobianPoint(_0n, _1n, _0n);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nconst pointPrecomputes = new WeakMap();\nexport class Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n    }\n    hasEvenY() {\n        return this.y % _2n === _0n;\n    }\n    static fromCompressedHex(bytes) {\n        const isShort = bytes.length === 32;\n        const x = bytesToNumber(isShort ? bytes : bytes.subarray(1));\n        if (!isValidFieldElement(x))\n            throw new Error('Point is not on curve');\n        const y2 = weierstrass(x);\n        let y = sqrtMod(y2);\n        const isYOdd = (y & _1n) === _1n;\n        if (isShort) {\n            if (isYOdd)\n                y = mod(-y);\n        }\n        else {\n            const isFirstByteOdd = (bytes[0] & 1) === 1;\n            if (isFirstByteOdd !== isYOdd)\n                y = mod(-y);\n        }\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromUncompressedHex(bytes) {\n        const x = bytesToNumber(bytes.subarray(1, fieldLen + 1));\n        const y = bytesToNumber(bytes.subarray(fieldLen + 1, fieldLen * 2 + 1));\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        const len = bytes.length;\n        const header = bytes[0];\n        if (len === fieldLen)\n            return this.fromCompressedHex(bytes);\n        if (len === compressedLen && (header === 0x02 || header === 0x03)) {\n            return this.fromCompressedHex(bytes);\n        }\n        if (len === uncompressedLen && header === 0x04)\n            return this.fromUncompressedHex(bytes);\n        throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${len}`);\n    }\n    static fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normalizePrivateKey(privateKey));\n    }\n    static fromSignature(msgHash, signature, recovery) {\n        const { r, s } = normalizeSignature(signature);\n        if (![0, 1, 2, 3].includes(recovery))\n            throw new Error('Cannot recover: invalid recovery bit');\n        const h = truncateHash(ensureBytes(msgHash));\n        const { n } = CURVE;\n        const radj = recovery === 2 || recovery === 3 ? r + n : r;\n        const rinv = invert(radj, n);\n        const u1 = mod(-h * rinv, n);\n        const u2 = mod(s * rinv, n);\n        const prefix = recovery & 1 ? '03' : '02';\n        const R = Point.fromHex(prefix + numTo32bStr(radj));\n        const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2);\n        if (!Q)\n            throw new Error('Cannot recover signature: point at infinify');\n        Q.assertValidity();\n        return Q;\n    }\n    toRawBytes(isCompressed = false) {\n        return hexToBytes(this.toHex(isCompressed));\n    }\n    toHex(isCompressed = false) {\n        const x = numTo32bStr(this.x);\n        if (isCompressed) {\n            const prefix = this.hasEvenY() ? '02' : '03';\n            return `${prefix}${x}`;\n        }\n        else {\n            return `04${x}${numTo32bStr(this.y)}`;\n        }\n    }\n    toHexX() {\n        return this.toHex(true).slice(2);\n    }\n    toRawX() {\n        return this.toRawBytes(true).slice(1);\n    }\n    assertValidity() {\n        const msg = 'Point is not on elliptic curve';\n        const { x, y } = this;\n        if (!isValidFieldElement(x) || !isValidFieldElement(y))\n            throw new Error(msg);\n        const left = mod(y * y);\n        const right = weierstrass(x);\n        if (mod(left - right) !== _0n)\n            throw new Error(msg);\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y;\n    }\n    negate() {\n        return new Point(this.x, mod(-this.y));\n    }\n    double() {\n        return JacobianPoint.fromAffine(this).double().toAffine();\n    }\n    add(other) {\n        return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine();\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiply(scalar) {\n        return JacobianPoint.fromAffine(this).multiply(scalar, this).toAffine();\n    }\n    multiplyAndAddUnsafe(Q, a, b) {\n        const P = JacobianPoint.fromAffine(this);\n        const aP = a === _0n || a === _1n || this !== Point.BASE ? P.multiplyUnsafe(a) : P.multiply(a);\n        const bQ = JacobianPoint.fromAffine(Q).multiplyUnsafe(b);\n        const sum = aP.add(bQ);\n        return sum.equals(JacobianPoint.ZERO) ? undefined : sum.toAffine();\n    }\n}\nPoint.BASE = new Point(CURVE.Gx, CURVE.Gy);\nPoint.ZERO = new Point(_0n, _0n);\nfunction sliceDER(s) {\n    return Number.parseInt(s[0], 16) >= 8 ? '00' + s : s;\n}\nfunction parseDERInt(data) {\n    if (data.length < 2 || data[0] !== 0x02) {\n        throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);\n    }\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) {\n        throw new Error(`Invalid signature integer: wrong length`);\n    }\n    if (res[0] === 0x00 && res[1] <= 0x7f) {\n        throw new Error('Invalid signature integer: trailing length');\n    }\n    return { data: bytesToNumber(res), left: data.subarray(len + 2) };\n}\nfunction parseDERSignature(data) {\n    if (data.length < 2 || data[0] != 0x30) {\n        throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);\n    }\n    if (data[1] !== data.length - 2) {\n        throw new Error('Invalid signature: incorrect length');\n    }\n    const { data: r, left: sBytes } = parseDERInt(data.subarray(2));\n    const { data: s, left: rBytesLeft } = parseDERInt(sBytes);\n    if (rBytesLeft.length) {\n        throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);\n    }\n    return { r, s };\n}\nexport class Signature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromCompact(hex) {\n        const arr = hex instanceof Uint8Array;\n        const name = 'Signature.fromCompact';\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`${name}: Expected string or Uint8Array`);\n        const str = arr ? bytesToHex(hex) : hex;\n        if (str.length !== 128)\n            throw new Error(`${name}: Expected 64-byte hex`);\n        return new Signature(hexToNumber(str.slice(0, 64)), hexToNumber(str.slice(64, 128)));\n    }\n    static fromDER(hex) {\n        const arr = hex instanceof Uint8Array;\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`Signature.fromDER: Expected string or Uint8Array`);\n        const { r, s } = parseDERSignature(arr ? hex : hexToBytes(hex));\n        return new Signature(r, s);\n    }\n    static fromHex(hex) {\n        return this.fromDER(hex);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isWithinCurveOrder(r))\n            throw new Error('Invalid Signature: r must be 0 < r < n');\n        if (!isWithinCurveOrder(s))\n            throw new Error('Invalid Signature: s must be 0 < s < n');\n    }\n    hasHighS() {\n        const HALF = CURVE.n >> _1n;\n        return this.s > HALF;\n    }\n    normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, mod(-this.s, CURVE.n)) : this;\n    }\n    toDERRawBytes() {\n        return hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n        const sHex = sliceDER(numberToHexUnpadded(this.s));\n        const rHex = sliceDER(numberToHexUnpadded(this.r));\n        const sHexL = sHex.length / 2;\n        const rHexL = rHex.length / 2;\n        const sLen = numberToHexUnpadded(sHexL);\n        const rLen = numberToHexUnpadded(rHexL);\n        const length = numberToHexUnpadded(rHexL + sHexL + 4);\n        return `30${length}02${rLen}${rHex}02${sLen}${sHex}`;\n    }\n    toRawBytes() {\n        return this.toDERRawBytes();\n    }\n    toHex() {\n        return this.toDERHex();\n    }\n    toCompactRawBytes() {\n        return hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n}\nfunction concatBytes(...arrays) {\n    if (!arrays.every((b) => b instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\nconst POW_2_256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\nfunction numTo32bStr(num) {\n    if (typeof num !== 'bigint')\n        throw new Error('Expected bigint');\n    if (!(_0n <= num && num < POW_2_256))\n        throw new Error('Expected number 0 <= n < 2^256');\n    return num.toString(16).padStart(64, '0');\n}\nfunction numTo32b(num) {\n    const b = hexToBytes(numTo32bStr(num));\n    if (b.length !== 32)\n        throw new Error('Error: expected 32 bytes');\n    return b;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToNumber: expected string, got ' + typeof hex);\n    }\n    return BigInt(`0x${hex}`);\n}\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex' + hex.length);\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nfunction bytesToNumber(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction ensureBytes(hex) {\n    return hex instanceof Uint8Array ? Uint8Array.from(hex) : hexToBytes(hex);\n}\nfunction normalizeScalar(num) {\n    if (typeof num === 'number' && Number.isSafeInteger(num) && num > 0)\n        return BigInt(num);\n    if (typeof num === 'bigint' && isWithinCurveOrder(num))\n        return num;\n    throw new TypeError('Expected valid private scalar: 0 < scalar < curve.n');\n}\nfunction mod(a, b = CURVE.P) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\nfunction pow2(x, power) {\n    const { P } = CURVE;\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= P;\n    }\n    return res;\n}\nfunction sqrtMod(x) {\n    const { P } = CURVE;\n    const _6n = BigInt(6);\n    const _11n = BigInt(11);\n    const _22n = BigInt(22);\n    const _23n = BigInt(23);\n    const _44n = BigInt(44);\n    const _88n = BigInt(88);\n    const b2 = (x * x * x) % P;\n    const b3 = (b2 * b2 * x) % P;\n    const b6 = (pow2(b3, _3n) * b3) % P;\n    const b9 = (pow2(b6, _3n) * b3) % P;\n    const b11 = (pow2(b9, _2n) * b2) % P;\n    const b22 = (pow2(b11, _11n) * b11) % P;\n    const b44 = (pow2(b22, _22n) * b22) % P;\n    const b88 = (pow2(b44, _44n) * b44) % P;\n    const b176 = (pow2(b88, _88n) * b88) % P;\n    const b220 = (pow2(b176, _44n) * b44) % P;\n    const b223 = (pow2(b220, _3n) * b3) % P;\n    const t1 = (pow2(b223, _23n) * b22) % P;\n    const t2 = (pow2(t1, _6n) * b2) % P;\n    const rt = pow2(t2, _2n);\n    const xc = (rt * rt) % P;\n    if (xc !== x)\n        throw new Error('Cannot find square root');\n    return rt;\n}\nfunction invert(number, modulo = CURVE.P) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    let a = mod(number, modulo);\n    let b = modulo;\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction invertBatch(nums, p = CURVE.P) {\n    const scratch = new Array(nums.length);\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = acc;\n        return mod(acc * num, p);\n    }, _1n);\n    const inverted = invert(lastMultiplied, p);\n    nums.reduceRight((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = mod(acc * scratch[i], p);\n        return mod(acc * num, p);\n    }, inverted);\n    return scratch;\n}\nfunction bits2int_2(bytes) {\n    const delta = bytes.length * 8 - groupLen * 8;\n    const num = bytesToNumber(bytes);\n    return delta > 0 ? num >> BigInt(delta) : num;\n}\nfunction truncateHash(hash, truncateOnly = false) {\n    const h = bits2int_2(hash);\n    if (truncateOnly)\n        return h;\n    const { n } = CURVE;\n    return h >= n ? h - n : h;\n}\nlet _sha256Sync;\nlet _hmacSha256Sync;\nclass HmacDrbg {\n    constructor(hashLen, qByteLen) {\n        this.hashLen = hashLen;\n        this.qByteLen = qByteLen;\n        if (typeof hashLen !== 'number' || hashLen < 2)\n            throw new Error('hashLen must be a number');\n        if (typeof qByteLen !== 'number' || qByteLen < 2)\n            throw new Error('qByteLen must be a number');\n        this.v = new Uint8Array(hashLen).fill(1);\n        this.k = new Uint8Array(hashLen).fill(0);\n        this.counter = 0;\n    }\n    hmac(...values) {\n        return utils.hmacSha256(this.k, ...values);\n    }\n    hmacSync(...values) {\n        return _hmacSha256Sync(this.k, ...values);\n    }\n    checkSync() {\n        if (typeof _hmacSha256Sync !== 'function')\n            throw new ShaError('hmacSha256Sync needs to be set');\n    }\n    incr() {\n        if (this.counter >= 1000)\n            throw new Error('Tried 1,000 k values for sign(), all were invalid');\n        this.counter += 1;\n    }\n    async reseed(seed = new Uint8Array()) {\n        this.k = await this.hmac(this.v, Uint8Array.from([0x00]), seed);\n        this.v = await this.hmac(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = await this.hmac(this.v, Uint8Array.from([0x01]), seed);\n        this.v = await this.hmac(this.v);\n    }\n    reseedSync(seed = new Uint8Array()) {\n        this.checkSync();\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x00]), seed);\n        this.v = this.hmacSync(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x01]), seed);\n        this.v = this.hmacSync(this.v);\n    }\n    async generate() {\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = await this.hmac(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n    generateSync() {\n        this.checkSync();\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = this.hmacSync(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n}\nfunction isWithinCurveOrder(num) {\n    return _0n < num && num < CURVE.n;\n}\nfunction isValidFieldElement(num) {\n    return _0n < num && num < CURVE.P;\n}\nfunction kmdToSig(kBytes, m, d, lowS = true) {\n    const { n } = CURVE;\n    const k = truncateHash(kBytes, true);\n    if (!isWithinCurveOrder(k))\n        return;\n    const kinv = invert(k, n);\n    const q = Point.BASE.multiply(k);\n    const r = mod(q.x, n);\n    if (r === _0n)\n        return;\n    const s = mod(kinv * mod(m + d * r, n), n);\n    if (s === _0n)\n        return;\n    let sig = new Signature(r, s);\n    let recovery = (q.x === sig.r ? 0 : 2) | Number(q.y & _1n);\n    if (lowS && sig.hasHighS()) {\n        sig = sig.normalizeS();\n        recovery ^= 1;\n    }\n    return { sig, recovery };\n}\nfunction normalizePrivateKey(key) {\n    let num;\n    if (typeof key === 'bigint') {\n        num = key;\n    }\n    else if (typeof key === 'number' && Number.isSafeInteger(key) && key > 0) {\n        num = BigInt(key);\n    }\n    else if (typeof key === 'string') {\n        if (key.length !== 2 * groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = hexToNumber(key);\n    }\n    else if (key instanceof Uint8Array) {\n        if (key.length !== groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = bytesToNumber(key);\n    }\n    else {\n        throw new TypeError('Expected valid private key');\n    }\n    if (!isWithinCurveOrder(num))\n        throw new Error('Expected private key: 0 < key < n');\n    return num;\n}\nfunction normalizePublicKey(publicKey) {\n    if (publicKey instanceof Point) {\n        publicKey.assertValidity();\n        return publicKey;\n    }\n    else {\n        return Point.fromHex(publicKey);\n    }\n}\nfunction normalizeSignature(signature) {\n    if (signature instanceof Signature) {\n        signature.assertValidity();\n        return signature;\n    }\n    try {\n        return Signature.fromDER(signature);\n    }\n    catch (error) {\n        return Signature.fromCompact(signature);\n    }\n}\nexport function getPublicKey(privateKey, isCompressed = false) {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n}\nexport function recoverPublicKey(msgHash, signature, recovery, isCompressed = false) {\n    return Point.fromSignature(msgHash, signature, recovery).toRawBytes(isCompressed);\n}\nfunction isProbPub(item) {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && item.length;\n    if (arr)\n        return len === compressedLen || len === uncompressedLen;\n    if (str)\n        return len === compressedLen * 2 || len === uncompressedLen * 2;\n    if (item instanceof Point)\n        return true;\n    return false;\n}\nexport function getSharedSecret(privateA, publicB, isCompressed = false) {\n    if (isProbPub(privateA))\n        throw new TypeError('getSharedSecret: first arg must be private key');\n    if (!isProbPub(publicB))\n        throw new TypeError('getSharedSecret: second arg must be public key');\n    const b = normalizePublicKey(publicB);\n    b.assertValidity();\n    return b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed);\n}\nfunction bits2int(bytes) {\n    const slice = bytes.length > fieldLen ? bytes.slice(0, fieldLen) : bytes;\n    return bytesToNumber(slice);\n}\nfunction bits2octets(bytes) {\n    const z1 = bits2int(bytes);\n    const z2 = mod(z1, CURVE.n);\n    return int2octets(z2 < _0n ? z1 : z2);\n}\nfunction int2octets(num) {\n    return numTo32b(num);\n}\nfunction initSigArgs(msgHash, privateKey, extraEntropy) {\n    if (msgHash == null)\n        throw new Error(`sign: expected valid message hash, not \"${msgHash}\"`);\n    const h1 = ensureBytes(msgHash);\n    const d = normalizePrivateKey(privateKey);\n    const seedArgs = [int2octets(d), bits2octets(h1)];\n    if (extraEntropy != null) {\n        if (extraEntropy === true)\n            extraEntropy = utils.randomBytes(fieldLen);\n        const e = ensureBytes(extraEntropy);\n        if (e.length !== fieldLen)\n            throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);\n        seedArgs.push(e);\n    }\n    const seed = concatBytes(...seedArgs);\n    const m = bits2int(h1);\n    return { seed, m, d };\n}\nfunction finalizeSig(recSig, opts) {\n    const { sig, recovery } = recSig;\n    const { der, recovered } = Object.assign({ canonical: true, der: true }, opts);\n    const hashed = der ? sig.toDERRawBytes() : sig.toCompactRawBytes();\n    return recovered ? [hashed, recovery] : hashed;\n}\nasync function sign(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    await drbg.reseed(seed);\n    let sig;\n    while (!(sig = kmdToSig(await drbg.generate(), m, d, opts.canonical)))\n        await drbg.reseed();\n    return finalizeSig(sig, opts);\n}\nfunction signSync(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    drbg.reseedSync(seed);\n    let sig;\n    while (!(sig = kmdToSig(drbg.generateSync(), m, d, opts.canonical)))\n        drbg.reseedSync();\n    return finalizeSig(sig, opts);\n}\nexport { sign, signSync };\nconst vopts = { strict: true };\nexport function verify(signature, msgHash, publicKey, opts = vopts) {\n    let sig;\n    try {\n        sig = normalizeSignature(signature);\n        msgHash = ensureBytes(msgHash);\n    }\n    catch (error) {\n        return false;\n    }\n    const { r, s } = sig;\n    if (opts.strict && sig.hasHighS())\n        return false;\n    const h = truncateHash(msgHash);\n    let P;\n    try {\n        P = normalizePublicKey(publicKey);\n    }\n    catch (error) {\n        return false;\n    }\n    const { n } = CURVE;\n    const sinv = invert(s, n);\n    const u1 = mod(h * sinv, n);\n    const u2 = mod(r * sinv, n);\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2);\n    if (!R)\n        return false;\n    const v = mod(R.x, n);\n    return v === r;\n}\nfunction schnorrChallengeFinalize(ch) {\n    return mod(bytesToNumber(ch), CURVE.n);\n}\nclass SchnorrSignature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        if (bytes.length !== 64)\n            throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${bytes.length}`);\n        const r = bytesToNumber(bytes.subarray(0, 32));\n        const s = bytesToNumber(bytes.subarray(32, 64));\n        return new SchnorrSignature(r, s);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isValidFieldElement(r) || !isWithinCurveOrder(s))\n            throw new Error('Invalid signature');\n    }\n    toHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n    toRawBytes() {\n        return hexToBytes(this.toHex());\n    }\n}\nfunction schnorrGetPublicKey(privateKey) {\n    return Point.fromPrivateKey(privateKey).toRawX();\n}\nclass InternalSchnorrSignature {\n    constructor(message, privateKey, auxRand = utils.randomBytes()) {\n        if (message == null)\n            throw new TypeError(`sign: Expected valid message, not \"${message}\"`);\n        this.m = ensureBytes(message);\n        const { x, scalar } = this.getScalar(normalizePrivateKey(privateKey));\n        this.px = x;\n        this.d = scalar;\n        this.rand = ensureBytes(auxRand);\n        if (this.rand.length !== 32)\n            throw new TypeError('sign: Expected 32 bytes of aux randomness');\n    }\n    getScalar(priv) {\n        const point = Point.fromPrivateKey(priv);\n        const scalar = point.hasEvenY() ? priv : CURVE.n - priv;\n        return { point, scalar, x: point.toRawX() };\n    }\n    initNonce(d, t0h) {\n        return numTo32b(d ^ bytesToNumber(t0h));\n    }\n    finalizeNonce(k0h) {\n        const k0 = mod(bytesToNumber(k0h), CURVE.n);\n        if (k0 === _0n)\n            throw new Error('sign: Creation of signature failed. k is zero');\n        const { point: R, x: rx, scalar: k } = this.getScalar(k0);\n        return { R, rx, k };\n    }\n    finalizeSig(R, k, e, d) {\n        return new SchnorrSignature(R.x, mod(k + e * d, CURVE.n)).toRawBytes();\n    }\n    error() {\n        throw new Error('sign: Invalid signature produced');\n    }\n    async calc() {\n        const { m, d, px, rand } = this;\n        const tag = utils.taggedHash;\n        const t = this.initNonce(d, await tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(await tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(await tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!(await schnorrVerify(sig, m, px)))\n            this.error();\n        return sig;\n    }\n    calcSync() {\n        const { m, d, px, rand } = this;\n        const tag = utils.taggedHashSync;\n        const t = this.initNonce(d, tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!schnorrVerifySync(sig, m, px))\n            this.error();\n        return sig;\n    }\n}\nasync function schnorrSign(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calc();\n}\nfunction schnorrSignSync(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calcSync();\n}\nfunction initSchnorrVerify(signature, message, publicKey) {\n    const raw = signature instanceof SchnorrSignature;\n    const sig = raw ? signature : SchnorrSignature.fromHex(signature);\n    if (raw)\n        sig.assertValidity();\n    return {\n        ...sig,\n        m: ensureBytes(message),\n        P: normalizePublicKey(publicKey),\n    };\n}\nfunction finalizeSchnorrVerify(r, P, s, e) {\n    const R = Point.BASE.multiplyAndAddUnsafe(P, normalizePrivateKey(s), mod(-e, CURVE.n));\n    if (!R || !R.hasEvenY() || R.x !== r)\n        return false;\n    return true;\n}\nasync function schnorrVerify(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(await utils.taggedHash(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction schnorrVerifySync(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(utils.taggedHashSync(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        if (error instanceof ShaError)\n            throw error;\n        return false;\n    }\n}\nexport const schnorr = {\n    Signature: SchnorrSignature,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    signSync: schnorrSignSync,\n    verifySync: schnorrVerifySync,\n};\nPoint.BASE._setWindowSize(8);\nconst crypto = {\n    node: nodeCrypto,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n};\nconst TAGS = {\n    challenge: 'BIP0340/challenge',\n    aux: 'BIP0340/aux',\n    nonce: 'BIP0340/nonce',\n};\nconst TAGGED_HASH_PREFIXES = {};\nexport const utils = {\n    bytesToHex,\n    hexToBytes,\n    concatBytes,\n    mod,\n    invert,\n    isValidPrivateKey(privateKey) {\n        try {\n            normalizePrivateKey(privateKey);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    _bigintTo32Bytes: numTo32b,\n    _normalizePrivateKey: normalizePrivateKey,\n    hashToPrivateKey: (hash) => {\n        hash = ensureBytes(hash);\n        const minLen = groupLen + 8;\n        if (hash.length < minLen || hash.length > 1024) {\n            throw new Error(`Expected valid bytes of private key as per FIPS 186`);\n        }\n        const num = mod(bytesToNumber(hash), CURVE.n - _1n) + _1n;\n        return numTo32b(num);\n    },\n    randomBytes: (bytesLength = 32) => {\n        if (crypto.web) {\n            return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n        }\n        else if (crypto.node) {\n            const { randomBytes } = crypto.node;\n            return Uint8Array.from(randomBytes(bytesLength));\n        }\n        else {\n            throw new Error(\"The environment doesn't have randomBytes function\");\n        }\n    },\n    randomPrivateKey: () => utils.hashToPrivateKey(utils.randomBytes(groupLen + 8)),\n    precompute(windowSize = 8, point = Point.BASE) {\n        const cached = point === Point.BASE ? point : new Point(point.x, point.y);\n        cached._setWindowSize(windowSize);\n        cached.multiply(_3n);\n        return cached;\n    },\n    sha256: async (...messages) => {\n        if (crypto.web) {\n            const buffer = await crypto.web.subtle.digest('SHA-256', concatBytes(...messages));\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHash } = crypto.node;\n            const hash = createHash('sha256');\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have sha256 function\");\n        }\n    },\n    hmacSha256: async (key, ...messages) => {\n        if (crypto.web) {\n            const ckey = await crypto.web.subtle.importKey('raw', key, { name: 'HMAC', hash: { name: 'SHA-256' } }, false, ['sign']);\n            const message = concatBytes(...messages);\n            const buffer = await crypto.web.subtle.sign('HMAC', ckey, message);\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHmac } = crypto.node;\n            const hash = createHmac('sha256', key);\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have hmac-sha256 function\");\n        }\n    },\n    sha256Sync: undefined,\n    hmacSha256Sync: undefined,\n    taggedHash: async (tag, ...messages) => {\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = await utils.sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return utils.sha256(tagP, ...messages);\n    },\n    taggedHashSync: (tag, ...messages) => {\n        if (typeof _sha256Sync !== 'function')\n            throw new ShaError('sha256Sync is undefined, you need to set it');\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = _sha256Sync(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return _sha256Sync(tagP, ...messages);\n    },\n    _JacobianPoint: JacobianPoint,\n};\nObject.defineProperties(utils, {\n    sha256Sync: {\n        configurable: false,\n        get() {\n            return _sha256Sync;\n        },\n        set(val) {\n            if (!_sha256Sync)\n                _sha256Sync = val;\n        },\n    },\n    hmacSha256Sync: {\n        configurable: false,\n        get() {\n            return _hmacSha256Sync;\n        },\n        set(val) {\n            if (!_hmacSha256Sync)\n                _hmacSha256Sync = val;\n        },\n    },\n});\n","/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nexport function assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nfunction chain(...args) {\n    const wrap = (a, b) => (c) => a(b(c));\n    const encode = Array.from(args)\n        .reverse()\n        .reduce((acc, i) => (acc ? wrap(acc, i.encode) : i.encode), undefined);\n    const decode = args.reduce((acc, i) => (acc ? wrap(acc, i.decode) : i.decode), undefined);\n    return { encode, decode };\n}\nfunction alphabet(alphabet) {\n    return {\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n    };\n}\nfunction join(separator = '') {\n    if (typeof separator !== 'string')\n        throw new Error('join separator should be string');\n    return {\n        encode: (from) => {\n            if (!Array.isArray(from) || (from.length && typeof from[0] !== 'string'))\n                throw new Error('join.encode input should be array of strings');\n            for (let i of from)\n                if (typeof i !== 'string')\n                    throw new Error(`join.encode: non-string input=${i}`);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            if (typeof to !== 'string')\n                throw new Error('join.decode input should be string');\n            return to.split(separator);\n        },\n    };\n}\nfunction padding(bits, chr = '=') {\n    assertNumber(bits);\n    if (typeof chr !== 'string')\n        throw new Error('padding chr should be string');\n    return {\n        encode(data) {\n            if (!Array.isArray(data) || (data.length && typeof data[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of data)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.encode: non-string input=${i}`);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of input)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.decode: non-string input=${i}`);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('Invalid padding: string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                if (!(((end - 1) * bits) % 8))\n                    throw new Error('Invalid padding: string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\nfunction normalize(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('normalize fn should be function');\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\nfunction convertRadix(data, from, to) {\n    if (from < 2)\n        throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);\n    if (!Array.isArray(data))\n        throw new Error('convertRadix: data should be array');\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data);\n    digits.forEach((d) => {\n        assertNumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`Wrong integer: ${d}`);\n    });\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < digits.length; i++) {\n            const digit = digits[i];\n            const digitBase = from * carry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                (from * carry) / from !== carry ||\n                digitBase - digit !== from * carry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            carry = digitBase % to;\n            digits[i] = Math.floor(digitBase / to);\n            if (!Number.isSafeInteger(digits[i]) || digits[i] * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!digits[i])\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = (a, b) => (!b ? a : gcd(b, a % b));\nconst radix2carry = (from, to) => from + (to - gcd(from, to));\nfunction convertRadix2(data, from, to, padding) {\n    if (!Array.isArray(data))\n        throw new Error('convertRadix2: data should be array');\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0;\n    const mask = 2 ** to - 1;\n    const res = [];\n    for (const n of data) {\n        assertNumber(n);\n        if (n >= 2 ** from)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        carry &= 2 ** pos - 1;\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\nfunction radix(num) {\n    assertNumber(num);\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), 2 ** 8, num);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix.decode input should be array of strings');\n            return Uint8Array.from(convertRadix(digits, num, 2 ** 8));\n        },\n    };\n}\nfunction radix2(bits, revPadding = false) {\n    assertNumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix2.decode input should be array of strings');\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\nfunction unsafeWrapper(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('unsafeWrapper fn should be function');\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\nfunction checksum(len, fn) {\n    assertNumber(len);\n    if (typeof fn !== 'function')\n        throw new Error('checksum fn should be function');\n    return {\n        encode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const checksum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(checksum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const newChecksum = fn(payload).slice(0, len);\n            const oldChecksum = data.slice(-len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\nexport const utils = { alphabet, chain, checksum, radix, radix2, join, padding };\nexport const base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexport const base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexport const base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexport const base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\nexport const base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexport const base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nconst genBase58 = (abc) => chain(radix(58), alphabet(abc), join(''));\nexport const base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexport const base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexport const base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexport const base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\nexport const base58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), base58);\nconst BECH_ALPHABET = chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % 2 ** 30], 30, 5, false));\n}\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        if (typeof prefix !== 'string')\n            throw new Error(`bech32.encode prefix should be string, not ${typeof prefix}`);\n        if (!Array.isArray(words) || (words.length && typeof words[0] !== 'number'))\n            throw new Error(`bech32.encode words should be array of numbers, not ${typeof words}`);\n        const actualLength = prefix.length + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        prefix = prefix.toLowerCase();\n        return `${prefix}1${BECH_ALPHABET.encode(words)}${bechChecksum(prefix, words, ENCODING_CONST)}`;\n    }\n    function decode(str, limit = 90) {\n        if (typeof str !== 'string')\n            throw new Error(`bech32.decode input should be string, not ${typeof str}`);\n        if (str.length < 8 || (limit !== false && str.length > limit))\n            throw new TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        str = lowered;\n        const sepIndex = str.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = str.slice(0, sepIndex);\n        const _words = str.slice(sepIndex + 1);\n        if (_words.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(_words).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!_words.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    return { encode, decode, decodeToBytes, decodeUnsafe, fromWords, fromWordsUnsafe, toWords };\n}\nexport const bech32 = genBech32('bech32');\nexport const bech32m = genBech32('bech32m');\nexport const utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\nexport const hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n    if (typeof s !== 'string' || s.length % 2)\n        throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n    return s.toLowerCase();\n}));\nconst CODERS = {\n    utf8, hex, base16, base32, base64, base64url, base58, base58xmr\n};\nconst coderTypeError = `Invalid encoding type. Available types: ${Object.keys(CODERS).join(', ')}`;\nexport const bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!(bytes instanceof Uint8Array))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\nexport const str = bytesToString;\nexport const stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\nexport const bytes = stringToBytes;\n","import { hmac } from '@noble/hashes/hmac';\nimport { ripemd160 } from '@noble/hashes/ripemd160';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { bytes as assertBytes } from '@noble/hashes/_assert';\nimport { bytesToHex, concatBytes, createView, hexToBytes, utf8ToBytes } from '@noble/hashes/utils';\nimport * as secp from '@noble/secp256k1';\nimport { base58check as base58checker } from '@scure/base';\nsecp.utils.hmacSha256Sync = (key, ...msgs) => hmac(sha256, key, secp.utils.concatBytes(...msgs));\nconst base58check = base58checker(sha256);\nfunction bytesToNumber(bytes) {\n    return BigInt(`0x${bytesToHex(bytes)}`);\n}\nfunction numberToBytes(num) {\n    return hexToBytes(num.toString(16).padStart(64, '0'));\n}\nconst MASTER_SECRET = utf8ToBytes('Bitcoin seed');\nconst BITCOIN_VERSIONS = { private: 0x0488ade4, public: 0x0488b21e };\nexport const HARDENED_OFFSET = 0x80000000;\nconst hash160 = (data) => ripemd160(sha256(data));\nconst fromU32 = (data) => createView(data).getUint32(0, false);\nconst toU32 = (n) => {\n    if (!Number.isSafeInteger(n) || n < 0 || n > 2 ** 32 - 1) {\n        throw new Error(`Invalid number=${n}. Should be from 0 to 2 ** 32 - 1`);\n    }\n    const buf = new Uint8Array(4);\n    createView(buf).setUint32(0, n, false);\n    return buf;\n};\nexport class HDKey {\n    constructor(opt) {\n        this.depth = 0;\n        this.index = 0;\n        this.chainCode = null;\n        this.parentFingerprint = 0;\n        if (!opt || typeof opt !== 'object') {\n            throw new Error('HDKey.constructor must not be called directly');\n        }\n        this.versions = opt.versions || BITCOIN_VERSIONS;\n        this.depth = opt.depth || 0;\n        this.chainCode = opt.chainCode;\n        this.index = opt.index || 0;\n        this.parentFingerprint = opt.parentFingerprint || 0;\n        if (!this.depth) {\n            if (this.parentFingerprint || this.index) {\n                throw new Error('HDKey: zero depth with non-zero index/parent fingerprint');\n            }\n        }\n        if (opt.publicKey && opt.privateKey) {\n            throw new Error('HDKey: publicKey and privateKey at same time.');\n        }\n        if (opt.privateKey) {\n            if (!secp.utils.isValidPrivateKey(opt.privateKey)) {\n                throw new Error('Invalid private key');\n            }\n            this.privKey =\n                typeof opt.privateKey === 'bigint' ? opt.privateKey : bytesToNumber(opt.privateKey);\n            this.privKeyBytes = numberToBytes(this.privKey);\n            this.pubKey = secp.getPublicKey(opt.privateKey, true);\n        }\n        else if (opt.publicKey) {\n            this.pubKey = secp.Point.fromHex(opt.publicKey).toRawBytes(true);\n        }\n        else {\n            throw new Error('HDKey: no public or private key provided');\n        }\n        this.pubHash = hash160(this.pubKey);\n    }\n    get fingerprint() {\n        if (!this.pubHash) {\n            throw new Error('No publicKey set!');\n        }\n        return fromU32(this.pubHash);\n    }\n    get identifier() {\n        return this.pubHash;\n    }\n    get pubKeyHash() {\n        return this.pubHash;\n    }\n    get privateKey() {\n        return this.privKeyBytes || null;\n    }\n    get publicKey() {\n        return this.pubKey || null;\n    }\n    get privateExtendedKey() {\n        const priv = this.privateKey;\n        if (!priv) {\n            throw new Error('No private key');\n        }\n        return base58check.encode(this.serialize(this.versions.private, concatBytes(new Uint8Array([0]), priv)));\n    }\n    get publicExtendedKey() {\n        if (!this.pubKey) {\n            throw new Error('No public key');\n        }\n        return base58check.encode(this.serialize(this.versions.public, this.pubKey));\n    }\n    static fromMasterSeed(seed, versions = BITCOIN_VERSIONS) {\n        assertBytes(seed);\n        if (8 * seed.length < 128 || 8 * seed.length > 512) {\n            throw new Error(`HDKey: wrong seed length=${seed.length}. Should be between 128 and 512 bits; 256 bits is advised)`);\n        }\n        const I = hmac(sha512, MASTER_SECRET, seed);\n        return new HDKey({\n            versions,\n            chainCode: I.slice(32),\n            privateKey: I.slice(0, 32),\n        });\n    }\n    static fromExtendedKey(base58key, versions = BITCOIN_VERSIONS) {\n        const keyBuffer = base58check.decode(base58key);\n        const keyView = createView(keyBuffer);\n        const version = keyView.getUint32(0, false);\n        const opt = {\n            versions,\n            depth: keyBuffer[4],\n            parentFingerprint: keyView.getUint32(5, false),\n            index: keyView.getUint32(9, false),\n            chainCode: keyBuffer.slice(13, 45),\n        };\n        const key = keyBuffer.slice(45);\n        const isPriv = key[0] === 0;\n        if (version !== versions[isPriv ? 'private' : 'public']) {\n            throw new Error('Version mismatch');\n        }\n        if (isPriv) {\n            return new HDKey({ ...opt, privateKey: key.slice(1) });\n        }\n        else {\n            return new HDKey({ ...opt, publicKey: key });\n        }\n    }\n    static fromJSON(json) {\n        return HDKey.fromExtendedKey(json.xpriv);\n    }\n    derive(path) {\n        if (!/^[mM]'?/.test(path)) {\n            throw new Error('Path must start with \"m\" or \"M\"');\n        }\n        if (/^[mM]'?$/.test(path)) {\n            return this;\n        }\n        const parts = path.replace(/^[mM]'?\\//, '').split('/');\n        let child = this;\n        for (const c of parts) {\n            const m = /^(\\d+)('?)$/.exec(c);\n            if (!m || m.length !== 3) {\n                throw new Error(`Invalid child index: ${c}`);\n            }\n            let idx = +m[1];\n            if (!Number.isSafeInteger(idx) || idx >= HARDENED_OFFSET) {\n                throw new Error('Invalid index');\n            }\n            if (m[2] === \"'\") {\n                idx += HARDENED_OFFSET;\n            }\n            child = child.deriveChild(idx);\n        }\n        return child;\n    }\n    deriveChild(index) {\n        if (!this.pubKey || !this.chainCode) {\n            throw new Error('No publicKey or chainCode set');\n        }\n        let data = toU32(index);\n        if (index >= HARDENED_OFFSET) {\n            const priv = this.privateKey;\n            if (!priv) {\n                throw new Error('Could not derive hardened child key');\n            }\n            data = concatBytes(new Uint8Array([0]), priv, data);\n        }\n        else {\n            data = concatBytes(this.pubKey, data);\n        }\n        const I = hmac(sha512, this.chainCode, data);\n        const childTweak = bytesToNumber(I.slice(0, 32));\n        const chainCode = I.slice(32);\n        if (!secp.utils.isValidPrivateKey(childTweak)) {\n            throw new Error('Tweak bigger than curve order');\n        }\n        const opt = {\n            versions: this.versions,\n            chainCode,\n            depth: this.depth + 1,\n            parentFingerprint: this.fingerprint,\n            index,\n        };\n        try {\n            if (this.privateKey) {\n                const added = secp.utils.mod(this.privKey + childTweak, secp.CURVE.n);\n                if (!secp.utils.isValidPrivateKey(added)) {\n                    throw new Error('The tweak was out of range or the resulted private key is invalid');\n                }\n                opt.privateKey = added;\n            }\n            else {\n                const added = secp.Point.fromHex(this.pubKey).add(secp.Point.fromPrivateKey(childTweak));\n                if (added.equals(secp.Point.ZERO)) {\n                    throw new Error('The tweak was equal to negative P, which made the result key invalid');\n                }\n                opt.publicKey = added.toRawBytes(true);\n            }\n            return new HDKey(opt);\n        }\n        catch (err) {\n            return this.deriveChild(index + 1);\n        }\n    }\n    sign(hash) {\n        if (!this.privateKey) {\n            throw new Error('No privateKey set!');\n        }\n        assertBytes(hash, 32);\n        return secp.signSync(hash, this.privKey, {\n            canonical: true,\n            der: false,\n        });\n    }\n    verify(hash, signature) {\n        assertBytes(hash, 32);\n        assertBytes(signature, 64);\n        if (!this.publicKey) {\n            throw new Error('No publicKey set!');\n        }\n        let sig;\n        try {\n            sig = secp.Signature.fromCompact(signature);\n        }\n        catch (error) {\n            return false;\n        }\n        return secp.verify(sig, hash, this.publicKey);\n    }\n    wipePrivateData() {\n        this.privKey = undefined;\n        if (this.privKeyBytes) {\n            this.privKeyBytes.fill(0);\n            this.privKeyBytes = undefined;\n        }\n        return this;\n    }\n    toJSON() {\n        return {\n            xpriv: this.privateExtendedKey,\n            xpub: this.publicExtendedKey,\n        };\n    }\n    serialize(version, key) {\n        if (!this.chainCode) {\n            throw new Error('No chainCode set');\n        }\n        assertBytes(key, 33);\n        return concatBytes(toU32(version), new Uint8Array([this.depth]), toU32(this.parentFingerprint), toU32(this.index), this.chainCode, key);\n    }\n}\n//# sourceMappingURL=index.js.map","//\n// secp256k1_keypair.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport * as secp from '@noble/secp256k1'\nimport type { ExportedKeypair, Keypair } from './keypair'\nimport {\n    SIGNATURE_SCHEME_TO_FLAG,\n    PublicKey,\n    SignatureScheme,\n} from './publickey'\nimport { hmac } from '@noble/hashes/hmac'\nimport { sha256 } from '@noble/hashes/sha256'\nimport { Secp256k1PublicKey } from './secp256k1_publickey'\nimport { Signature } from '@noble/secp256k1'\nimport { isValidBIP32Path, mnemonicToSeed } from './mnemonics'\nimport { toB64 } from './crypto_utils'\nimport { HDKey } from '@scure/bip32'\n\nexport const DEFAULT_SECP256K1_DERIVATION_PATH = \"m/54'/784'/0'/0/0\"\nconst SECP256K1_SIGNATURE_LEN = 65\nconst SECP256K1_PUBLIC_LEN = 33\nconst DB3_SECP256K1_SIGNATURE_LEN =\n    SECP256K1_SIGNATURE_LEN + SECP256K1_PUBLIC_LEN + 1\n\nsecp.utils.hmacSha256Sync = (key: Uint8Array, ...msgs: Uint8Array[]) => {\n    const h = hmac.create(sha256, key)\n    msgs.forEach((msg) => h.update(msg))\n    return h.digest()\n}\n\n/**\n * Secp256k1 Keypair data\n */\nexport interface Secp256k1KeypairData {\n    publicKey: Uint8Array\n    secretKey: Uint8Array\n}\n\n/**\n * An Secp256k1 Keypair used for signing transactions.\n */\nexport class Secp256k1Keypair implements Keypair {\n    private keypair: Secp256k1KeypairData\n\n    /**\n     * Create a new keypair instance.\n     * Generate random keypair if no {@link Secp256k1Keypair} is provided.\n     *\n     * @param keypair secp256k1 keypair\n     */\n    constructor(keypair?: Secp256k1KeypairData) {\n        if (keypair) {\n            this.keypair = keypair\n        } else {\n            const secretKey: Uint8Array = secp.utils.randomPrivateKey()\n            const publicKey: Uint8Array = secp.getPublicKey(secretKey, true)\n            this.keypair = { publicKey, secretKey }\n        }\n    }\n\n    /**\n     * Get the key scheme of the keypair Secp256k1\n     */\n    getKeyScheme(): SignatureScheme {\n        return 'Secp256k1'\n    }\n\n    /**\n     * Generate a new random keypair\n     */\n    static generate(): Secp256k1Keypair {\n        const secretKey = secp.utils.randomPrivateKey()\n        const publicKey = secp.getPublicKey(secretKey, true)\n\n        return new Secp256k1Keypair({ publicKey, secretKey })\n    }\n\n    /**\n     * Create a keypair from a raw secret key byte array.\n     *\n     * This method should only be used to recreate a keypair from a previously\n     * generated secret key. Generating keypairs from a random seed should be done\n     * with the {@link Keypair.fromSeed} method.\n     *\n     * @throws error if the provided secret key is invalid and validation is not skipped.\n     *\n     * @param secretKey secret key byte array\n     * @param options: skip secret key validation\n     */\n\n    static fromSecretKey(secretKey: Uint8Array): Secp256k1Keypair {\n        const publicKey: Uint8Array = secp.getPublicKey(secretKey, true)\n        return new Secp256k1Keypair({ publicKey, secretKey })\n    }\n\n    /**\n     * Generate a keypair from a 32 byte seed.\n     *\n     * @param seed seed byte array\n     */\n    static fromSeed(seed: Uint8Array): Secp256k1Keypair {\n        let publicKey = secp.getPublicKey(seed, true)\n        return new Secp256k1Keypair({ publicKey, secretKey: seed })\n    }\n\n    /**\n     * The public key for this keypair\n     */\n    getPublicKey(): PublicKey {\n        return new Secp256k1PublicKey(this.keypair.publicKey)\n    }\n\n    /**\n     * Return the signature for the provided data.\n     */\n    signData(data: Uint8Array): Uint8Array {\n        const msgHash = sha256(data)\n        const [sig, rec_id] = secp.signSync(msgHash, this.keypair.secretKey, {\n            canonical: true,\n            recovered: true,\n        })\n        var buf = new Uint8Array(DB3_SECP256K1_SIGNATURE_LEN)\n        buf[0] = SIGNATURE_SCHEME_TO_FLAG['Secp256k1']\n        buf.set(Signature.fromDER(sig).toCompactRawBytes(), 1)\n        buf.set([rec_id], 65)\n        buf.set(this.keypair.publicKey, 66)\n        return buf\n    }\n\n    /**\n     * Derive Secp256k1 keypair from mnemonics and path. The mnemonics must be normalized\n     * and validated against the english wordlist.\n     *\n     * If path is none, it will default to m/54'/784'/0'/0/0, otherwise the path must\n     * be compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}.\n     */\n    static deriveKeypair(mnemonics: string, path?: string): Secp256k1Keypair {\n        if (path == null) {\n            path = DEFAULT_SECP256K1_DERIVATION_PATH\n        }\n\n        if (!isValidBIP32Path(path)) {\n            throw new Error('Invalid derivation path')\n        }\n        const key = HDKey.fromMasterSeed(mnemonicToSeed(mnemonics)).derive(path)\n        if (key.publicKey == null || key.privateKey == null) {\n            throw new Error('Invalid key')\n        }\n        return new Secp256k1Keypair({\n            publicKey: key.publicKey,\n            secretKey: key.privateKey,\n        })\n    }\n\n    export(): ExportedKeypair {\n        return {\n            schema: 'Secp256k1',\n            privateKey: toB64(this.keypair.secretKey),\n        }\n    }\n}\n","//\n// db3_browser_wallet.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport type { Wallet, WalletType } from './wallet'\nimport { Ed25519Keypair } from '../crypto/ed25519_keypair'\nimport { Secp256k1Keypair } from '../crypto/secp256k1_keypair'\nimport { fromB64 } from '../crypto/crypto_utils'\n\nconst WALLET_KEY = '_db3_wallet_key_'\nconst WALLET_ADDRESS = '_db3_wallet_ADDR_'\nexport class DB3BrowserWallet implements Wallet<Uint8Array, Uint8Array> {\n    keypair: Ed25519Keypair | Secp256k1Keypair\n    readonly walletType: WalletType\n    constructor(\n        keypair: Ed25519Keypair | Secp256k1Keypair,\n        walletType: WalletType\n    ) {\n        this.keypair = keypair\n        this.walletType = walletType\n    }\n\n    sign(message: Uint8Array): Uint8Array {\n        return this.keypair.signData(message)\n    }\n\n    getAddress(): string {\n        return this.keypair.getPublicKey().toAddress()\n    }\n\n    static hasKey(): boolean {\n        const key = JSON.parse(localStorage.getItem(WALLET_KEY) ?? '{}')\n        if (!key.hasOwnProperty('schema')) {\n            return false\n        }\n        return true\n    }\n    getType(): WalletType {\n        return this.walletType\n    }\n\n    static recover(): DB3BrowserWallet {\n        const key = JSON.parse(localStorage.getItem(WALLET_KEY) ?? '{}')\n        if (!key.hasOwnProperty('schema')) {\n            throw new Error('no key in browser')\n        }\n        if (key['schema'] == 'Secp256k1') {\n            const data = fromB64(key['privateKey'])\n            return new DB3BrowserWallet(\n                Secp256k1Keypair.fromSecretKey(data),\n                'DB3_SECP256K1'\n            )\n        }\n        if (key['schema'] == 'ED25519') {\n            const data = fromB64(key['privateKey'])\n            return new DB3BrowserWallet(\n                Ed25519Keypair.fromSecretKey(data),\n                'DB3_ED25519'\n            )\n        }\n        throw new Error('no key in browser')\n    }\n\n    static generate(walletType: WalletType): DB3BrowserWallet {\n        if (walletType === 'DB3_ED25519') {\n            const keypair = Ed25519Keypair.generate()\n            const wallet = new DB3BrowserWallet(keypair, walletType)\n            localStorage.setItem(WALLET_KEY, JSON.stringify(keypair.export()))\n            localStorage.setItem(WALLET_ADDRESS, wallet.getAddress())\n            return wallet\n        }\n        if (walletType === 'DB3_SECP256K1') {\n            const keypair = Secp256k1Keypair.generate()\n            const wallet = new DB3BrowserWallet(keypair, walletType)\n            localStorage.setItem(WALLET_KEY, JSON.stringify(keypair.export()))\n            localStorage.setItem(WALLET_ADDRESS, wallet.getAddress())\n            return wallet\n        }\n        throw new Error('wallet type is not supported')\n    }\n\n    static createNew(\n        mnemonic: string,\n        walletType: WalletType\n    ): DB3BrowserWallet {\n        if (walletType === 'DB3_ED25519') {\n            const keypair = Ed25519Keypair.deriveKeypair(mnemonic)\n            localStorage.setItem(WALLET_KEY, JSON.stringify(keypair.export()))\n            return new DB3BrowserWallet(keypair, walletType)\n        }\n        if (walletType === 'DB3_SECP256K1') {\n            const keypair = Secp256k1Keypair.deriveKeypair(mnemonic)\n            localStorage.setItem(WALLET_KEY, JSON.stringify(keypair.export()))\n            return new DB3BrowserWallet(keypair, walletType)\n        }\n        throw new Error('wallet type is not supported')\n    }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","\"use strict\";\n/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utils = exports.schnorr = exports.verify = exports.signSync = exports.sign = exports.getSharedSecret = exports.recoverPublicKey = exports.getPublicKey = exports.Signature = exports.Point = exports.CURVE = void 0;\nconst nodeCrypto = require(\"crypto\");\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _3n = BigInt(3);\nconst _8n = BigInt(8);\nconst CURVE = Object.freeze({\n    a: _0n,\n    b: BigInt(7),\n    P: BigInt('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    n: BigInt('0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    h: _1n,\n    Gx: BigInt('55066263022277343669578718895168534326250603453777594175500187360389116729240'),\n    Gy: BigInt('32670510020758816978083085130507043184471273380659243275938904335757337482424'),\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n});\nexports.CURVE = CURVE;\nconst divNearest = (a, b) => (a + b / _2n) / b;\nconst endo = {\n    beta: BigInt('0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee'),\n    splitScalar(k) {\n        const { n } = CURVE;\n        const a1 = BigInt('0x3086d221a7d46bcde86c90e49284eb15');\n        const b1 = -_1n * BigInt('0xe4437ed6010e88286f547fa90abfe4c3');\n        const a2 = BigInt('0x114ca50f7a8e2f3f657c1108d9d44cfd8');\n        const b2 = a1;\n        const POW_2_128 = BigInt('0x100000000000000000000000000000000');\n        const c1 = divNearest(b2 * k, n);\n        const c2 = divNearest(-b1 * k, n);\n        let k1 = mod(k - c1 * a1 - c2 * a2, n);\n        let k2 = mod(-c1 * b1 - c2 * b2, n);\n        const k1neg = k1 > POW_2_128;\n        const k2neg = k2 > POW_2_128;\n        if (k1neg)\n            k1 = n - k1;\n        if (k2neg)\n            k2 = n - k2;\n        if (k1 > POW_2_128 || k2 > POW_2_128) {\n            throw new Error('splitScalarEndo: Endomorphism failed, k=' + k);\n        }\n        return { k1neg, k1, k2neg, k2 };\n    },\n};\nconst fieldLen = 32;\nconst groupLen = 32;\nconst hashLen = 32;\nconst compressedLen = fieldLen + 1;\nconst uncompressedLen = 2 * fieldLen + 1;\nfunction weierstrass(x) {\n    const { a, b } = CURVE;\n    const x2 = mod(x * x);\n    const x3 = mod(x2 * x);\n    return mod(x3 + a * x + b);\n}\nconst USE_ENDOMORPHISM = CURVE.a === _0n;\nclass ShaError extends Error {\n    constructor(message) {\n        super(message);\n    }\n}\nfunction assertJacPoint(other) {\n    if (!(other instanceof JacobianPoint))\n        throw new TypeError('JacobianPoint expected');\n}\nclass JacobianPoint {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    static fromAffine(p) {\n        if (!(p instanceof Point)) {\n            throw new TypeError('JacobianPoint#fromAffine: expected Point');\n        }\n        if (p.equals(Point.ZERO))\n            return JacobianPoint.ZERO;\n        return new JacobianPoint(p.x, p.y, _1n);\n    }\n    static toAffineBatch(points) {\n        const toInv = invertBatch(points.map((p) => p.z));\n        return points.map((p, i) => p.toAffine(toInv[i]));\n    }\n    static normalizeZ(points) {\n        return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine);\n    }\n    equals(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        return U1 === U2 && S1 === S2;\n    }\n    negate() {\n        return new JacobianPoint(this.x, mod(-this.y), this.z);\n    }\n    double() {\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const A = mod(X1 * X1);\n        const B = mod(Y1 * Y1);\n        const C = mod(B * B);\n        const x1b = X1 + B;\n        const D = mod(_2n * (mod(x1b * x1b) - A - C));\n        const E = mod(_3n * A);\n        const F = mod(E * E);\n        const X3 = mod(F - _2n * D);\n        const Y3 = mod(E * (D - X3) - _8n * C);\n        const Z3 = mod(_2n * Y1 * Z1);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    add(other) {\n        assertJacPoint(other);\n        const { x: X1, y: Y1, z: Z1 } = this;\n        const { x: X2, y: Y2, z: Z2 } = other;\n        if (X2 === _0n || Y2 === _0n)\n            return this;\n        if (X1 === _0n || Y1 === _0n)\n            return other;\n        const Z1Z1 = mod(Z1 * Z1);\n        const Z2Z2 = mod(Z2 * Z2);\n        const U1 = mod(X1 * Z2Z2);\n        const U2 = mod(X2 * Z1Z1);\n        const S1 = mod(mod(Y1 * Z2) * Z2Z2);\n        const S2 = mod(mod(Y2 * Z1) * Z1Z1);\n        const H = mod(U2 - U1);\n        const r = mod(S2 - S1);\n        if (H === _0n) {\n            if (r === _0n) {\n                return this.double();\n            }\n            else {\n                return JacobianPoint.ZERO;\n            }\n        }\n        const HH = mod(H * H);\n        const HHH = mod(H * HH);\n        const V = mod(U1 * HH);\n        const X3 = mod(r * r - HHH - _2n * V);\n        const Y3 = mod(r * (V - X3) - S1 * HHH);\n        const Z3 = mod(Z1 * Z2 * H);\n        return new JacobianPoint(X3, Y3, Z3);\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiplyUnsafe(scalar) {\n        const P0 = JacobianPoint.ZERO;\n        if (typeof scalar === 'bigint' && scalar === _0n)\n            return P0;\n        let n = normalizeScalar(scalar);\n        if (n === _1n)\n            return this;\n        if (!USE_ENDOMORPHISM) {\n            let p = P0;\n            let d = this;\n            while (n > _0n) {\n                if (n & _1n)\n                    p = p.add(d);\n                d = d.double();\n                n >>= _1n;\n            }\n            return p;\n        }\n        let { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n        let k1p = P0;\n        let k2p = P0;\n        let d = this;\n        while (k1 > _0n || k2 > _0n) {\n            if (k1 & _1n)\n                k1p = k1p.add(d);\n            if (k2 & _1n)\n                k2p = k2p.add(d);\n            d = d.double();\n            k1 >>= _1n;\n            k2 >>= _1n;\n        }\n        if (k1neg)\n            k1p = k1p.negate();\n        if (k2neg)\n            k2p = k2p.negate();\n        k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n        return k1p.add(k2p);\n    }\n    precomputeWindow(W) {\n        const windows = USE_ENDOMORPHISM ? 128 / W + 1 : 256 / W + 1;\n        const points = [];\n        let p = this;\n        let base = p;\n        for (let window = 0; window < windows; window++) {\n            base = p;\n            points.push(base);\n            for (let i = 1; i < 2 ** (W - 1); i++) {\n                base = base.add(p);\n                points.push(base);\n            }\n            p = base.double();\n        }\n        return points;\n    }\n    wNAF(n, affinePoint) {\n        if (!affinePoint && this.equals(JacobianPoint.BASE))\n            affinePoint = Point.BASE;\n        const W = (affinePoint && affinePoint._WINDOW_SIZE) || 1;\n        if (256 % W) {\n            throw new Error('Point#wNAF: Invalid precomputation window, must be power of 2');\n        }\n        let precomputes = affinePoint && pointPrecomputes.get(affinePoint);\n        if (!precomputes) {\n            precomputes = this.precomputeWindow(W);\n            if (affinePoint && W !== 1) {\n                precomputes = JacobianPoint.normalizeZ(precomputes);\n                pointPrecomputes.set(affinePoint, precomputes);\n            }\n        }\n        let p = JacobianPoint.ZERO;\n        let f = JacobianPoint.BASE;\n        const windows = 1 + (USE_ENDOMORPHISM ? 128 / W : 256 / W);\n        const windowSize = 2 ** (W - 1);\n        const mask = BigInt(2 ** W - 1);\n        const maxNumber = 2 ** W;\n        const shiftBy = BigInt(W);\n        for (let window = 0; window < windows; window++) {\n            const offset = window * windowSize;\n            let wbits = Number(n & mask);\n            n >>= shiftBy;\n            if (wbits > windowSize) {\n                wbits -= maxNumber;\n                n += _1n;\n            }\n            const offset1 = offset;\n            const offset2 = offset + Math.abs(wbits) - 1;\n            const cond1 = window % 2 !== 0;\n            const cond2 = wbits < 0;\n            if (wbits === 0) {\n                f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n            }\n            else {\n                p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n            }\n        }\n        return { p, f };\n    }\n    multiply(scalar, affinePoint) {\n        let n = normalizeScalar(scalar);\n        let point;\n        let fake;\n        if (USE_ENDOMORPHISM) {\n            const { k1neg, k1, k2neg, k2 } = endo.splitScalar(n);\n            let { p: k1p, f: f1p } = this.wNAF(k1, affinePoint);\n            let { p: k2p, f: f2p } = this.wNAF(k2, affinePoint);\n            k1p = constTimeNegate(k1neg, k1p);\n            k2p = constTimeNegate(k2neg, k2p);\n            k2p = new JacobianPoint(mod(k2p.x * endo.beta), k2p.y, k2p.z);\n            point = k1p.add(k2p);\n            fake = f1p.add(f2p);\n        }\n        else {\n            const { p, f } = this.wNAF(n, affinePoint);\n            point = p;\n            fake = f;\n        }\n        return JacobianPoint.normalizeZ([point, fake])[0];\n    }\n    toAffine(invZ) {\n        const { x, y, z } = this;\n        const is0 = this.equals(JacobianPoint.ZERO);\n        if (invZ == null)\n            invZ = is0 ? _8n : invert(z);\n        const iz1 = invZ;\n        const iz2 = mod(iz1 * iz1);\n        const iz3 = mod(iz2 * iz1);\n        const ax = mod(x * iz2);\n        const ay = mod(y * iz3);\n        const zz = mod(z * iz1);\n        if (is0)\n            return Point.ZERO;\n        if (zz !== _1n)\n            throw new Error('invZ was invalid');\n        return new Point(ax, ay);\n    }\n}\nJacobianPoint.BASE = new JacobianPoint(CURVE.Gx, CURVE.Gy, _1n);\nJacobianPoint.ZERO = new JacobianPoint(_0n, _1n, _0n);\nfunction constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n}\nconst pointPrecomputes = new WeakMap();\nclass Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    _setWindowSize(windowSize) {\n        this._WINDOW_SIZE = windowSize;\n        pointPrecomputes.delete(this);\n    }\n    hasEvenY() {\n        return this.y % _2n === _0n;\n    }\n    static fromCompressedHex(bytes) {\n        const isShort = bytes.length === 32;\n        const x = bytesToNumber(isShort ? bytes : bytes.subarray(1));\n        if (!isValidFieldElement(x))\n            throw new Error('Point is not on curve');\n        const y2 = weierstrass(x);\n        let y = sqrtMod(y2);\n        const isYOdd = (y & _1n) === _1n;\n        if (isShort) {\n            if (isYOdd)\n                y = mod(-y);\n        }\n        else {\n            const isFirstByteOdd = (bytes[0] & 1) === 1;\n            if (isFirstByteOdd !== isYOdd)\n                y = mod(-y);\n        }\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromUncompressedHex(bytes) {\n        const x = bytesToNumber(bytes.subarray(1, fieldLen + 1));\n        const y = bytesToNumber(bytes.subarray(fieldLen + 1, fieldLen * 2 + 1));\n        const point = new Point(x, y);\n        point.assertValidity();\n        return point;\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        const len = bytes.length;\n        const header = bytes[0];\n        if (len === fieldLen)\n            return this.fromCompressedHex(bytes);\n        if (len === compressedLen && (header === 0x02 || header === 0x03)) {\n            return this.fromCompressedHex(bytes);\n        }\n        if (len === uncompressedLen && header === 0x04)\n            return this.fromUncompressedHex(bytes);\n        throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${len}`);\n    }\n    static fromPrivateKey(privateKey) {\n        return Point.BASE.multiply(normalizePrivateKey(privateKey));\n    }\n    static fromSignature(msgHash, signature, recovery) {\n        const { r, s } = normalizeSignature(signature);\n        if (![0, 1, 2, 3].includes(recovery))\n            throw new Error('Cannot recover: invalid recovery bit');\n        const h = truncateHash(ensureBytes(msgHash));\n        const { n } = CURVE;\n        const radj = recovery === 2 || recovery === 3 ? r + n : r;\n        const rinv = invert(radj, n);\n        const u1 = mod(-h * rinv, n);\n        const u2 = mod(s * rinv, n);\n        const prefix = recovery & 1 ? '03' : '02';\n        const R = Point.fromHex(prefix + numTo32bStr(radj));\n        const Q = Point.BASE.multiplyAndAddUnsafe(R, u1, u2);\n        if (!Q)\n            throw new Error('Cannot recover signature: point at infinify');\n        Q.assertValidity();\n        return Q;\n    }\n    toRawBytes(isCompressed = false) {\n        return hexToBytes(this.toHex(isCompressed));\n    }\n    toHex(isCompressed = false) {\n        const x = numTo32bStr(this.x);\n        if (isCompressed) {\n            const prefix = this.hasEvenY() ? '02' : '03';\n            return `${prefix}${x}`;\n        }\n        else {\n            return `04${x}${numTo32bStr(this.y)}`;\n        }\n    }\n    toHexX() {\n        return this.toHex(true).slice(2);\n    }\n    toRawX() {\n        return this.toRawBytes(true).slice(1);\n    }\n    assertValidity() {\n        const msg = 'Point is not on elliptic curve';\n        const { x, y } = this;\n        if (!isValidFieldElement(x) || !isValidFieldElement(y))\n            throw new Error(msg);\n        const left = mod(y * y);\n        const right = weierstrass(x);\n        if (mod(left - right) !== _0n)\n            throw new Error(msg);\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y;\n    }\n    negate() {\n        return new Point(this.x, mod(-this.y));\n    }\n    double() {\n        return JacobianPoint.fromAffine(this).double().toAffine();\n    }\n    add(other) {\n        return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine();\n    }\n    subtract(other) {\n        return this.add(other.negate());\n    }\n    multiply(scalar) {\n        return JacobianPoint.fromAffine(this).multiply(scalar, this).toAffine();\n    }\n    multiplyAndAddUnsafe(Q, a, b) {\n        const P = JacobianPoint.fromAffine(this);\n        const aP = a === _0n || a === _1n || this !== Point.BASE ? P.multiplyUnsafe(a) : P.multiply(a);\n        const bQ = JacobianPoint.fromAffine(Q).multiplyUnsafe(b);\n        const sum = aP.add(bQ);\n        return sum.equals(JacobianPoint.ZERO) ? undefined : sum.toAffine();\n    }\n}\nexports.Point = Point;\nPoint.BASE = new Point(CURVE.Gx, CURVE.Gy);\nPoint.ZERO = new Point(_0n, _0n);\nfunction sliceDER(s) {\n    return Number.parseInt(s[0], 16) >= 8 ? '00' + s : s;\n}\nfunction parseDERInt(data) {\n    if (data.length < 2 || data[0] !== 0x02) {\n        throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);\n    }\n    const len = data[1];\n    const res = data.subarray(2, len + 2);\n    if (!len || res.length !== len) {\n        throw new Error(`Invalid signature integer: wrong length`);\n    }\n    if (res[0] === 0x00 && res[1] <= 0x7f) {\n        throw new Error('Invalid signature integer: trailing length');\n    }\n    return { data: bytesToNumber(res), left: data.subarray(len + 2) };\n}\nfunction parseDERSignature(data) {\n    if (data.length < 2 || data[0] != 0x30) {\n        throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);\n    }\n    if (data[1] !== data.length - 2) {\n        throw new Error('Invalid signature: incorrect length');\n    }\n    const { data: r, left: sBytes } = parseDERInt(data.subarray(2));\n    const { data: s, left: rBytesLeft } = parseDERInt(sBytes);\n    if (rBytesLeft.length) {\n        throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);\n    }\n    return { r, s };\n}\nclass Signature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromCompact(hex) {\n        const arr = hex instanceof Uint8Array;\n        const name = 'Signature.fromCompact';\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`${name}: Expected string or Uint8Array`);\n        const str = arr ? bytesToHex(hex) : hex;\n        if (str.length !== 128)\n            throw new Error(`${name}: Expected 64-byte hex`);\n        return new Signature(hexToNumber(str.slice(0, 64)), hexToNumber(str.slice(64, 128)));\n    }\n    static fromDER(hex) {\n        const arr = hex instanceof Uint8Array;\n        if (typeof hex !== 'string' && !arr)\n            throw new TypeError(`Signature.fromDER: Expected string or Uint8Array`);\n        const { r, s } = parseDERSignature(arr ? hex : hexToBytes(hex));\n        return new Signature(r, s);\n    }\n    static fromHex(hex) {\n        return this.fromDER(hex);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isWithinCurveOrder(r))\n            throw new Error('Invalid Signature: r must be 0 < r < n');\n        if (!isWithinCurveOrder(s))\n            throw new Error('Invalid Signature: s must be 0 < s < n');\n    }\n    hasHighS() {\n        const HALF = CURVE.n >> _1n;\n        return this.s > HALF;\n    }\n    normalizeS() {\n        return this.hasHighS() ? new Signature(this.r, mod(-this.s, CURVE.n)) : this;\n    }\n    toDERRawBytes() {\n        return hexToBytes(this.toDERHex());\n    }\n    toDERHex() {\n        const sHex = sliceDER(numberToHexUnpadded(this.s));\n        const rHex = sliceDER(numberToHexUnpadded(this.r));\n        const sHexL = sHex.length / 2;\n        const rHexL = rHex.length / 2;\n        const sLen = numberToHexUnpadded(sHexL);\n        const rLen = numberToHexUnpadded(rHexL);\n        const length = numberToHexUnpadded(rHexL + sHexL + 4);\n        return `30${length}02${rLen}${rHex}02${sLen}${sHex}`;\n    }\n    toRawBytes() {\n        return this.toDERRawBytes();\n    }\n    toHex() {\n        return this.toDERHex();\n    }\n    toCompactRawBytes() {\n        return hexToBytes(this.toCompactHex());\n    }\n    toCompactHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n}\nexports.Signature = Signature;\nfunction concatBytes(...arrays) {\n    if (!arrays.every((b) => b instanceof Uint8Array))\n        throw new Error('Uint8Array list expected');\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nconst hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += hexes[uint8a[i]];\n    }\n    return hex;\n}\nconst POW_2_256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\nfunction numTo32bStr(num) {\n    if (typeof num !== 'bigint')\n        throw new Error('Expected bigint');\n    if (!(_0n <= num && num < POW_2_256))\n        throw new Error('Expected number 0 <= n < 2^256');\n    return num.toString(16).padStart(64, '0');\n}\nfunction numTo32b(num) {\n    const b = hexToBytes(numTo32bStr(num));\n    if (b.length !== 32)\n        throw new Error('Error: expected 32 bytes');\n    return b;\n}\nfunction numberToHexUnpadded(num) {\n    const hex = num.toString(16);\n    return hex.length & 1 ? `0${hex}` : hex;\n}\nfunction hexToNumber(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToNumber: expected string, got ' + typeof hex);\n    }\n    return BigInt(`0x${hex}`);\n}\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex' + hex.length);\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nfunction bytesToNumber(bytes) {\n    return hexToNumber(bytesToHex(bytes));\n}\nfunction ensureBytes(hex) {\n    return hex instanceof Uint8Array ? Uint8Array.from(hex) : hexToBytes(hex);\n}\nfunction normalizeScalar(num) {\n    if (typeof num === 'number' && Number.isSafeInteger(num) && num > 0)\n        return BigInt(num);\n    if (typeof num === 'bigint' && isWithinCurveOrder(num))\n        return num;\n    throw new TypeError('Expected valid private scalar: 0 < scalar < curve.n');\n}\nfunction mod(a, b = CURVE.P) {\n    const result = a % b;\n    return result >= _0n ? result : b + result;\n}\nfunction pow2(x, power) {\n    const { P } = CURVE;\n    let res = x;\n    while (power-- > _0n) {\n        res *= res;\n        res %= P;\n    }\n    return res;\n}\nfunction sqrtMod(x) {\n    const { P } = CURVE;\n    const _6n = BigInt(6);\n    const _11n = BigInt(11);\n    const _22n = BigInt(22);\n    const _23n = BigInt(23);\n    const _44n = BigInt(44);\n    const _88n = BigInt(88);\n    const b2 = (x * x * x) % P;\n    const b3 = (b2 * b2 * x) % P;\n    const b6 = (pow2(b3, _3n) * b3) % P;\n    const b9 = (pow2(b6, _3n) * b3) % P;\n    const b11 = (pow2(b9, _2n) * b2) % P;\n    const b22 = (pow2(b11, _11n) * b11) % P;\n    const b44 = (pow2(b22, _22n) * b22) % P;\n    const b88 = (pow2(b44, _44n) * b44) % P;\n    const b176 = (pow2(b88, _88n) * b88) % P;\n    const b220 = (pow2(b176, _44n) * b44) % P;\n    const b223 = (pow2(b220, _3n) * b3) % P;\n    const t1 = (pow2(b223, _23n) * b22) % P;\n    const t2 = (pow2(t1, _6n) * b2) % P;\n    const rt = pow2(t2, _2n);\n    const xc = (rt * rt) % P;\n    if (xc !== x)\n        throw new Error('Cannot find square root');\n    return rt;\n}\nfunction invert(number, modulo = CURVE.P) {\n    if (number === _0n || modulo <= _0n) {\n        throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    let a = mod(number, modulo);\n    let b = modulo;\n    let x = _0n, y = _1n, u = _1n, v = _0n;\n    while (a !== _0n) {\n        const q = b / a;\n        const r = b % a;\n        const m = x - u * q;\n        const n = y - v * q;\n        b = a, a = r, x = u, y = v, u = m, v = n;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n        throw new Error('invert: does not exist');\n    return mod(x, modulo);\n}\nfunction invertBatch(nums, p = CURVE.P) {\n    const scratch = new Array(nums.length);\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = acc;\n        return mod(acc * num, p);\n    }, _1n);\n    const inverted = invert(lastMultiplied, p);\n    nums.reduceRight((acc, num, i) => {\n        if (num === _0n)\n            return acc;\n        scratch[i] = mod(acc * scratch[i], p);\n        return mod(acc * num, p);\n    }, inverted);\n    return scratch;\n}\nfunction bits2int_2(bytes) {\n    const delta = bytes.length * 8 - groupLen * 8;\n    const num = bytesToNumber(bytes);\n    return delta > 0 ? num >> BigInt(delta) : num;\n}\nfunction truncateHash(hash, truncateOnly = false) {\n    const h = bits2int_2(hash);\n    if (truncateOnly)\n        return h;\n    const { n } = CURVE;\n    return h >= n ? h - n : h;\n}\nlet _sha256Sync;\nlet _hmacSha256Sync;\nclass HmacDrbg {\n    constructor(hashLen, qByteLen) {\n        this.hashLen = hashLen;\n        this.qByteLen = qByteLen;\n        if (typeof hashLen !== 'number' || hashLen < 2)\n            throw new Error('hashLen must be a number');\n        if (typeof qByteLen !== 'number' || qByteLen < 2)\n            throw new Error('qByteLen must be a number');\n        this.v = new Uint8Array(hashLen).fill(1);\n        this.k = new Uint8Array(hashLen).fill(0);\n        this.counter = 0;\n    }\n    hmac(...values) {\n        return exports.utils.hmacSha256(this.k, ...values);\n    }\n    hmacSync(...values) {\n        return _hmacSha256Sync(this.k, ...values);\n    }\n    checkSync() {\n        if (typeof _hmacSha256Sync !== 'function')\n            throw new ShaError('hmacSha256Sync needs to be set');\n    }\n    incr() {\n        if (this.counter >= 1000)\n            throw new Error('Tried 1,000 k values for sign(), all were invalid');\n        this.counter += 1;\n    }\n    async reseed(seed = new Uint8Array()) {\n        this.k = await this.hmac(this.v, Uint8Array.from([0x00]), seed);\n        this.v = await this.hmac(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = await this.hmac(this.v, Uint8Array.from([0x01]), seed);\n        this.v = await this.hmac(this.v);\n    }\n    reseedSync(seed = new Uint8Array()) {\n        this.checkSync();\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x00]), seed);\n        this.v = this.hmacSync(this.v);\n        if (seed.length === 0)\n            return;\n        this.k = this.hmacSync(this.v, Uint8Array.from([0x01]), seed);\n        this.v = this.hmacSync(this.v);\n    }\n    async generate() {\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = await this.hmac(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n    generateSync() {\n        this.checkSync();\n        this.incr();\n        let len = 0;\n        const out = [];\n        while (len < this.qByteLen) {\n            this.v = this.hmacSync(this.v);\n            const sl = this.v.slice();\n            out.push(sl);\n            len += this.v.length;\n        }\n        return concatBytes(...out);\n    }\n}\nfunction isWithinCurveOrder(num) {\n    return _0n < num && num < CURVE.n;\n}\nfunction isValidFieldElement(num) {\n    return _0n < num && num < CURVE.P;\n}\nfunction kmdToSig(kBytes, m, d, lowS = true) {\n    const { n } = CURVE;\n    const k = truncateHash(kBytes, true);\n    if (!isWithinCurveOrder(k))\n        return;\n    const kinv = invert(k, n);\n    const q = Point.BASE.multiply(k);\n    const r = mod(q.x, n);\n    if (r === _0n)\n        return;\n    const s = mod(kinv * mod(m + d * r, n), n);\n    if (s === _0n)\n        return;\n    let sig = new Signature(r, s);\n    let recovery = (q.x === sig.r ? 0 : 2) | Number(q.y & _1n);\n    if (lowS && sig.hasHighS()) {\n        sig = sig.normalizeS();\n        recovery ^= 1;\n    }\n    return { sig, recovery };\n}\nfunction normalizePrivateKey(key) {\n    let num;\n    if (typeof key === 'bigint') {\n        num = key;\n    }\n    else if (typeof key === 'number' && Number.isSafeInteger(key) && key > 0) {\n        num = BigInt(key);\n    }\n    else if (typeof key === 'string') {\n        if (key.length !== 2 * groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = hexToNumber(key);\n    }\n    else if (key instanceof Uint8Array) {\n        if (key.length !== groupLen)\n            throw new Error('Expected 32 bytes of private key');\n        num = bytesToNumber(key);\n    }\n    else {\n        throw new TypeError('Expected valid private key');\n    }\n    if (!isWithinCurveOrder(num))\n        throw new Error('Expected private key: 0 < key < n');\n    return num;\n}\nfunction normalizePublicKey(publicKey) {\n    if (publicKey instanceof Point) {\n        publicKey.assertValidity();\n        return publicKey;\n    }\n    else {\n        return Point.fromHex(publicKey);\n    }\n}\nfunction normalizeSignature(signature) {\n    if (signature instanceof Signature) {\n        signature.assertValidity();\n        return signature;\n    }\n    try {\n        return Signature.fromDER(signature);\n    }\n    catch (error) {\n        return Signature.fromCompact(signature);\n    }\n}\nfunction getPublicKey(privateKey, isCompressed = false) {\n    return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed);\n}\nexports.getPublicKey = getPublicKey;\nfunction recoverPublicKey(msgHash, signature, recovery, isCompressed = false) {\n    return Point.fromSignature(msgHash, signature, recovery).toRawBytes(isCompressed);\n}\nexports.recoverPublicKey = recoverPublicKey;\nfunction isProbPub(item) {\n    const arr = item instanceof Uint8Array;\n    const str = typeof item === 'string';\n    const len = (arr || str) && item.length;\n    if (arr)\n        return len === compressedLen || len === uncompressedLen;\n    if (str)\n        return len === compressedLen * 2 || len === uncompressedLen * 2;\n    if (item instanceof Point)\n        return true;\n    return false;\n}\nfunction getSharedSecret(privateA, publicB, isCompressed = false) {\n    if (isProbPub(privateA))\n        throw new TypeError('getSharedSecret: first arg must be private key');\n    if (!isProbPub(publicB))\n        throw new TypeError('getSharedSecret: second arg must be public key');\n    const b = normalizePublicKey(publicB);\n    b.assertValidity();\n    return b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed);\n}\nexports.getSharedSecret = getSharedSecret;\nfunction bits2int(bytes) {\n    const slice = bytes.length > fieldLen ? bytes.slice(0, fieldLen) : bytes;\n    return bytesToNumber(slice);\n}\nfunction bits2octets(bytes) {\n    const z1 = bits2int(bytes);\n    const z2 = mod(z1, CURVE.n);\n    return int2octets(z2 < _0n ? z1 : z2);\n}\nfunction int2octets(num) {\n    return numTo32b(num);\n}\nfunction initSigArgs(msgHash, privateKey, extraEntropy) {\n    if (msgHash == null)\n        throw new Error(`sign: expected valid message hash, not \"${msgHash}\"`);\n    const h1 = ensureBytes(msgHash);\n    const d = normalizePrivateKey(privateKey);\n    const seedArgs = [int2octets(d), bits2octets(h1)];\n    if (extraEntropy != null) {\n        if (extraEntropy === true)\n            extraEntropy = exports.utils.randomBytes(fieldLen);\n        const e = ensureBytes(extraEntropy);\n        if (e.length !== fieldLen)\n            throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);\n        seedArgs.push(e);\n    }\n    const seed = concatBytes(...seedArgs);\n    const m = bits2int(h1);\n    return { seed, m, d };\n}\nfunction finalizeSig(recSig, opts) {\n    const { sig, recovery } = recSig;\n    const { der, recovered } = Object.assign({ canonical: true, der: true }, opts);\n    const hashed = der ? sig.toDERRawBytes() : sig.toCompactRawBytes();\n    return recovered ? [hashed, recovery] : hashed;\n}\nasync function sign(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    await drbg.reseed(seed);\n    let sig;\n    while (!(sig = kmdToSig(await drbg.generate(), m, d, opts.canonical)))\n        await drbg.reseed();\n    return finalizeSig(sig, opts);\n}\nexports.sign = sign;\nfunction signSync(msgHash, privKey, opts = {}) {\n    const { seed, m, d } = initSigArgs(msgHash, privKey, opts.extraEntropy);\n    const drbg = new HmacDrbg(hashLen, groupLen);\n    drbg.reseedSync(seed);\n    let sig;\n    while (!(sig = kmdToSig(drbg.generateSync(), m, d, opts.canonical)))\n        drbg.reseedSync();\n    return finalizeSig(sig, opts);\n}\nexports.signSync = signSync;\nconst vopts = { strict: true };\nfunction verify(signature, msgHash, publicKey, opts = vopts) {\n    let sig;\n    try {\n        sig = normalizeSignature(signature);\n        msgHash = ensureBytes(msgHash);\n    }\n    catch (error) {\n        return false;\n    }\n    const { r, s } = sig;\n    if (opts.strict && sig.hasHighS())\n        return false;\n    const h = truncateHash(msgHash);\n    let P;\n    try {\n        P = normalizePublicKey(publicKey);\n    }\n    catch (error) {\n        return false;\n    }\n    const { n } = CURVE;\n    const sinv = invert(s, n);\n    const u1 = mod(h * sinv, n);\n    const u2 = mod(r * sinv, n);\n    const R = Point.BASE.multiplyAndAddUnsafe(P, u1, u2);\n    if (!R)\n        return false;\n    const v = mod(R.x, n);\n    return v === r;\n}\nexports.verify = verify;\nfunction schnorrChallengeFinalize(ch) {\n    return mod(bytesToNumber(ch), CURVE.n);\n}\nclass SchnorrSignature {\n    constructor(r, s) {\n        this.r = r;\n        this.s = s;\n        this.assertValidity();\n    }\n    static fromHex(hex) {\n        const bytes = ensureBytes(hex);\n        if (bytes.length !== 64)\n            throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${bytes.length}`);\n        const r = bytesToNumber(bytes.subarray(0, 32));\n        const s = bytesToNumber(bytes.subarray(32, 64));\n        return new SchnorrSignature(r, s);\n    }\n    assertValidity() {\n        const { r, s } = this;\n        if (!isValidFieldElement(r) || !isWithinCurveOrder(s))\n            throw new Error('Invalid signature');\n    }\n    toHex() {\n        return numTo32bStr(this.r) + numTo32bStr(this.s);\n    }\n    toRawBytes() {\n        return hexToBytes(this.toHex());\n    }\n}\nfunction schnorrGetPublicKey(privateKey) {\n    return Point.fromPrivateKey(privateKey).toRawX();\n}\nclass InternalSchnorrSignature {\n    constructor(message, privateKey, auxRand = exports.utils.randomBytes()) {\n        if (message == null)\n            throw new TypeError(`sign: Expected valid message, not \"${message}\"`);\n        this.m = ensureBytes(message);\n        const { x, scalar } = this.getScalar(normalizePrivateKey(privateKey));\n        this.px = x;\n        this.d = scalar;\n        this.rand = ensureBytes(auxRand);\n        if (this.rand.length !== 32)\n            throw new TypeError('sign: Expected 32 bytes of aux randomness');\n    }\n    getScalar(priv) {\n        const point = Point.fromPrivateKey(priv);\n        const scalar = point.hasEvenY() ? priv : CURVE.n - priv;\n        return { point, scalar, x: point.toRawX() };\n    }\n    initNonce(d, t0h) {\n        return numTo32b(d ^ bytesToNumber(t0h));\n    }\n    finalizeNonce(k0h) {\n        const k0 = mod(bytesToNumber(k0h), CURVE.n);\n        if (k0 === _0n)\n            throw new Error('sign: Creation of signature failed. k is zero');\n        const { point: R, x: rx, scalar: k } = this.getScalar(k0);\n        return { R, rx, k };\n    }\n    finalizeSig(R, k, e, d) {\n        return new SchnorrSignature(R.x, mod(k + e * d, CURVE.n)).toRawBytes();\n    }\n    error() {\n        throw new Error('sign: Invalid signature produced');\n    }\n    async calc() {\n        const { m, d, px, rand } = this;\n        const tag = exports.utils.taggedHash;\n        const t = this.initNonce(d, await tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(await tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(await tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!(await schnorrVerify(sig, m, px)))\n            this.error();\n        return sig;\n    }\n    calcSync() {\n        const { m, d, px, rand } = this;\n        const tag = exports.utils.taggedHashSync;\n        const t = this.initNonce(d, tag(TAGS.aux, rand));\n        const { R, rx, k } = this.finalizeNonce(tag(TAGS.nonce, t, px, m));\n        const e = schnorrChallengeFinalize(tag(TAGS.challenge, rx, px, m));\n        const sig = this.finalizeSig(R, k, e, d);\n        if (!schnorrVerifySync(sig, m, px))\n            this.error();\n        return sig;\n    }\n}\nasync function schnorrSign(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calc();\n}\nfunction schnorrSignSync(msg, privKey, auxRand) {\n    return new InternalSchnorrSignature(msg, privKey, auxRand).calcSync();\n}\nfunction initSchnorrVerify(signature, message, publicKey) {\n    const raw = signature instanceof SchnorrSignature;\n    const sig = raw ? signature : SchnorrSignature.fromHex(signature);\n    if (raw)\n        sig.assertValidity();\n    return {\n        ...sig,\n        m: ensureBytes(message),\n        P: normalizePublicKey(publicKey),\n    };\n}\nfunction finalizeSchnorrVerify(r, P, s, e) {\n    const R = Point.BASE.multiplyAndAddUnsafe(P, normalizePrivateKey(s), mod(-e, CURVE.n));\n    if (!R || !R.hasEvenY() || R.x !== r)\n        return false;\n    return true;\n}\nasync function schnorrVerify(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(await exports.utils.taggedHash(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        return false;\n    }\n}\nfunction schnorrVerifySync(signature, message, publicKey) {\n    try {\n        const { r, s, m, P } = initSchnorrVerify(signature, message, publicKey);\n        const e = schnorrChallengeFinalize(exports.utils.taggedHashSync(TAGS.challenge, numTo32b(r), P.toRawX(), m));\n        return finalizeSchnorrVerify(r, P, s, e);\n    }\n    catch (error) {\n        if (error instanceof ShaError)\n            throw error;\n        return false;\n    }\n}\nexports.schnorr = {\n    Signature: SchnorrSignature,\n    getPublicKey: schnorrGetPublicKey,\n    sign: schnorrSign,\n    verify: schnorrVerify,\n    signSync: schnorrSignSync,\n    verifySync: schnorrVerifySync,\n};\nPoint.BASE._setWindowSize(8);\nconst crypto = {\n    node: nodeCrypto,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n};\nconst TAGS = {\n    challenge: 'BIP0340/challenge',\n    aux: 'BIP0340/aux',\n    nonce: 'BIP0340/nonce',\n};\nconst TAGGED_HASH_PREFIXES = {};\nexports.utils = {\n    bytesToHex,\n    hexToBytes,\n    concatBytes,\n    mod,\n    invert,\n    isValidPrivateKey(privateKey) {\n        try {\n            normalizePrivateKey(privateKey);\n            return true;\n        }\n        catch (error) {\n            return false;\n        }\n    },\n    _bigintTo32Bytes: numTo32b,\n    _normalizePrivateKey: normalizePrivateKey,\n    hashToPrivateKey: (hash) => {\n        hash = ensureBytes(hash);\n        const minLen = groupLen + 8;\n        if (hash.length < minLen || hash.length > 1024) {\n            throw new Error(`Expected valid bytes of private key as per FIPS 186`);\n        }\n        const num = mod(bytesToNumber(hash), CURVE.n - _1n) + _1n;\n        return numTo32b(num);\n    },\n    randomBytes: (bytesLength = 32) => {\n        if (crypto.web) {\n            return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n        }\n        else if (crypto.node) {\n            const { randomBytes } = crypto.node;\n            return Uint8Array.from(randomBytes(bytesLength));\n        }\n        else {\n            throw new Error(\"The environment doesn't have randomBytes function\");\n        }\n    },\n    randomPrivateKey: () => exports.utils.hashToPrivateKey(exports.utils.randomBytes(groupLen + 8)),\n    precompute(windowSize = 8, point = Point.BASE) {\n        const cached = point === Point.BASE ? point : new Point(point.x, point.y);\n        cached._setWindowSize(windowSize);\n        cached.multiply(_3n);\n        return cached;\n    },\n    sha256: async (...messages) => {\n        if (crypto.web) {\n            const buffer = await crypto.web.subtle.digest('SHA-256', concatBytes(...messages));\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHash } = crypto.node;\n            const hash = createHash('sha256');\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have sha256 function\");\n        }\n    },\n    hmacSha256: async (key, ...messages) => {\n        if (crypto.web) {\n            const ckey = await crypto.web.subtle.importKey('raw', key, { name: 'HMAC', hash: { name: 'SHA-256' } }, false, ['sign']);\n            const message = concatBytes(...messages);\n            const buffer = await crypto.web.subtle.sign('HMAC', ckey, message);\n            return new Uint8Array(buffer);\n        }\n        else if (crypto.node) {\n            const { createHmac } = crypto.node;\n            const hash = createHmac('sha256', key);\n            messages.forEach((m) => hash.update(m));\n            return Uint8Array.from(hash.digest());\n        }\n        else {\n            throw new Error(\"The environment doesn't have hmac-sha256 function\");\n        }\n    },\n    sha256Sync: undefined,\n    hmacSha256Sync: undefined,\n    taggedHash: async (tag, ...messages) => {\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = await exports.utils.sha256(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return exports.utils.sha256(tagP, ...messages);\n    },\n    taggedHashSync: (tag, ...messages) => {\n        if (typeof _sha256Sync !== 'function')\n            throw new ShaError('sha256Sync is undefined, you need to set it');\n        let tagP = TAGGED_HASH_PREFIXES[tag];\n        if (tagP === undefined) {\n            const tagH = _sha256Sync(Uint8Array.from(tag, (c) => c.charCodeAt(0)));\n            tagP = concatBytes(tagH, tagH);\n            TAGGED_HASH_PREFIXES[tag] = tagP;\n        }\n        return _sha256Sync(tagP, ...messages);\n    },\n    _JacobianPoint: JacobianPoint,\n};\nObject.defineProperties(exports.utils, {\n    sha256Sync: {\n        configurable: false,\n        get() {\n            return _sha256Sync;\n        },\n        set(val) {\n            if (!_sha256Sync)\n                _sha256Sync = val;\n        },\n    },\n    hmacSha256Sync: {\n        configurable: false,\n        get() {\n            return _hmacSha256Sync;\n        },\n        set(val) {\n            if (!_hmacSha256Sync)\n                _hmacSha256Sync = val;\n        },\n    },\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.schnorr = exports.Signature = exports.Point = exports.CURVE = exports.utils = exports.getSharedSecret = exports.recoverPublicKey = exports.verify = exports.signSync = exports.sign = exports.getPublicKey = void 0;\nconst hmac_1 = require(\"@noble/hashes/hmac\");\nconst sha256_1 = require(\"@noble/hashes/sha256\");\nconst secp256k1_1 = require(\"@noble/secp256k1\");\nvar secp256k1_2 = require(\"@noble/secp256k1\");\nObject.defineProperty(exports, \"getPublicKey\", { enumerable: true, get: function () { return secp256k1_2.getPublicKey; } });\nObject.defineProperty(exports, \"sign\", { enumerable: true, get: function () { return secp256k1_2.sign; } });\nObject.defineProperty(exports, \"signSync\", { enumerable: true, get: function () { return secp256k1_2.signSync; } });\nObject.defineProperty(exports, \"verify\", { enumerable: true, get: function () { return secp256k1_2.verify; } });\nObject.defineProperty(exports, \"recoverPublicKey\", { enumerable: true, get: function () { return secp256k1_2.recoverPublicKey; } });\nObject.defineProperty(exports, \"getSharedSecret\", { enumerable: true, get: function () { return secp256k1_2.getSharedSecret; } });\nObject.defineProperty(exports, \"utils\", { enumerable: true, get: function () { return secp256k1_2.utils; } });\nObject.defineProperty(exports, \"CURVE\", { enumerable: true, get: function () { return secp256k1_2.CURVE; } });\nObject.defineProperty(exports, \"Point\", { enumerable: true, get: function () { return secp256k1_2.Point; } });\nObject.defineProperty(exports, \"Signature\", { enumerable: true, get: function () { return secp256k1_2.Signature; } });\nObject.defineProperty(exports, \"schnorr\", { enumerable: true, get: function () { return secp256k1_2.schnorr; } });\n// Enable sync API for noble-secp256k1\nsecp256k1_1.utils.hmacSha256Sync = (key, ...messages) => {\n    const h = hmac_1.hmac.create(sha256_1.sha256, key);\n    messages.forEach(msg => h.update(msg));\n    return h.digest();\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MAX_WITHDRAWALS_PER_PAYLOAD = exports.RLP_EMPTY_STRING = exports.KECCAK256_RLP = exports.KECCAK256_RLP_S = exports.KECCAK256_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY_S = exports.KECCAK256_NULL = exports.KECCAK256_NULL_S = exports.TWO_POW256 = exports.SECP256K1_ORDER_DIV_2 = exports.SECP256K1_ORDER = exports.MAX_INTEGER_BIGINT = exports.MAX_INTEGER = exports.MAX_UINT64 = void 0;\nconst buffer_1 = require(\"buffer\");\nconst secp256k1_1 = require(\"ethereum-cryptography/secp256k1\");\n/**\n * 2^64-1\n */\nexports.MAX_UINT64 = BigInt('0xffffffffffffffff');\n/**\n * The max integer that the evm can handle (2^256-1)\n */\nexports.MAX_INTEGER = BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\n/**\n * The max integer that the evm can handle (2^256-1) as a bigint\n * 2^256-1 equals to 340282366920938463463374607431768211455\n * We use literal value instead of calculated value for compatibility issue.\n */\nexports.MAX_INTEGER_BIGINT = BigInt('115792089237316195423570985008687907853269984665640564039457584007913129639935');\nexports.SECP256K1_ORDER = secp256k1_1.CURVE.n;\nexports.SECP256K1_ORDER_DIV_2 = secp256k1_1.CURVE.n / BigInt(2);\n/**\n * 2^256\n */\nexports.TWO_POW256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\n/**\n * Keccak-256 hash of null\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\n/**\n * Keccak-256 hash of null\n */\nexports.KECCAK256_NULL = buffer_1.Buffer.from(exports.KECCAK256_NULL_S, 'hex');\n/**\n * Keccak-256 of an RLP of an empty array\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\n/**\n * Keccak-256 of an RLP of an empty array\n */\nexports.KECCAK256_RLP_ARRAY = buffer_1.Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\n/**\n * Keccak-256 hash of the RLP of null\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\n/**\n * Keccak-256 hash of the RLP of null\n */\nexports.KECCAK256_RLP = buffer_1.Buffer.from(exports.KECCAK256_RLP_S, 'hex');\n/**\n *  RLP encoded empty string\n */\nexports.RLP_EMPTY_STRING = buffer_1.Buffer.from([0x80]);\nexports.MAX_WITHDRAWALS_PER_PAYLOAD = 16;\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GWEI_TO_WEI = void 0;\n/** Easy conversion from Gwei to wei */\nexports.GWEI_TO_WEI = BigInt(1000000000);\n//# sourceMappingURL=units.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RLP = exports.utils = exports.decode = exports.encode = void 0;\n/**\n * RLP Encoding based on https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp/\n * This function takes in data, converts it to Uint8Array if not,\n * and adds a length for recursion.\n * @param input Will be converted to Uint8Array\n * @returns Uint8Array of encoded data\n **/\nfunction encode(input) {\n    if (Array.isArray(input)) {\n        const output = [];\n        let outputLength = 0;\n        for (let i = 0; i < input.length; i++) {\n            const encoded = encode(input[i]);\n            output.push(encoded);\n            outputLength += encoded.length;\n        }\n        return concatBytes(encodeLength(outputLength, 192), ...output);\n    }\n    const inputBuf = toBytes(input);\n    if (inputBuf.length === 1 && inputBuf[0] < 128) {\n        return inputBuf;\n    }\n    return concatBytes(encodeLength(inputBuf.length, 128), inputBuf);\n}\nexports.encode = encode;\n/**\n * Slices a Uint8Array, throws if the slice goes out-of-bounds of the Uint8Array.\n * E.g. `safeSlice(hexToBytes('aa'), 1, 2)` will throw.\n * @param input\n * @param start\n * @param end\n */\nfunction safeSlice(input, start, end) {\n    if (end > input.length) {\n        throw new Error('invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds');\n    }\n    return input.slice(start, end);\n}\n/**\n * Parse integers. Check if there is no leading zeros\n * @param v The value to parse\n */\nfunction decodeLength(v) {\n    if (v[0] === 0) {\n        throw new Error('invalid RLP: extra zeros');\n    }\n    return parseHexByte(bytesToHex(v));\n}\nfunction encodeLength(len, offset) {\n    if (len < 56) {\n        return Uint8Array.from([len + offset]);\n    }\n    const hexLength = numberToHex(len);\n    const lLength = hexLength.length / 2;\n    const firstByte = numberToHex(offset + 55 + lLength);\n    return Uint8Array.from(hexToBytes(firstByte + hexLength));\n}\nfunction decode(input, stream = false) {\n    if (typeof input === 'undefined' || input === null || input.length === 0) {\n        return Uint8Array.from([]);\n    }\n    const inputBytes = toBytes(input);\n    const decoded = _decode(inputBytes);\n    if (stream) {\n        return decoded;\n    }\n    if (decoded.remainder.length !== 0) {\n        throw new Error('invalid RLP: remainder must be zero');\n    }\n    return decoded.data;\n}\nexports.decode = decode;\n/** Decode an input with RLP */\nfunction _decode(input) {\n    let length, llength, data, innerRemainder, d;\n    const decoded = [];\n    const firstByte = input[0];\n    if (firstByte <= 0x7f) {\n        // a single byte whose value is in the [0x00, 0x7f] range, that byte is its own RLP encoding.\n        return {\n            data: input.slice(0, 1),\n            remainder: input.slice(1),\n        };\n    }\n    else if (firstByte <= 0xb7) {\n        // string is 0-55 bytes long. A single byte with value 0x80 plus the length of the string followed by the string\n        // The range of the first byte is [0x80, 0xb7]\n        length = firstByte - 0x7f;\n        // set 0x80 null to 0\n        if (firstByte === 0x80) {\n            data = Uint8Array.from([]);\n        }\n        else {\n            data = safeSlice(input, 1, length);\n        }\n        if (length === 2 && data[0] < 0x80) {\n            throw new Error('invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed');\n        }\n        return {\n            data,\n            remainder: input.slice(length),\n        };\n    }\n    else if (firstByte <= 0xbf) {\n        // string is greater than 55 bytes long. A single byte with the value (0xb7 plus the length of the length),\n        // followed by the length, followed by the string\n        llength = firstByte - 0xb6;\n        if (input.length - 1 < llength) {\n            throw new Error('invalid RLP: not enough bytes for string length');\n        }\n        length = decodeLength(safeSlice(input, 1, llength));\n        if (length <= 55) {\n            throw new Error('invalid RLP: expected string length to be greater than 55');\n        }\n        data = safeSlice(input, llength, length + llength);\n        return {\n            data,\n            remainder: input.slice(length + llength),\n        };\n    }\n    else if (firstByte <= 0xf7) {\n        // a list between 0-55 bytes long\n        length = firstByte - 0xbf;\n        innerRemainder = safeSlice(input, 1, length);\n        while (innerRemainder.length) {\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(length),\n        };\n    }\n    else {\n        // a list over 55 bytes long\n        llength = firstByte - 0xf6;\n        length = decodeLength(safeSlice(input, 1, llength));\n        if (length < 56) {\n            throw new Error('invalid RLP: encoded list too short');\n        }\n        const totalLength = llength + length;\n        if (totalLength > input.length) {\n            throw new Error('invalid RLP: total length is larger than the data');\n        }\n        innerRemainder = safeSlice(input, llength, totalLength);\n        while (innerRemainder.length) {\n            d = _decode(innerRemainder);\n            decoded.push(d.data);\n            innerRemainder = d.remainder;\n        }\n        return {\n            data: decoded,\n            remainder: input.slice(totalLength),\n        };\n    }\n}\nconst cachedHexes = Array.from({ length: 256 }, (_v, i) => i.toString(16).padStart(2, '0'));\nfunction bytesToHex(uint8a) {\n    // Pre-caching chars with `cachedHexes` speeds this up 6x\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n        hex += cachedHexes[uint8a[i]];\n    }\n    return hex;\n}\nfunction parseHexByte(hexByte) {\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte))\n        throw new Error('Invalid byte sequence');\n    return byte;\n}\n// Caching slows it down 2-3x\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n        throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n        throw new Error('hexToBytes: received invalid unpadded hex');\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        array[i] = parseHexByte(hex.slice(j, j + 2));\n    }\n    return array;\n}\n/** Concatenates two Uint8Arrays into one. */\nfunction concatBytes(...arrays) {\n    if (arrays.length === 1)\n        return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const arr = arrays[i];\n        result.set(arr, pad);\n        pad += arr.length;\n    }\n    return result;\n}\nfunction utf8ToBytes(utf) {\n    return new TextEncoder().encode(utf);\n}\n/** Transform an integer into its hexadecimal value */\nfunction numberToHex(integer) {\n    if (integer < 0) {\n        throw new Error('Invalid integer as argument, must be unsigned!');\n    }\n    const hex = integer.toString(16);\n    return hex.length % 2 ? `0${hex}` : hex;\n}\n/** Pad a string to be even */\nfunction padToEven(a) {\n    return a.length % 2 ? `0${a}` : a;\n}\n/** Check if a string is prefixed by 0x */\nfunction isHexPrefixed(str) {\n    return str.length >= 2 && str[0] === '0' && str[1] === 'x';\n}\n/** Removes 0x from a given String */\nfunction stripHexPrefix(str) {\n    if (typeof str !== 'string') {\n        return str;\n    }\n    return isHexPrefixed(str) ? str.slice(2) : str;\n}\n/** Transform anything into a Uint8Array */\nfunction toBytes(v) {\n    if (v instanceof Uint8Array) {\n        return v;\n    }\n    if (typeof v === 'string') {\n        if (isHexPrefixed(v)) {\n            return hexToBytes(padToEven(stripHexPrefix(v)));\n        }\n        return utf8ToBytes(v);\n    }\n    if (typeof v === 'number' || typeof v === 'bigint') {\n        if (!v) {\n            return Uint8Array.from([]);\n        }\n        return hexToBytes(numberToHex(v));\n    }\n    if (v === null || v === undefined) {\n        return Uint8Array.from([]);\n    }\n    throw new Error('toBytes: received unsupported type ' + typeof v);\n}\nexports.utils = {\n    bytesToHex,\n    concatBytes,\n    hexToBytes,\n    utf8ToBytes,\n};\nexports.RLP = { encode, decode };\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shake256 = exports.shake128 = exports.keccak_512 = exports.keccak_384 = exports.keccak_256 = exports.keccak_224 = exports.sha3_512 = exports.sha3_384 = exports.sha3_256 = exports.sha3_224 = exports.Keccak = exports.keccakP = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst _u64_js_1 = require(\"./_u64.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// Various per round constants calculations\nconst [SHA3_PI, SHA3_ROTL, _SHA3_IOTA] = [[], [], []];\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst [SHA3_IOTA_H, SHA3_IOTA_L] = _u64_js_1.default.split(_SHA3_IOTA, true);\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => s > 32 ? _u64_js_1.default.rotlBH(h, l, s) : _u64_js_1.default.rotlSH(h, l, s);\nconst rotlL = (h, l, s) => s > 32 ? _u64_js_1.default.rotlBL(h, l, s) : _u64_js_1.default.rotlSL(h, l, s);\n// Same as keccakf1600, but allows to skip some rounds\nfunction keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta \n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho () and Pi ()\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi ()\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota ()\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    B.fill(0);\n}\nexports.keccakP = keccakP;\nclass Keccak extends utils_js_1.Hash {\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        super();\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        this.pos = 0;\n        this.posOut = 0;\n        this.finished = false;\n        this.destroyed = false;\n        // Can be passed from user as dkLen\n        _assert_js_1.default.number(outputLen);\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        if (0 >= this.blockLen || this.blockLen >= 200)\n            throw new Error('Sha3 supports only keccak-f1600 function');\n        this.state = new Uint8Array(200);\n        this.state32 = (0, utils_js_1.u32)(this.state);\n    }\n    keccak() {\n        keccakP(this.state32, this.rounds);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        _assert_js_1.default.exists(this);\n        const { blockLen, state } = this;\n        data = (0, utils_js_1.toBytes)(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        _assert_js_1.default.exists(this, false);\n        _assert_js_1.default.bytes(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        _assert_js_1.default.number(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        _assert_js_1.default.output(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        this.state.fill(0);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nexports.Keccak = Keccak;\nconst gen = (suffix, blockLen, outputLen) => (0, utils_js_1.wrapConstructor)(() => new Keccak(blockLen, suffix, outputLen));\nexports.sha3_224 = gen(0x06, 144, 224 / 8);\n/**\n * SHA3-256 hash function\n * @param message - that would be hashed\n */\nexports.sha3_256 = gen(0x06, 136, 256 / 8);\nexports.sha3_384 = gen(0x06, 104, 384 / 8);\nexports.sha3_512 = gen(0x06, 72, 512 / 8);\nexports.keccak_224 = gen(0x01, 144, 224 / 8);\n/**\n * keccak-256 hash function. Different from SHA3-256.\n * @param message - that would be hashed\n */\nexports.keccak_256 = gen(0x01, 136, 256 / 8);\nexports.keccak_384 = gen(0x01, 104, 384 / 8);\nexports.keccak_512 = gen(0x01, 72, 512 / 8);\nconst genShake = (suffix, blockLen, outputLen) => (0, utils_js_1.wrapConstructorWithOpts)((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true));\nexports.shake128 = genShake(0x1f, 168, 128 / 8);\nexports.shake256 = genShake(0x1f, 136, 256 / 8);\n//# sourceMappingURL=sha3.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crypto = exports.wrapHash = exports.equalsBytes = exports.hexToBytes = exports.bytesToUtf8 = exports.utf8ToBytes = exports.createView = exports.concatBytes = exports.toHex = exports.bytesToHex = exports.assertBytes = exports.assertBool = void 0;\n// buf.toString('hex') -> toHex(buf)\nconst _assert_1 = __importDefault(require(\"@noble/hashes/_assert\"));\nconst utils_1 = require(\"@noble/hashes/utils\");\nconst assertBool = _assert_1.default.bool;\nexports.assertBool = assertBool;\nconst assertBytes = _assert_1.default.bytes;\nexports.assertBytes = assertBytes;\nvar utils_2 = require(\"@noble/hashes/utils\");\nObject.defineProperty(exports, \"bytesToHex\", { enumerable: true, get: function () { return utils_2.bytesToHex; } });\nObject.defineProperty(exports, \"toHex\", { enumerable: true, get: function () { return utils_2.bytesToHex; } });\nObject.defineProperty(exports, \"concatBytes\", { enumerable: true, get: function () { return utils_2.concatBytes; } });\nObject.defineProperty(exports, \"createView\", { enumerable: true, get: function () { return utils_2.createView; } });\nObject.defineProperty(exports, \"utf8ToBytes\", { enumerable: true, get: function () { return utils_2.utf8ToBytes; } });\n// buf.toString('utf8') -> bytesToUtf8(buf)\nfunction bytesToUtf8(data) {\n    if (!(data instanceof Uint8Array)) {\n        throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof data}`);\n    }\n    return new TextDecoder().decode(data);\n}\nexports.bytesToUtf8 = bytesToUtf8;\nfunction hexToBytes(data) {\n    const sliced = data.startsWith(\"0x\") ? data.substring(2) : data;\n    return (0, utils_1.hexToBytes)(sliced);\n}\nexports.hexToBytes = hexToBytes;\n// buf.equals(buf2) -> equalsBytes(buf, buf2)\nfunction equalsBytes(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.equalsBytes = equalsBytes;\n// Internal utils\nfunction wrapHash(hash) {\n    return (msg) => {\n        _assert_1.default.bytes(msg);\n        return hash(msg);\n    };\n}\nexports.wrapHash = wrapHash;\nexports.crypto = (() => {\n    const webCrypto = typeof self === \"object\" && \"crypto\" in self ? self.crypto : undefined;\n    const nodeRequire = typeof module !== \"undefined\" &&\n        typeof module.require === \"function\" &&\n        module.require.bind(module);\n    return {\n        node: nodeRequire && !webCrypto ? nodeRequire(\"crypto\") : undefined,\n        web: webCrypto\n    };\n})();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keccak512 = exports.keccak384 = exports.keccak256 = exports.keccak224 = void 0;\nconst sha3_1 = require(\"@noble/hashes/sha3\");\nconst utils_1 = require(\"./utils\");\nexports.keccak224 = (0, utils_1.wrapHash)(sha3_1.keccak_224);\nexports.keccak256 = (() => {\n    const k = (0, utils_1.wrapHash)(sha3_1.keccak_256);\n    k.create = sha3_1.keccak_256.create;\n    return k;\n})();\nexports.keccak384 = (0, utils_1.wrapHash)(sha3_1.keccak_384);\nexports.keccak512 = (0, utils_1.wrapHash)(sha3_1.keccak_512);\n","\"use strict\";\n/*\nThe MIT License\n\nCopyright (c) 2016 Nick Dodson. nickdodson.com\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isHexString = exports.getKeys = exports.fromAscii = exports.fromUtf8 = exports.toAscii = exports.arrayContainsArray = exports.getBinarySize = exports.padToEven = exports.stripHexPrefix = exports.isHexPrefixed = void 0;\n/**\n * Returns a `Boolean` on whether or not the a `String` starts with '0x'\n * @param str the string input value\n * @return a boolean if it is or is not hex prefixed\n * @throws if the str input is not a string\n */\nfunction isHexPrefixed(str) {\n    if (typeof str !== 'string') {\n        throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof str}`);\n    }\n    return str[0] === '0' && str[1] === 'x';\n}\nexports.isHexPrefixed = isHexPrefixed;\n/**\n * Removes '0x' from a given `String` if present\n * @param str the string value\n * @returns the string without 0x prefix\n */\nconst stripHexPrefix = (str) => {\n    if (typeof str !== 'string')\n        throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof str}`);\n    return isHexPrefixed(str) ? str.slice(2) : str;\n};\nexports.stripHexPrefix = stripHexPrefix;\n/**\n * Pads a `String` to have an even length\n * @param value\n * @return output\n */\nfunction padToEven(value) {\n    let a = value;\n    if (typeof a !== 'string') {\n        throw new Error(`[padToEven] value must be type 'string', received ${typeof a}`);\n    }\n    if (a.length % 2)\n        a = `0${a}`;\n    return a;\n}\nexports.padToEven = padToEven;\n/**\n * Get the binary size of a string\n * @param str\n * @returns the number of bytes contained within the string\n */\nfunction getBinarySize(str) {\n    if (typeof str !== 'string') {\n        throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof str}`);\n    }\n    return Buffer.byteLength(str, 'utf8');\n}\nexports.getBinarySize = getBinarySize;\n/**\n * Returns TRUE if the first specified array contains all elements\n * from the second one. FALSE otherwise.\n *\n * @param superset\n * @param subset\n *\n */\nfunction arrayContainsArray(superset, subset, some) {\n    if (Array.isArray(superset) !== true) {\n        throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof superset}'`);\n    }\n    if (Array.isArray(subset) !== true) {\n        throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof subset}'`);\n    }\n    return subset[some === true ? 'some' : 'every']((value) => superset.indexOf(value) >= 0);\n}\nexports.arrayContainsArray = arrayContainsArray;\n/**\n * Should be called to get ascii from its hex representation\n *\n * @param string in hex\n * @returns ascii string representation of hex value\n */\nfunction toAscii(hex) {\n    let str = '';\n    let i = 0;\n    const l = hex.length;\n    if (hex.substring(0, 2) === '0x')\n        i = 2;\n    for (; i < l; i += 2) {\n        const code = parseInt(hex.substr(i, 2), 16);\n        str += String.fromCharCode(code);\n    }\n    return str;\n}\nexports.toAscii = toAscii;\n/**\n * Should be called to get hex representation (prefixed by 0x) of utf8 string\n *\n * @param string\n * @param optional padding\n * @returns hex representation of input string\n */\nfunction fromUtf8(stringValue) {\n    const str = Buffer.from(stringValue, 'utf8');\n    return `0x${padToEven(str.toString('hex')).replace(/^0+|0+$/g, '')}`;\n}\nexports.fromUtf8 = fromUtf8;\n/**\n * Should be called to get hex representation (prefixed by 0x) of ascii string\n *\n * @param  string\n * @param  optional padding\n * @returns  hex representation of input string\n */\nfunction fromAscii(stringValue) {\n    let hex = '';\n    for (let i = 0; i < stringValue.length; i++) {\n        const code = stringValue.charCodeAt(i);\n        const n = code.toString(16);\n        hex += n.length < 2 ? `0${n}` : n;\n    }\n    return `0x${hex}`;\n}\nexports.fromAscii = fromAscii;\n/**\n * Returns the keys from an array of objects.\n * @example\n * ```js\n * getKeys([{a: '1', b: '2'}, {a: '3', b: '4'}], 'a') => ['1', '3']\n *````\n * @param  params\n * @param  key\n * @param  allowEmpty\n * @returns output just a simple array of output keys\n */\nfunction getKeys(params, key, allowEmpty) {\n    if (!Array.isArray(params)) {\n        throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof params}`);\n    }\n    if (typeof key !== 'string') {\n        throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof params}`);\n    }\n    const result = [];\n    for (let i = 0; i < params.length; i++) {\n        let value = params[i][key];\n        if (allowEmpty === true && !value) {\n            value = '';\n        }\n        else if (typeof value !== 'string') {\n            throw new Error(`invalid abi - expected type 'string', received ${typeof value}`);\n        }\n        result.push(value);\n    }\n    return result;\n}\nexports.getKeys = getKeys;\n/**\n * Is the string a hex string.\n *\n * @param  value\n * @param  length\n * @returns  output the string is a hex string\n */\nfunction isHexString(value, length) {\n    if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/))\n        return false;\n    if (typeof length !== 'undefined' && length > 0 && value.length !== 2 + 2 * length)\n        return false;\n    return true;\n}\nexports.isHexString = isHexString;\n//# sourceMappingURL=internal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertIsString = exports.assertIsArray = exports.assertIsBuffer = exports.assertIsHexString = void 0;\nconst internal_1 = require(\"./internal\");\n/**\n * Throws if a string is not hex prefixed\n * @param {string} input string to check hex prefix of\n */\nconst assertIsHexString = function (input) {\n    if (!(0, internal_1.isHexString)(input)) {\n        const msg = `This method only supports 0x-prefixed hex strings but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\nexports.assertIsHexString = assertIsHexString;\n/**\n * Throws if input is not a buffer\n * @param {Buffer} input value to check\n */\nconst assertIsBuffer = function (input) {\n    if (!Buffer.isBuffer(input)) {\n        const msg = `This method only supports Buffer but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\nexports.assertIsBuffer = assertIsBuffer;\n/**\n * Throws if input is not an array\n * @param {number[]} input value to check\n */\nconst assertIsArray = function (input) {\n    if (!Array.isArray(input)) {\n        const msg = `This method only supports number arrays but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\nexports.assertIsArray = assertIsArray;\n/**\n * Throws if input is not a string\n * @param {string} input value to check\n */\nconst assertIsString = function (input) {\n    if (typeof input !== 'string') {\n        const msg = `This method only supports strings but input was: ${input}`;\n        throw new Error(msg);\n    }\n};\nexports.assertIsString = assertIsString;\n//# sourceMappingURL=helpers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.intToUnpaddedBuffer = exports.bigIntToUnpaddedBuffer = exports.bigIntToHex = exports.bufArrToArr = exports.arrToBufArr = exports.validateNoLeadingZeroes = exports.baToJSON = exports.toUtf8 = exports.short = exports.addHexPrefix = exports.toUnsigned = exports.fromSigned = exports.bufferToInt = exports.bigIntToBuffer = exports.bufferToBigInt = exports.bufferToHex = exports.toBuffer = exports.unpadHexString = exports.unpadArray = exports.unpadBuffer = exports.setLengthRight = exports.setLengthLeft = exports.zeros = exports.intToBuffer = exports.intToHex = void 0;\nconst helpers_1 = require(\"./helpers\");\nconst internal_1 = require(\"./internal\");\n/**\n * Converts a `Number` into a hex `String`\n * @param {Number} i\n * @return {String}\n */\nconst intToHex = function (i) {\n    if (!Number.isSafeInteger(i) || i < 0) {\n        throw new Error(`Received an invalid integer type: ${i}`);\n    }\n    return `0x${i.toString(16)}`;\n};\nexports.intToHex = intToHex;\n/**\n * Converts an `Number` to a `Buffer`\n * @param {Number} i\n * @return {Buffer}\n */\nconst intToBuffer = function (i) {\n    const hex = (0, exports.intToHex)(i);\n    return Buffer.from((0, internal_1.padToEven)(hex.slice(2)), 'hex');\n};\nexports.intToBuffer = intToBuffer;\n/**\n * Returns a buffer filled with 0s.\n * @param bytes the number of bytes the buffer should be\n */\nconst zeros = function (bytes) {\n    return Buffer.allocUnsafe(bytes).fill(0);\n};\nexports.zeros = zeros;\n/**\n * Pads a `Buffer` with zeros till it has `length` bytes.\n * Truncates the beginning or end of input if its length exceeds `length`.\n * @param msg the value to pad (Buffer)\n * @param length the number of bytes the output should be\n * @param right whether to start padding form the left or right\n * @return (Buffer)\n */\nconst setLength = function (msg, length, right) {\n    const buf = (0, exports.zeros)(length);\n    if (right) {\n        if (msg.length < length) {\n            msg.copy(buf);\n            return buf;\n        }\n        return msg.slice(0, length);\n    }\n    else {\n        if (msg.length < length) {\n            msg.copy(buf, length - msg.length);\n            return buf;\n        }\n        return msg.slice(-length);\n    }\n};\n/**\n * Left Pads a `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param msg the value to pad (Buffer)\n * @param length the number of bytes the output should be\n * @return (Buffer)\n */\nconst setLengthLeft = function (msg, length) {\n    (0, helpers_1.assertIsBuffer)(msg);\n    return setLength(msg, length, false);\n};\nexports.setLengthLeft = setLengthLeft;\n/**\n * Right Pads a `Buffer` with trailing zeros till it has `length` bytes.\n * it truncates the end if it exceeds.\n * @param msg the value to pad (Buffer)\n * @param length the number of bytes the output should be\n * @return (Buffer)\n */\nconst setLengthRight = function (msg, length) {\n    (0, helpers_1.assertIsBuffer)(msg);\n    return setLength(msg, length, true);\n};\nexports.setLengthRight = setLengthRight;\n/**\n * Trims leading zeros from a `Buffer`, `String` or `Number[]`.\n * @param a (Buffer|Array|String)\n * @return (Buffer|Array|String)\n */\nconst stripZeros = function (a) {\n    let first = a[0];\n    while (a.length > 0 && first.toString() === '0') {\n        a = a.slice(1);\n        first = a[0];\n    }\n    return a;\n};\n/**\n * Trims leading zeros from a `Buffer`.\n * @param a (Buffer)\n * @return (Buffer)\n */\nconst unpadBuffer = function (a) {\n    (0, helpers_1.assertIsBuffer)(a);\n    return stripZeros(a);\n};\nexports.unpadBuffer = unpadBuffer;\n/**\n * Trims leading zeros from an `Array` (of numbers).\n * @param a (number[])\n * @return (number[])\n */\nconst unpadArray = function (a) {\n    (0, helpers_1.assertIsArray)(a);\n    return stripZeros(a);\n};\nexports.unpadArray = unpadArray;\n/**\n * Trims leading zeros from a hex-prefixed `String`.\n * @param a (String)\n * @return (String)\n */\nconst unpadHexString = function (a) {\n    (0, helpers_1.assertIsHexString)(a);\n    a = (0, internal_1.stripHexPrefix)(a);\n    return ('0x' + stripZeros(a));\n};\nexports.unpadHexString = unpadHexString;\n/**\n * Attempts to turn a value into a `Buffer`.\n * Inputs supported: `Buffer`, `String` (hex-prefixed), `Number`, null/undefined, `BigInt` and other objects\n * with a `toArray()` or `toBuffer()` method.\n * @param v the value\n */\nconst toBuffer = function (v) {\n    if (v === null || v === undefined) {\n        return Buffer.allocUnsafe(0);\n    }\n    if (Buffer.isBuffer(v)) {\n        return Buffer.from(v);\n    }\n    if (Array.isArray(v) || v instanceof Uint8Array) {\n        return Buffer.from(v);\n    }\n    if (typeof v === 'string') {\n        if (!(0, internal_1.isHexString)(v)) {\n            throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${v}`);\n        }\n        return Buffer.from((0, internal_1.padToEven)((0, internal_1.stripHexPrefix)(v)), 'hex');\n    }\n    if (typeof v === 'number') {\n        return (0, exports.intToBuffer)(v);\n    }\n    if (typeof v === 'bigint') {\n        if (v < BigInt(0)) {\n            throw new Error(`Cannot convert negative bigint to buffer. Given: ${v}`);\n        }\n        let n = v.toString(16);\n        if (n.length % 2)\n            n = '0' + n;\n        return Buffer.from(n, 'hex');\n    }\n    if (v.toArray) {\n        // converts a BN to a Buffer\n        return Buffer.from(v.toArray());\n    }\n    if (v.toBuffer) {\n        return Buffer.from(v.toBuffer());\n    }\n    throw new Error('invalid type');\n};\nexports.toBuffer = toBuffer;\n/**\n * Converts a `Buffer` into a `0x`-prefixed hex `String`.\n * @param buf `Buffer` object to convert\n */\nconst bufferToHex = function (buf) {\n    buf = (0, exports.toBuffer)(buf);\n    return '0x' + buf.toString('hex');\n};\nexports.bufferToHex = bufferToHex;\n/**\n * Converts a {@link Buffer} to a {@link bigint}\n */\nfunction bufferToBigInt(buf) {\n    const hex = (0, exports.bufferToHex)(buf);\n    if (hex === '0x') {\n        return BigInt(0);\n    }\n    return BigInt(hex);\n}\nexports.bufferToBigInt = bufferToBigInt;\n/**\n * Converts a {@link bigint} to a {@link Buffer}\n */\nfunction bigIntToBuffer(num) {\n    return (0, exports.toBuffer)('0x' + num.toString(16));\n}\nexports.bigIntToBuffer = bigIntToBuffer;\n/**\n * Converts a `Buffer` to a `Number`.\n * @param buf `Buffer` object to convert\n * @throws If the input number exceeds 53 bits.\n */\nconst bufferToInt = function (buf) {\n    const res = Number(bufferToBigInt(buf));\n    if (!Number.isSafeInteger(res))\n        throw new Error('Number exceeds 53 bits');\n    return res;\n};\nexports.bufferToInt = bufferToInt;\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BigInt`. Assumes 256-bit numbers.\n * @param num Signed integer value\n */\nconst fromSigned = function (num) {\n    return BigInt.asIntN(256, bufferToBigInt(num));\n};\nexports.fromSigned = fromSigned;\n/**\n * Converts a `BigInt` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param num\n */\nconst toUnsigned = function (num) {\n    return bigIntToBuffer(BigInt.asUintN(256, num));\n};\nexports.toUnsigned = toUnsigned;\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\".\n */\nconst addHexPrefix = function (str) {\n    if (typeof str !== 'string') {\n        return str;\n    }\n    return (0, internal_1.isHexPrefixed)(str) ? str : '0x' + str;\n};\nexports.addHexPrefix = addHexPrefix;\n/**\n * Shortens a string  or buffer's hex string representation to maxLength (default 50).\n *\n * Examples:\n *\n * Input:  '657468657265756d000000000000000000000000000000000000000000000000'\n * Output: '657468657265756d0000000000000000000000000000000000'\n */\nfunction short(buffer, maxLength = 50) {\n    const bufferStr = Buffer.isBuffer(buffer) ? buffer.toString('hex') : buffer;\n    if (bufferStr.length <= maxLength) {\n        return bufferStr;\n    }\n    return bufferStr.slice(0, maxLength) + '';\n}\nexports.short = short;\n/**\n * Returns the utf8 string representation from a hex string.\n *\n * Examples:\n *\n * Input 1: '657468657265756d000000000000000000000000000000000000000000000000'\n * Input 2: '657468657265756d'\n * Input 3: '000000000000000000000000000000000000000000000000657468657265756d'\n *\n * Output (all 3 input variants): 'ethereum'\n *\n * Note that this method is not intended to be used with hex strings\n * representing quantities in both big endian or little endian notation.\n *\n * @param string Hex string, should be `0x` prefixed\n * @return Utf8 string\n */\nconst toUtf8 = function (hex) {\n    const zerosRegexp = /^(00)+|(00)+$/g;\n    hex = (0, internal_1.stripHexPrefix)(hex);\n    if (hex.length % 2 !== 0) {\n        throw new Error('Invalid non-even hex string input for toUtf8() provided');\n    }\n    const bufferVal = Buffer.from(hex.replace(zerosRegexp, ''), 'hex');\n    return bufferVal.toString('utf8');\n};\nexports.toUtf8 = toUtf8;\n/**\n * Converts a `Buffer` or `Array` to JSON.\n * @param ba (Buffer|Array)\n * @return (Array|String|null)\n */\nconst baToJSON = function (ba) {\n    if (Buffer.isBuffer(ba)) {\n        return `0x${ba.toString('hex')}`;\n    }\n    else if (ba instanceof Array) {\n        const array = [];\n        for (let i = 0; i < ba.length; i++) {\n            array.push((0, exports.baToJSON)(ba[i]));\n        }\n        return array;\n    }\n};\nexports.baToJSON = baToJSON;\n/**\n * Checks provided Buffers for leading zeroes and throws if found.\n *\n * Examples:\n *\n * Valid values: 0x1, 0x, 0x01, 0x1234\n * Invalid values: 0x0, 0x00, 0x001, 0x0001\n *\n * Note: This method is useful for validating that RLP encoded integers comply with the rule that all\n * integer values encoded to RLP must be in the most compact form and contain no leading zero bytes\n * @param values An object containing string keys and Buffer values\n * @throws if any provided value is found to have leading zero bytes\n */\nconst validateNoLeadingZeroes = function (values) {\n    for (const [k, v] of Object.entries(values)) {\n        if (v !== undefined && v.length > 0 && v[0] === 0) {\n            throw new Error(`${k} cannot have leading zeroes, received: ${v.toString('hex')}`);\n        }\n    }\n};\nexports.validateNoLeadingZeroes = validateNoLeadingZeroes;\nfunction arrToBufArr(arr) {\n    if (!Array.isArray(arr)) {\n        return Buffer.from(arr);\n    }\n    return arr.map((a) => arrToBufArr(a));\n}\nexports.arrToBufArr = arrToBufArr;\nfunction bufArrToArr(arr) {\n    if (!Array.isArray(arr)) {\n        return Uint8Array.from(arr ?? []);\n    }\n    return arr.map((a) => bufArrToArr(a));\n}\nexports.bufArrToArr = bufArrToArr;\n/**\n * Converts a {@link bigint} to a `0x` prefixed hex string\n */\nconst bigIntToHex = (num) => {\n    return '0x' + num.toString(16);\n};\nexports.bigIntToHex = bigIntToHex;\n/**\n * Convert value from bigint to an unpadded Buffer\n * (useful for RLP transport)\n * @param value value to convert\n */\nfunction bigIntToUnpaddedBuffer(value) {\n    return (0, exports.unpadBuffer)(bigIntToBuffer(value));\n}\nexports.bigIntToUnpaddedBuffer = bigIntToUnpaddedBuffer;\nfunction intToUnpaddedBuffer(value) {\n    return (0, exports.unpadBuffer)((0, exports.intToBuffer)(value));\n}\nexports.intToUnpaddedBuffer = intToUnpaddedBuffer;\n//# sourceMappingURL=bytes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.accountBodyToRLP = exports.accountBodyToSlim = exports.accountBodyFromSlim = exports.isZeroAddress = exports.zeroAddress = exports.importPublic = exports.privateToAddress = exports.privateToPublic = exports.publicToAddress = exports.pubToAddress = exports.isValidPublic = exports.isValidPrivate = exports.generateAddress2 = exports.generateAddress = exports.isValidChecksumAddress = exports.toChecksumAddress = exports.isValidAddress = exports.Account = void 0;\nconst rlp_1 = require(\"@ethereumjs/rlp\");\nconst keccak_1 = require(\"ethereum-cryptography/keccak\");\nconst secp256k1_1 = require(\"ethereum-cryptography/secp256k1\");\nconst utils_1 = require(\"ethereum-cryptography/utils\");\nconst bytes_1 = require(\"./bytes\");\nconst constants_1 = require(\"./constants\");\nconst helpers_1 = require(\"./helpers\");\nconst internal_1 = require(\"./internal\");\nconst _0n = BigInt(0);\nclass Account {\n    /**\n     * This constructor assigns and validates the values.\n     * Use the static factory methods to assist in creating an Account from varying data types.\n     */\n    constructor(nonce = _0n, balance = _0n, storageRoot = constants_1.KECCAK256_RLP, codeHash = constants_1.KECCAK256_NULL) {\n        this.nonce = nonce;\n        this.balance = balance;\n        this.storageRoot = storageRoot;\n        this.codeHash = codeHash;\n        this._validate();\n    }\n    static fromAccountData(accountData) {\n        const { nonce, balance, storageRoot, codeHash } = accountData;\n        return new Account(nonce !== undefined ? (0, bytes_1.bufferToBigInt)((0, bytes_1.toBuffer)(nonce)) : undefined, balance !== undefined ? (0, bytes_1.bufferToBigInt)((0, bytes_1.toBuffer)(balance)) : undefined, storageRoot !== undefined ? (0, bytes_1.toBuffer)(storageRoot) : undefined, codeHash !== undefined ? (0, bytes_1.toBuffer)(codeHash) : undefined);\n    }\n    static fromRlpSerializedAccount(serialized) {\n        const values = (0, bytes_1.arrToBufArr)(rlp_1.RLP.decode(Uint8Array.from(serialized)));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized account input. Must be array');\n        }\n        return this.fromValuesArray(values);\n    }\n    static fromValuesArray(values) {\n        const [nonce, balance, storageRoot, codeHash] = values;\n        return new Account((0, bytes_1.bufferToBigInt)(nonce), (0, bytes_1.bufferToBigInt)(balance), storageRoot, codeHash);\n    }\n    _validate() {\n        if (this.nonce < _0n) {\n            throw new Error('nonce must be greater than zero');\n        }\n        if (this.balance < _0n) {\n            throw new Error('balance must be greater than zero');\n        }\n        if (this.storageRoot.length !== 32) {\n            throw new Error('storageRoot must have a length of 32');\n        }\n        if (this.codeHash.length !== 32) {\n            throw new Error('codeHash must have a length of 32');\n        }\n    }\n    /**\n     * Returns a Buffer Array of the raw Buffers for the account, in order.\n     */\n    raw() {\n        return [\n            (0, bytes_1.bigIntToUnpaddedBuffer)(this.nonce),\n            (0, bytes_1.bigIntToUnpaddedBuffer)(this.balance),\n            this.storageRoot,\n            this.codeHash,\n        ];\n    }\n    /**\n     * Returns the RLP serialization of the account as a `Buffer`.\n     */\n    serialize() {\n        return Buffer.from(rlp_1.RLP.encode((0, bytes_1.bufArrToArr)(this.raw())));\n    }\n    /**\n     * Returns a `Boolean` determining if the account is a contract.\n     */\n    isContract() {\n        return !this.codeHash.equals(constants_1.KECCAK256_NULL);\n    }\n    /**\n     * Returns a `Boolean` determining if the account is empty complying to the definition of\n     * account emptiness in [EIP-161](https://eips.ethereum.org/EIPS/eip-161):\n     * \"An account is considered empty when it has no code and zero nonce and zero balance.\"\n     */\n    isEmpty() {\n        return this.balance === _0n && this.nonce === _0n && this.codeHash.equals(constants_1.KECCAK256_NULL);\n    }\n}\nexports.Account = Account;\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too.\n */\nconst isValidAddress = function (hexAddress) {\n    try {\n        (0, helpers_1.assertIsString)(hexAddress);\n    }\n    catch (e) {\n        return false;\n    }\n    return /^0x[0-9a-fA-F]{40}$/.test(hexAddress);\n};\nexports.isValidAddress = isValidAddress;\n/**\n * Returns a checksummed address.\n *\n * If an eip1191ChainId is provided, the chainId will be included in the checksum calculation. This\n * has the effect of checksummed addresses for one chain having invalid checksums for others.\n * For more details see [EIP-1191](https://eips.ethereum.org/EIPS/eip-1191).\n *\n * WARNING: Checksums with and without the chainId will differ and the EIP-1191 checksum is not\n * backwards compatible to the original widely adopted checksum format standard introduced in\n * [EIP-55](https://eips.ethereum.org/EIPS/eip-55), so this will break in existing applications.\n * Usage of this EIP is therefore discouraged unless you have a very targeted use case.\n */\nconst toChecksumAddress = function (hexAddress, eip1191ChainId) {\n    (0, helpers_1.assertIsHexString)(hexAddress);\n    const address = (0, internal_1.stripHexPrefix)(hexAddress).toLowerCase();\n    let prefix = '';\n    if (eip1191ChainId !== undefined) {\n        const chainId = (0, bytes_1.bufferToBigInt)((0, bytes_1.toBuffer)(eip1191ChainId));\n        prefix = chainId.toString() + '0x';\n    }\n    const buf = Buffer.from(prefix + address, 'utf8');\n    const hash = (0, utils_1.bytesToHex)((0, keccak_1.keccak256)(buf));\n    let ret = '0x';\n    for (let i = 0; i < address.length; i++) {\n        if (parseInt(hash[i], 16) >= 8) {\n            ret += address[i].toUpperCase();\n        }\n        else {\n            ret += address[i];\n        }\n    }\n    return ret;\n};\nexports.toChecksumAddress = toChecksumAddress;\n/**\n * Checks if the address is a valid checksummed address.\n *\n * See toChecksumAddress' documentation for details about the eip1191ChainId parameter.\n */\nconst isValidChecksumAddress = function (hexAddress, eip1191ChainId) {\n    return (0, exports.isValidAddress)(hexAddress) && (0, exports.toChecksumAddress)(hexAddress, eip1191ChainId) === hexAddress;\n};\nexports.isValidChecksumAddress = isValidChecksumAddress;\n/**\n * Generates an address of a newly created contract.\n * @param from The address which is creating this new address\n * @param nonce The nonce of the from account\n */\nconst generateAddress = function (from, nonce) {\n    (0, helpers_1.assertIsBuffer)(from);\n    (0, helpers_1.assertIsBuffer)(nonce);\n    if ((0, bytes_1.bufferToBigInt)(nonce) === BigInt(0)) {\n        // in RLP we want to encode null in the case of zero nonce\n        // read the RLP documentation for an answer if you dare\n        return Buffer.from((0, keccak_1.keccak256)(rlp_1.RLP.encode((0, bytes_1.bufArrToArr)([from, null])))).slice(-20);\n    }\n    // Only take the lower 160bits of the hash\n    return Buffer.from((0, keccak_1.keccak256)(rlp_1.RLP.encode((0, bytes_1.bufArrToArr)([from, nonce])))).slice(-20);\n};\nexports.generateAddress = generateAddress;\n/**\n * Generates an address for a contract created using CREATE2.\n * @param from The address which is creating this new address\n * @param salt A salt\n * @param initCode The init code of the contract being created\n */\nconst generateAddress2 = function (from, salt, initCode) {\n    (0, helpers_1.assertIsBuffer)(from);\n    (0, helpers_1.assertIsBuffer)(salt);\n    (0, helpers_1.assertIsBuffer)(initCode);\n    if (from.length !== 20) {\n        throw new Error('Expected from to be of length 20');\n    }\n    if (salt.length !== 32) {\n        throw new Error('Expected salt to be of length 32');\n    }\n    const address = (0, keccak_1.keccak256)(Buffer.concat([Buffer.from('ff', 'hex'), from, salt, (0, keccak_1.keccak256)(initCode)]));\n    return (0, bytes_1.toBuffer)(address).slice(-20);\n};\nexports.generateAddress2 = generateAddress2;\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n */\nconst isValidPrivate = function (privateKey) {\n    return secp256k1_1.utils.isValidPrivateKey(privateKey);\n};\nexports.isValidPrivate = isValidPrivate;\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */\nconst isValidPublic = function (publicKey, sanitize = false) {\n    (0, helpers_1.assertIsBuffer)(publicKey);\n    if (publicKey.length === 64) {\n        // Convert to SEC1 for secp256k1\n        // Automatically checks whether point is on curve\n        try {\n            secp256k1_1.Point.fromHex(Buffer.concat([Buffer.from([4]), publicKey]));\n            return true;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    if (!sanitize) {\n        return false;\n    }\n    try {\n        secp256k1_1.Point.fromHex(publicKey);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n};\nexports.isValidPublic = isValidPublic;\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param sanitize Accept public keys in other formats\n */\nconst pubToAddress = function (pubKey, sanitize = false) {\n    (0, helpers_1.assertIsBuffer)(pubKey);\n    if (sanitize && pubKey.length !== 64) {\n        pubKey = Buffer.from(secp256k1_1.Point.fromHex(pubKey).toRawBytes(false).slice(1));\n    }\n    if (pubKey.length !== 64) {\n        throw new Error('Expected pubKey to be of length 64');\n    }\n    // Only take the lower 160bits of the hash\n    return Buffer.from((0, keccak_1.keccak256)(pubKey)).slice(-20);\n};\nexports.pubToAddress = pubToAddress;\nexports.publicToAddress = exports.pubToAddress;\n/**\n * Returns the ethereum public key of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */\nconst privateToPublic = function (privateKey) {\n    (0, helpers_1.assertIsBuffer)(privateKey);\n    // skip the type flag and use the X, Y points\n    return Buffer.from(secp256k1_1.Point.fromPrivateKey(privateKey).toRawBytes(false).slice(1));\n};\nexports.privateToPublic = privateToPublic;\n/**\n * Returns the ethereum address of a given private key.\n * @param privateKey A private key must be 256 bits wide\n */\nconst privateToAddress = function (privateKey) {\n    return (0, exports.publicToAddress)((0, exports.privateToPublic)(privateKey));\n};\nexports.privateToAddress = privateToAddress;\n/**\n * Converts a public key to the Ethereum format.\n */\nconst importPublic = function (publicKey) {\n    (0, helpers_1.assertIsBuffer)(publicKey);\n    if (publicKey.length !== 64) {\n        publicKey = Buffer.from(secp256k1_1.Point.fromHex(publicKey).toRawBytes(false).slice(1));\n    }\n    return publicKey;\n};\nexports.importPublic = importPublic;\n/**\n * Returns the zero address.\n */\nconst zeroAddress = function () {\n    const addressLength = 20;\n    const addr = (0, bytes_1.zeros)(addressLength);\n    return (0, bytes_1.bufferToHex)(addr);\n};\nexports.zeroAddress = zeroAddress;\n/**\n * Checks if a given address is the zero address.\n */\nconst isZeroAddress = function (hexAddress) {\n    try {\n        (0, helpers_1.assertIsString)(hexAddress);\n    }\n    catch (e) {\n        return false;\n    }\n    const zeroAddr = (0, exports.zeroAddress)();\n    return zeroAddr === hexAddress;\n};\nexports.isZeroAddress = isZeroAddress;\nfunction accountBodyFromSlim(body) {\n    const [nonce, balance, storageRoot, codeHash] = body;\n    return [\n        nonce,\n        balance,\n        (0, bytes_1.arrToBufArr)(storageRoot).length === 0 ? constants_1.KECCAK256_RLP : storageRoot,\n        (0, bytes_1.arrToBufArr)(codeHash).length === 0 ? constants_1.KECCAK256_NULL : codeHash,\n    ];\n}\nexports.accountBodyFromSlim = accountBodyFromSlim;\nconst emptyUint8Arr = new Uint8Array(0);\nfunction accountBodyToSlim(body) {\n    const [nonce, balance, storageRoot, codeHash] = body;\n    return [\n        nonce,\n        balance,\n        (0, bytes_1.arrToBufArr)(storageRoot).equals(constants_1.KECCAK256_RLP) ? emptyUint8Arr : storageRoot,\n        (0, bytes_1.arrToBufArr)(codeHash).equals(constants_1.KECCAK256_NULL) ? emptyUint8Arr : codeHash,\n    ];\n}\nexports.accountBodyToSlim = accountBodyToSlim;\n/**\n * Converts a slim account (per snap protocol spec) to the RLP encoded version of the account\n * @param body Array of 4 Buffer-like items to represent the account\n * @returns RLP encoded version of the account\n */\nfunction accountBodyToRLP(body, couldBeSlim = true) {\n    const accountBody = couldBeSlim ? accountBodyFromSlim(body) : body;\n    return (0, bytes_1.arrToBufArr)(rlp_1.RLP.encode(accountBody));\n}\nexports.accountBodyToRLP = accountBodyToRLP;\n//# sourceMappingURL=account.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Address = void 0;\nconst account_1 = require(\"./account\");\nconst bytes_1 = require(\"./bytes\");\n/**\n * Handling and generating Ethereum addresses\n */\nclass Address {\n    constructor(buf) {\n        if (buf.length !== 20) {\n            throw new Error('Invalid address length');\n        }\n        this.buf = buf;\n    }\n    /**\n     * Returns the zero address.\n     */\n    static zero() {\n        return new Address((0, bytes_1.zeros)(20));\n    }\n    /**\n     * Returns an Address object from a hex-encoded string.\n     * @param str - Hex-encoded address\n     */\n    static fromString(str) {\n        if (!(0, account_1.isValidAddress)(str)) {\n            throw new Error('Invalid address');\n        }\n        return new Address((0, bytes_1.toBuffer)(str));\n    }\n    /**\n     * Returns an address for a given public key.\n     * @param pubKey The two points of an uncompressed key\n     */\n    static fromPublicKey(pubKey) {\n        if (!Buffer.isBuffer(pubKey)) {\n            throw new Error('Public key should be Buffer');\n        }\n        const buf = (0, account_1.pubToAddress)(pubKey);\n        return new Address(buf);\n    }\n    /**\n     * Returns an address for a given private key.\n     * @param privateKey A private key must be 256 bits wide\n     */\n    static fromPrivateKey(privateKey) {\n        if (!Buffer.isBuffer(privateKey)) {\n            throw new Error('Private key should be Buffer');\n        }\n        const buf = (0, account_1.privateToAddress)(privateKey);\n        return new Address(buf);\n    }\n    /**\n     * Generates an address for a newly created contract.\n     * @param from The address which is creating this new address\n     * @param nonce The nonce of the from account\n     */\n    static generate(from, nonce) {\n        if (typeof nonce !== 'bigint') {\n            throw new Error('Expected nonce to be a bigint');\n        }\n        return new Address((0, account_1.generateAddress)(from.buf, (0, bytes_1.bigIntToBuffer)(nonce)));\n    }\n    /**\n     * Generates an address for a contract created using CREATE2.\n     * @param from The address which is creating this new address\n     * @param salt A salt\n     * @param initCode The init code of the contract being created\n     */\n    static generate2(from, salt, initCode) {\n        if (!Buffer.isBuffer(salt)) {\n            throw new Error('Expected salt to be a Buffer');\n        }\n        if (!Buffer.isBuffer(initCode)) {\n            throw new Error('Expected initCode to be a Buffer');\n        }\n        return new Address((0, account_1.generateAddress2)(from.buf, salt, initCode));\n    }\n    /**\n     * Is address equal to another.\n     */\n    equals(address) {\n        return this.buf.equals(address.buf);\n    }\n    /**\n     * Is address zero.\n     */\n    isZero() {\n        return this.equals(Address.zero());\n    }\n    /**\n     * True if address is in the address range defined\n     * by EIP-1352\n     */\n    isPrecompileOrSystemAddress() {\n        const address = (0, bytes_1.bufferToBigInt)(this.buf);\n        const rangeMin = BigInt(0);\n        const rangeMax = BigInt('0xffff');\n        return address >= rangeMin && address <= rangeMax;\n    }\n    /**\n     * Returns hex encoding of address.\n     */\n    toString() {\n        return '0x' + this.buf.toString('hex');\n    }\n    /**\n     * Returns Buffer representation of address.\n     */\n    toBuffer() {\n        return Buffer.from(this.buf);\n    }\n}\nexports.Address = Address;\n//# sourceMappingURL=address.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toType = exports.TypeOutput = void 0;\nconst bytes_1 = require(\"./bytes\");\nconst internal_1 = require(\"./internal\");\n/**\n * Type output options\n */\nvar TypeOutput;\n(function (TypeOutput) {\n    TypeOutput[TypeOutput[\"Number\"] = 0] = \"Number\";\n    TypeOutput[TypeOutput[\"BigInt\"] = 1] = \"BigInt\";\n    TypeOutput[TypeOutput[\"Buffer\"] = 2] = \"Buffer\";\n    TypeOutput[TypeOutput[\"PrefixedHexString\"] = 3] = \"PrefixedHexString\";\n})(TypeOutput = exports.TypeOutput || (exports.TypeOutput = {}));\nfunction toType(input, outputType) {\n    if (input === null) {\n        return null;\n    }\n    if (input === undefined) {\n        return undefined;\n    }\n    if (typeof input === 'string' && !(0, internal_1.isHexString)(input)) {\n        throw new Error(`A string must be provided with a 0x-prefix, given: ${input}`);\n    }\n    else if (typeof input === 'number' && !Number.isSafeInteger(input)) {\n        throw new Error('The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)');\n    }\n    const output = (0, bytes_1.toBuffer)(input);\n    switch (outputType) {\n        case TypeOutput.Buffer:\n            return output;\n        case TypeOutput.BigInt:\n            return (0, bytes_1.bufferToBigInt)(output);\n        case TypeOutput.Number: {\n            const bigInt = (0, bytes_1.bufferToBigInt)(output);\n            if (bigInt > BigInt(Number.MAX_SAFE_INTEGER)) {\n                throw new Error('The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)');\n            }\n            return Number(bigInt);\n        }\n        case TypeOutput.PrefixedHexString:\n            return (0, bytes_1.bufferToHex)(output);\n        default:\n            throw new Error('unknown outputType');\n    }\n}\nexports.toType = toType;\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Withdrawal = void 0;\nconst address_1 = require(\"./address\");\nconst bytes_1 = require(\"./bytes\");\nconst types_1 = require(\"./types\");\n/**\n * Representation of EIP-4895 withdrawal data\n */\nclass Withdrawal {\n    /**\n     * This constructor assigns and validates the values.\n     * Use the static factory methods to assist in creating a Withdrawal object from varying data types.\n     * Its amount is in Gwei to match CL representation and for eventual ssz withdrawalsRoot\n     */\n    constructor(index, validatorIndex, address, \n    /**\n     * withdrawal amount in Gwei to match the CL repesentation and eventually ssz withdrawalsRoot\n     */\n    amount) {\n        this.index = index;\n        this.validatorIndex = validatorIndex;\n        this.address = address;\n        this.amount = amount;\n    }\n    static fromWithdrawalData(withdrawalData) {\n        const { index: indexData, validatorIndex: validatorIndexData, address: addressData, amount: amountData, } = withdrawalData;\n        const index = (0, types_1.toType)(indexData, types_1.TypeOutput.BigInt);\n        const validatorIndex = (0, types_1.toType)(validatorIndexData, types_1.TypeOutput.BigInt);\n        const address = new address_1.Address((0, types_1.toType)(addressData, types_1.TypeOutput.Buffer));\n        const amount = (0, types_1.toType)(amountData, types_1.TypeOutput.BigInt);\n        return new Withdrawal(index, validatorIndex, address, amount);\n    }\n    static fromValuesArray(withdrawalArray) {\n        if (withdrawalArray.length !== 4) {\n            throw Error(`Invalid withdrawalArray length expected=4 actual=${withdrawalArray.length}`);\n        }\n        const [index, validatorIndex, address, amount] = withdrawalArray;\n        return Withdrawal.fromWithdrawalData({ index, validatorIndex, address, amount });\n    }\n    /**\n     * Convert a withdrawal to a buffer array\n     * @param withdrawal the withdrawal to convert\n     * @returns buffer array of the withdrawal\n     */\n    static toBufferArray(withdrawal) {\n        const { index, validatorIndex, address, amount } = withdrawal;\n        const indexBuffer = (0, types_1.toType)(index, types_1.TypeOutput.BigInt) === BigInt(0)\n            ? Buffer.alloc(0)\n            : (0, types_1.toType)(index, types_1.TypeOutput.Buffer);\n        const validatorIndexBuffer = (0, types_1.toType)(validatorIndex, types_1.TypeOutput.BigInt) === BigInt(0)\n            ? Buffer.alloc(0)\n            : (0, types_1.toType)(validatorIndex, types_1.TypeOutput.Buffer);\n        let addressBuffer;\n        if (address instanceof address_1.Address) {\n            addressBuffer = address.buf;\n        }\n        else {\n            addressBuffer = (0, types_1.toType)(address, types_1.TypeOutput.Buffer);\n        }\n        const amountBuffer = (0, types_1.toType)(amount, types_1.TypeOutput.BigInt) === BigInt(0)\n            ? Buffer.alloc(0)\n            : (0, types_1.toType)(amount, types_1.TypeOutput.Buffer);\n        return [indexBuffer, validatorIndexBuffer, addressBuffer, amountBuffer];\n    }\n    raw() {\n        return Withdrawal.toBufferArray(this);\n    }\n    toValue() {\n        return {\n            index: this.index,\n            validatorIndex: this.validatorIndex,\n            address: this.address.buf,\n            amount: this.amount,\n        };\n    }\n    toJSON() {\n        return {\n            index: (0, bytes_1.bigIntToHex)(this.index),\n            validatorIndex: (0, bytes_1.bigIntToHex)(this.validatorIndex),\n            address: '0x' + this.address.buf.toString('hex'),\n            amount: (0, bytes_1.bigIntToHex)(this.amount),\n        };\n    }\n}\nexports.Withdrawal = Withdrawal;\n//# sourceMappingURL=withdrawal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hashPersonalMessage = exports.isValidSignature = exports.fromRpcSig = exports.toCompactSig = exports.toRpcSig = exports.ecrecover = exports.ecsign = void 0;\nconst keccak_1 = require(\"ethereum-cryptography/keccak\");\nconst secp256k1_1 = require(\"ethereum-cryptography/secp256k1\");\nconst bytes_1 = require(\"./bytes\");\nconst constants_1 = require(\"./constants\");\nconst helpers_1 = require(\"./helpers\");\n/**\n * Returns the ECDSA signature of a message hash.\n *\n * If `chainId` is provided assume an EIP-155-style signature and calculate the `v` value\n * accordingly, otherwise return a \"static\" `v` just derived from the `recovery` bit\n */\nfunction ecsign(msgHash, privateKey, chainId) {\n    const [signature, recovery] = (0, secp256k1_1.signSync)(msgHash, privateKey, { recovered: true, der: false });\n    const r = Buffer.from(signature.slice(0, 32));\n    const s = Buffer.from(signature.slice(32, 64));\n    const v = chainId === undefined\n        ? BigInt(recovery + 27)\n        : BigInt(recovery + 35) + BigInt(chainId) * BigInt(2);\n    return { r, s, v };\n}\nexports.ecsign = ecsign;\nfunction calculateSigRecovery(v, chainId) {\n    if (v === BigInt(0) || v === BigInt(1))\n        return v;\n    if (chainId === undefined) {\n        return v - BigInt(27);\n    }\n    return v - (chainId * BigInt(2) + BigInt(35));\n}\nfunction isValidSigRecovery(recovery) {\n    return recovery === BigInt(0) || recovery === BigInt(1);\n}\n/**\n * ECDSA public key recovery from signature.\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @returns Recovered public key\n */\nconst ecrecover = function (msgHash, v, r, s, chainId) {\n    const signature = Buffer.concat([(0, bytes_1.setLengthLeft)(r, 32), (0, bytes_1.setLengthLeft)(s, 32)], 64);\n    const recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    const senderPubKey = (0, secp256k1_1.recoverPublicKey)(msgHash, signature, Number(recovery));\n    return Buffer.from(senderPubKey.slice(1));\n};\nexports.ecrecover = ecrecover;\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method.\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @returns Signature\n */\nconst toRpcSig = function (v, r, s, chainId) {\n    const recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n    return (0, bytes_1.bufferToHex)(Buffer.concat([(0, bytes_1.setLengthLeft)(r, 32), (0, bytes_1.setLengthLeft)(s, 32), (0, bytes_1.toBuffer)(v)]));\n};\nexports.toRpcSig = toRpcSig;\n/**\n * Convert signature parameters into the format of Compact Signature Representation (EIP-2098).\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @returns Signature\n */\nconst toCompactSig = function (v, r, s, chainId) {\n    const recovery = calculateSigRecovery(v, chainId);\n    if (!isValidSigRecovery(recovery)) {\n        throw new Error('Invalid signature v value');\n    }\n    let ss = s;\n    if ((v > BigInt(28) && v % BigInt(2) === BigInt(1)) || v === BigInt(1) || v === BigInt(28)) {\n        ss = Buffer.from(s);\n        ss[0] |= 0x80;\n    }\n    return (0, bytes_1.bufferToHex)(Buffer.concat([(0, bytes_1.setLengthLeft)(r, 32), (0, bytes_1.setLengthLeft)(ss, 32)]));\n};\nexports.toCompactSig = toCompactSig;\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n *\n * NOTE: For an extracted `v` value < 27 (see Geth bug https://github.com/ethereum/go-ethereum/issues/2053)\n * `v + 27` is returned for the `v` value\n * NOTE: After EIP1559, `v` could be `0` or `1` but this function assumes\n * it's a signed message (EIP-191 or EIP-712) adding `27` at the end. Remove if needed.\n */\nconst fromRpcSig = function (sig) {\n    const buf = (0, bytes_1.toBuffer)(sig);\n    let r;\n    let s;\n    let v;\n    if (buf.length >= 65) {\n        r = buf.slice(0, 32);\n        s = buf.slice(32, 64);\n        v = (0, bytes_1.bufferToBigInt)(buf.slice(64));\n    }\n    else if (buf.length === 64) {\n        // Compact Signature Representation (https://eips.ethereum.org/EIPS/eip-2098)\n        r = buf.slice(0, 32);\n        s = buf.slice(32, 64);\n        v = BigInt((0, bytes_1.bufferToInt)(buf.slice(32, 33)) >> 7);\n        s[0] &= 0x7f;\n    }\n    else {\n        throw new Error('Invalid signature length');\n    }\n    // support both versions of `eth_sign` responses\n    if (v < 27) {\n        v = v + BigInt(27);\n    }\n    return {\n        v,\n        r,\n        s,\n    };\n};\nexports.fromRpcSig = fromRpcSig;\n/**\n * Validate a ECDSA signature.\n * NOTE: Accepts `v === 0 | v === 1` for EIP1559 transactions\n * @param homesteadOrLater Indicates whether this is being used on either the homestead hardfork or a later one\n */\nconst isValidSignature = function (v, r, s, homesteadOrLater = true, chainId) {\n    if (r.length !== 32 || s.length !== 32) {\n        return false;\n    }\n    if (!isValidSigRecovery(calculateSigRecovery(v, chainId))) {\n        return false;\n    }\n    const rBigInt = (0, bytes_1.bufferToBigInt)(r);\n    const sBigInt = (0, bytes_1.bufferToBigInt)(s);\n    if (rBigInt === BigInt(0) ||\n        rBigInt >= constants_1.SECP256K1_ORDER ||\n        sBigInt === BigInt(0) ||\n        sBigInt >= constants_1.SECP256K1_ORDER) {\n        return false;\n    }\n    if (homesteadOrLater && sBigInt >= constants_1.SECP256K1_ORDER_DIV_2) {\n        return false;\n    }\n    return true;\n};\nexports.isValidSignature = isValidSignature;\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n */\nconst hashPersonalMessage = function (message) {\n    (0, helpers_1.assertIsBuffer)(message);\n    const prefix = Buffer.from(`\\u0019Ethereum Signed Message:\\n${message.length}`, 'utf-8');\n    return Buffer.from((0, keccak_1.keccak256)(Buffer.concat([prefix, message])));\n};\nexports.hashPersonalMessage = hashPersonalMessage;\n//# sourceMappingURL=signature.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.gindexChild = exports.gindexParent = exports.gindexSibling = exports.concatGindices = exports.getGindexBits = exports.gindexIterator = exports.getGindicesAtDepth = exports.iterateAtDepth = exports.countToDepth = exports.convertGindexToBitstring = exports.toGindexBitstring = exports.toGindex = exports.bitIndexBigInt = void 0;\nfunction bitIndexBigInt(v) {\n    return v.toString(2).length - 1;\n}\nexports.bitIndexBigInt = bitIndexBigInt;\nfunction toGindex(depth, index) {\n    const anchor = BigInt(1) << BigInt(depth);\n    if (index >= anchor) {\n        throw new Error(`index ${index} too large for depth ${depth}`);\n    }\n    return anchor | index;\n}\nexports.toGindex = toGindex;\nfunction toGindexBitstring(depth, index) {\n    const str = index ? Number(index).toString(2) : \"\";\n    if (str.length > depth) {\n        throw new Error(\"index too large for depth\");\n    }\n    else {\n        return \"1\" + str.padStart(depth, \"0\");\n    }\n}\nexports.toGindexBitstring = toGindexBitstring;\nfunction convertGindexToBitstring(gindex) {\n    if (typeof gindex === \"string\") {\n        if (gindex.length === 0) {\n            throw new Error(ERR_INVALID_GINDEX);\n        }\n        return gindex;\n    }\n    else {\n        if (gindex < 1) {\n            throw new Error(ERR_INVALID_GINDEX);\n        }\n        return gindex.toString(2);\n    }\n}\nexports.convertGindexToBitstring = convertGindexToBitstring;\n// Get the depth (root starting at 0) necessary to cover a subtree of `count` elements.\n// (in out): (0 0), (1 0), (2 1), (3 2), (4 2), (5 3), (6 3), (7 3), (8 3), (9 4)\nfunction countToDepth(count) {\n    if (count <= 1) {\n        return 0;\n    }\n    return (count - BigInt(1)).toString(2).length;\n}\nexports.countToDepth = countToDepth;\n/**\n * Iterate through Gindexes at a certain depth\n */\nfunction iterateAtDepth(depth, startIndex, count) {\n    const anchor = BigInt(1) << BigInt(depth);\n    if (startIndex + count > anchor) {\n        throw new Error(\"Too large for depth\");\n    }\n    let i = toGindex(depth, startIndex);\n    const last = i + count;\n    return {\n        [Symbol.iterator]() {\n            return {\n                next() {\n                    if (i < last) {\n                        const value = i;\n                        i++;\n                        return { done: false, value };\n                    }\n                    else {\n                        return { done: true, value: undefined };\n                    }\n                },\n            };\n        },\n    };\n}\nexports.iterateAtDepth = iterateAtDepth;\n/**\n * Return Gindexes at a certain depth\n */\nfunction getGindicesAtDepth(depth, startIndex, count) {\n    const anchor = BigInt(1) << BigInt(depth);\n    if (startIndex + count > anchor) {\n        throw new Error(\"Too large for depth\");\n    }\n    let gindex = toGindex(depth, BigInt(startIndex));\n    const gindices = [];\n    for (let i = 0; i < count; i++) {\n        gindices.push(gindex++);\n    }\n    return gindices;\n}\nexports.getGindicesAtDepth = getGindicesAtDepth;\nconst ERR_INVALID_GINDEX = \"Invalid gindex\";\nfunction gindexIterator(gindex) {\n    let bitstring;\n    if (typeof gindex === \"string\") {\n        if (!gindex.length) {\n            throw new Error(ERR_INVALID_GINDEX);\n        }\n        bitstring = gindex;\n    }\n    else {\n        if (gindex < 1) {\n            throw new Error(ERR_INVALID_GINDEX);\n        }\n        bitstring = gindex.toString(2);\n    }\n    let i = 1;\n    const next = () => {\n        if (i === bitstring.length) {\n            return { done: true, value: undefined };\n        }\n        const bit = Number(bitstring[i]);\n        i++;\n        return { done: false, value: bit };\n    };\n    return {\n        [Symbol.iterator]() {\n            return { next };\n        },\n        remainingBitLength() {\n            return bitstring.length - i;\n        },\n    };\n}\nexports.gindexIterator = gindexIterator;\nfunction getGindexBits(gindex) {\n    let bitstring;\n    if (typeof gindex === \"string\") {\n        if (!gindex.length) {\n            throw new Error(ERR_INVALID_GINDEX);\n        }\n        bitstring = gindex;\n    }\n    else {\n        if (gindex < 1) {\n            throw new Error(ERR_INVALID_GINDEX);\n        }\n        bitstring = gindex.toString(2);\n    }\n    const bits = [];\n    for (let i = 1; i < bitstring.length; i++) {\n        bits.push(Number(bitstring[i]));\n    }\n    return bits;\n}\nexports.getGindexBits = getGindexBits;\n/**\n * Concatenate Generalized Indices\n * Given generalized indices i1 for A -> B, i2 for B -> C .... i_n for Y -> Z, returns\n * the generalized index for A -> Z.\n */\nfunction concatGindices(gindices) {\n    return BigInt(gindices.reduce((acc, gindex) => acc + gindex.toString(2).slice(1), \"0b1\"));\n}\nexports.concatGindices = concatGindices;\nfunction gindexSibling(gindex) {\n    return gindex ^ BigInt(1);\n}\nexports.gindexSibling = gindexSibling;\nfunction gindexParent(gindex) {\n    return gindex / BigInt(2);\n}\nexports.gindexParent = gindexParent;\nfunction gindexChild(gindex, rightChild) {\n    return gindex * BigInt(2) + BigInt(rightChild);\n}\nexports.gindexChild = gindexChild;\n","\"use strict\";\n// This file was autogenerated by scripts/codegen.ts\n// DO NOT modify this file by hand!\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wasmCode = void 0;\n// eslint-disable-next-line prettier/prettier\nexports.wasmCode = Uint8Array.from([0, 97, 115, 109, 1, 0, 0, 0, 1, 31, 6, 96, 1, 127, 0, 96, 2, 127, 127, 0, 96, 0, 0, 96, 1, 127, 1, 127, 96, 3, 127, 127, 127, 0, 96, 4, 127, 127, 127, 127, 0, 2, 13, 1, 3, 101, 110, 118, 5, 97, 98, 111, 114, 116, 0, 5, 3, 16, 15, 0, 3, 1, 3, 2, 2, 4, 1, 1, 3, 0, 0, 0, 1, 2, 5, 3, 1, 0, 1, 6, 172, 1, 34, 127, 0, 65, 128, 4, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 127, 1, 65, 0, 11, 7, 86, 9, 6, 109, 101, 109, 111, 114, 121, 2, 0, 12, 73, 78, 80, 85, 84, 95, 76, 69, 78, 71, 84, 72, 3, 0, 5, 105, 110, 112, 117, 116, 3, 28, 6, 111, 117, 116, 112, 117, 116, 3, 30, 4, 105, 110, 105, 116, 0, 6, 6, 117, 112, 100, 97, 116, 101, 0, 9, 5, 102, 105, 110, 97, 108, 0, 11, 6, 100, 105, 103, 101, 115, 116, 0, 12, 8, 100, 105, 103, 101, 115, 116, 54, 52, 0, 14, 8, 1, 15, 10, 202, 14, 15, 70, 1, 2, 127, 32, 0, 63, 0, 34, 2, 65, 16, 116, 34, 1, 75, 4, 64, 32, 2, 32, 0, 32, 1, 107, 65, 255, 255, 3, 106, 65, 128, 128, 124, 113, 65, 16, 118, 34, 1, 32, 2, 32, 1, 74, 27, 64, 0, 65, 0, 72, 4, 64, 32, 1, 64, 0, 65, 0, 72, 4, 64, 0, 11, 11, 11, 32, 0, 36, 23, 11, 82, 1, 3, 127, 32, 0, 65, 240, 255, 255, 255, 3, 75, 4, 64, 0, 11, 35, 23, 65, 16, 106, 34, 2, 32, 0, 65, 15, 106, 65, 112, 113, 34, 1, 65, 16, 32, 1, 65, 16, 75, 27, 34, 3, 106, 16, 1, 32, 2, 65, 16, 107, 34, 1, 32, 3, 54, 2, 0, 32, 1, 65, 1, 54, 2, 4, 32, 1, 65, 0, 54, 2, 8, 32, 1, 32, 0, 54, 2, 12, 32, 2, 11, 37, 1, 1, 127, 3, 64, 32, 1, 4, 64, 32, 0, 34, 2, 65, 1, 106, 33, 0, 32, 2, 65, 0, 58, 0, 0, 32, 1, 65, 1, 107, 33, 1, 12, 1, 11, 11, 11, 41, 1, 1, 127, 32, 0, 65, 240, 255, 255, 255, 3, 75, 4, 64, 65, 128, 5, 65, 176, 5, 65, 54, 65, 42, 16, 0, 0, 11, 32, 0, 16, 2, 34, 1, 32, 0, 16, 3, 32, 1, 11, 71, 0, 65, 180, 2, 40, 2, 0, 36, 1, 65, 228, 4, 40, 2, 0, 36, 2, 65, 224, 5, 36, 22, 65, 224, 5, 36, 23, 65, 192, 0, 16, 4, 36, 24, 35, 24, 36, 25, 65, 128, 2, 16, 4, 36, 26, 35, 26, 36, 27, 65, 128, 4, 16, 4, 36, 28, 35, 28, 36, 29, 65, 32, 16, 4, 36, 30, 35, 30, 36, 31, 11, 74, 0, 65, 231, 204, 167, 208, 6, 36, 3, 65, 133, 221, 158, 219, 123, 36, 4, 65, 242, 230, 187, 227, 3, 36, 5, 65, 186, 234, 191, 170, 122, 36, 6, 65, 255, 164, 185, 136, 5, 36, 7, 65, 140, 209, 149, 216, 121, 36, 8, 65, 171, 179, 143, 252, 1, 36, 9, 65, 153, 154, 131, 223, 5, 36, 10, 65, 0, 36, 32, 65, 0, 36, 33, 11, 103, 1, 2, 127, 2, 64, 32, 2, 33, 3, 32, 0, 32, 1, 70, 13, 0, 32, 0, 32, 1, 73, 4, 64, 3, 64, 32, 3, 4, 64, 32, 0, 34, 2, 65, 1, 106, 33, 0, 32, 1, 34, 4, 65, 1, 106, 33, 1, 32, 2, 32, 4, 45, 0, 0, 58, 0, 0, 32, 3, 65, 1, 107, 33, 3, 12, 1, 11, 11, 5, 3, 64, 32, 3, 4, 64, 32, 3, 65, 1, 107, 34, 3, 32, 0, 106, 32, 1, 32, 3, 106, 45, 0, 0, 58, 0, 0, 12, 1, 11, 11, 11, 11, 11, 231, 3, 1, 1, 127, 35, 3, 36, 11, 35, 4, 36, 12, 35, 5, 36, 13, 35, 6, 36, 14, 35, 7, 36, 15, 35, 8, 36, 16, 35, 9, 36, 17, 35, 10, 36, 18, 65, 0, 36, 19, 3, 64, 35, 19, 65, 16, 73, 4, 64, 32, 0, 35, 19, 65, 2, 116, 106, 32, 1, 35, 19, 65, 2, 116, 34, 2, 106, 45, 0, 0, 65, 24, 116, 32, 1, 32, 2, 65, 1, 106, 106, 45, 0, 0, 65, 16, 116, 114, 32, 1, 32, 2, 65, 2, 106, 106, 45, 0, 0, 65, 8, 116, 114, 32, 1, 32, 2, 65, 3, 106, 106, 45, 0, 0, 114, 54, 2, 0, 35, 19, 65, 1, 106, 36, 19, 12, 1, 11, 11, 65, 16, 36, 19, 3, 64, 35, 19, 65, 192, 0, 73, 4, 64, 32, 0, 35, 19, 65, 2, 116, 106, 32, 0, 35, 19, 65, 16, 107, 65, 2, 116, 106, 40, 2, 0, 32, 0, 35, 19, 65, 7, 107, 65, 2, 116, 106, 40, 2, 0, 32, 0, 35, 19, 65, 2, 107, 65, 2, 116, 106, 40, 2, 0, 34, 1, 65, 17, 120, 32, 1, 65, 19, 120, 115, 32, 1, 65, 10, 118, 115, 106, 32, 0, 35, 19, 65, 15, 107, 65, 2, 116, 106, 40, 2, 0, 34, 1, 65, 7, 120, 32, 1, 65, 18, 120, 115, 32, 1, 65, 3, 118, 115, 106, 106, 54, 2, 0, 35, 19, 65, 1, 106, 36, 19, 12, 1, 11, 11, 65, 0, 36, 19, 3, 64, 35, 19, 65, 192, 0, 73, 4, 64, 32, 0, 35, 19, 65, 2, 116, 106, 40, 2, 0, 35, 1, 35, 19, 65, 2, 116, 106, 40, 2, 0, 35, 18, 35, 15, 34, 1, 65, 6, 120, 32, 1, 65, 11, 120, 115, 32, 1, 65, 25, 120, 115, 106, 35, 15, 34, 1, 35, 16, 113, 35, 17, 32, 1, 65, 127, 115, 113, 115, 106, 106, 106, 36, 20, 35, 11, 34, 1, 65, 2, 120, 32, 1, 65, 13, 120, 115, 32, 1, 65, 22, 120, 115, 35, 11, 34, 1, 35, 12, 34, 2, 113, 32, 1, 35, 13, 34, 1, 113, 115, 32, 1, 32, 2, 113, 115, 106, 36, 21, 35, 17, 36, 18, 35, 16, 36, 17, 35, 15, 36, 16, 35, 14, 35, 20, 106, 36, 15, 35, 13, 36, 14, 35, 12, 36, 13, 35, 11, 36, 12, 35, 20, 35, 21, 106, 36, 11, 35, 19, 65, 1, 106, 36, 19, 12, 1, 11, 11, 35, 3, 35, 11, 106, 36, 3, 35, 4, 35, 12, 106, 36, 4, 35, 5, 35, 13, 106, 36, 5, 35, 6, 35, 14, 106, 36, 6, 35, 7, 35, 15, 106, 36, 7, 35, 8, 35, 16, 106, 36, 8, 35, 9, 35, 17, 106, 36, 9, 35, 10, 35, 18, 106, 36, 10, 11, 177, 1, 1, 2, 127, 32, 1, 35, 33, 106, 36, 33, 35, 32, 4, 64, 65, 192, 0, 35, 32, 107, 32, 1, 76, 4, 64, 35, 25, 35, 32, 106, 32, 0, 65, 192, 0, 35, 32, 107, 16, 7, 35, 32, 65, 192, 0, 35, 32, 107, 106, 36, 32, 65, 192, 0, 35, 32, 107, 33, 2, 32, 1, 65, 192, 0, 35, 32, 107, 107, 33, 1, 35, 27, 35, 25, 16, 8, 65, 0, 36, 32, 5, 35, 25, 35, 32, 106, 32, 0, 32, 1, 16, 7, 32, 1, 35, 32, 106, 36, 32, 15, 11, 11, 3, 64, 32, 3, 32, 1, 65, 192, 0, 109, 72, 4, 64, 35, 27, 32, 0, 32, 2, 106, 16, 8, 32, 3, 65, 1, 106, 33, 3, 32, 2, 65, 64, 107, 33, 2, 12, 1, 11, 11, 32, 1, 65, 63, 113, 4, 64, 35, 25, 35, 32, 106, 32, 0, 32, 2, 106, 32, 1, 65, 63, 113, 34, 0, 16, 7, 32, 0, 35, 32, 106, 36, 32, 11, 11, 25, 0, 32, 0, 65, 128, 254, 131, 120, 113, 65, 8, 119, 32, 0, 65, 255, 129, 252, 7, 113, 65, 8, 120, 114, 11, 173, 2, 1, 2, 127, 35, 33, 65, 63, 113, 65, 63, 72, 4, 64, 35, 25, 35, 32, 106, 65, 128, 1, 58, 0, 0, 35, 32, 65, 1, 106, 36, 32, 11, 35, 33, 65, 63, 113, 65, 56, 78, 4, 64, 35, 25, 35, 32, 106, 34, 1, 65, 192, 0, 35, 32, 107, 106, 33, 2, 3, 64, 32, 1, 32, 2, 73, 4, 64, 32, 1, 65, 0, 58, 0, 0, 32, 1, 65, 1, 106, 33, 1, 12, 1, 11, 11, 35, 27, 35, 25, 16, 8, 65, 0, 36, 32, 11, 35, 33, 65, 63, 113, 65, 63, 78, 4, 64, 35, 25, 35, 32, 106, 65, 128, 1, 58, 0, 0, 35, 32, 65, 1, 106, 36, 32, 11, 35, 25, 35, 32, 106, 34, 1, 65, 56, 35, 32, 107, 106, 33, 2, 3, 64, 32, 1, 32, 2, 73, 4, 64, 32, 1, 65, 0, 58, 0, 0, 32, 1, 65, 1, 106, 33, 1, 12, 1, 11, 11, 35, 25, 65, 56, 106, 35, 33, 65, 128, 128, 128, 128, 2, 109, 16, 10, 54, 2, 0, 35, 25, 65, 60, 106, 35, 33, 65, 3, 116, 16, 10, 54, 2, 0, 35, 27, 35, 25, 16, 8, 32, 0, 35, 3, 16, 10, 54, 2, 0, 32, 0, 65, 4, 106, 35, 4, 16, 10, 54, 2, 0, 32, 0, 65, 8, 106, 35, 5, 16, 10, 54, 2, 0, 32, 0, 65, 12, 106, 35, 6, 16, 10, 54, 2, 0, 32, 0, 65, 16, 106, 35, 7, 16, 10, 54, 2, 0, 32, 0, 65, 20, 106, 35, 8, 16, 10, 54, 2, 0, 32, 0, 65, 24, 106, 35, 9, 16, 10, 54, 2, 0, 32, 0, 65, 28, 106, 35, 10, 16, 10, 54, 2, 0, 11, 14, 0, 16, 6, 35, 29, 32, 0, 16, 9, 35, 31, 16, 11, 11, 253, 1, 1, 2, 127, 35, 3, 36, 11, 35, 4, 36, 12, 35, 5, 36, 13, 35, 6, 36, 14, 35, 7, 36, 15, 35, 8, 36, 16, 35, 9, 36, 17, 35, 10, 36, 18, 65, 0, 36, 19, 3, 64, 35, 19, 65, 192, 0, 73, 4, 64, 32, 0, 35, 19, 65, 2, 116, 106, 40, 2, 0, 35, 18, 35, 15, 34, 1, 65, 6, 120, 32, 1, 65, 11, 120, 115, 32, 1, 65, 25, 120, 115, 106, 35, 15, 34, 1, 35, 16, 113, 35, 17, 32, 1, 65, 127, 115, 113, 115, 106, 106, 36, 20, 35, 11, 34, 1, 65, 2, 120, 32, 1, 65, 13, 120, 115, 32, 1, 65, 22, 120, 115, 35, 11, 34, 1, 35, 12, 34, 2, 113, 32, 1, 35, 13, 34, 1, 113, 115, 32, 1, 32, 2, 113, 115, 106, 36, 21, 35, 17, 36, 18, 35, 16, 36, 17, 35, 15, 36, 16, 35, 14, 35, 20, 106, 36, 15, 35, 13, 36, 14, 35, 12, 36, 13, 35, 11, 36, 12, 35, 20, 35, 21, 106, 36, 11, 35, 19, 65, 1, 106, 36, 19, 12, 1, 11, 11, 35, 3, 35, 11, 106, 36, 3, 35, 4, 35, 12, 106, 36, 4, 35, 5, 35, 13, 106, 36, 5, 35, 6, 35, 14, 106, 36, 6, 35, 7, 35, 15, 106, 36, 7, 35, 8, 35, 16, 106, 36, 8, 35, 9, 35, 17, 106, 36, 9, 35, 10, 35, 18, 106, 36, 10, 11, 107, 0, 16, 6, 35, 27, 32, 0, 16, 8, 35, 2, 16, 13, 32, 1, 35, 3, 16, 10, 54, 2, 0, 32, 1, 65, 4, 106, 35, 4, 16, 10, 54, 2, 0, 32, 1, 65, 8, 106, 35, 5, 16, 10, 54, 2, 0, 32, 1, 65, 12, 106, 35, 6, 16, 10, 54, 2, 0, 32, 1, 65, 16, 106, 35, 7, 16, 10, 54, 2, 0, 32, 1, 65, 20, 106, 35, 8, 16, 10, 54, 2, 0, 32, 1, 65, 24, 106, 35, 9, 16, 10, 54, 2, 0, 32, 1, 65, 28, 106, 35, 10, 16, 10, 54, 2, 0, 11, 4, 0, 16, 5, 11, 11, 222, 5, 6, 0, 65, 17, 11, 143, 2, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 152, 47, 138, 66, 145, 68, 55, 113, 207, 251, 192, 181, 165, 219, 181, 233, 91, 194, 86, 57, 241, 17, 241, 89, 164, 130, 63, 146, 213, 94, 28, 171, 152, 170, 7, 216, 1, 91, 131, 18, 190, 133, 49, 36, 195, 125, 12, 85, 116, 93, 190, 114, 254, 177, 222, 128, 167, 6, 220, 155, 116, 241, 155, 193, 193, 105, 155, 228, 134, 71, 190, 239, 198, 157, 193, 15, 204, 161, 12, 36, 111, 44, 233, 45, 170, 132, 116, 74, 220, 169, 176, 92, 218, 136, 249, 118, 82, 81, 62, 152, 109, 198, 49, 168, 200, 39, 3, 176, 199, 127, 89, 191, 243, 11, 224, 198, 71, 145, 167, 213, 81, 99, 202, 6, 103, 41, 41, 20, 133, 10, 183, 39, 56, 33, 27, 46, 252, 109, 44, 77, 19, 13, 56, 83, 84, 115, 10, 101, 187, 10, 106, 118, 46, 201, 194, 129, 133, 44, 114, 146, 161, 232, 191, 162, 75, 102, 26, 168, 112, 139, 75, 194, 163, 81, 108, 199, 25, 232, 146, 209, 36, 6, 153, 214, 133, 53, 14, 244, 112, 160, 106, 16, 22, 193, 164, 25, 8, 108, 55, 30, 76, 119, 72, 39, 181, 188, 176, 52, 179, 12, 28, 57, 74, 170, 216, 78, 79, 202, 156, 91, 243, 111, 46, 104, 238, 130, 143, 116, 111, 99, 165, 120, 20, 120, 200, 132, 8, 2, 199, 140, 250, 255, 190, 144, 235, 108, 80, 164, 247, 163, 249, 190, 242, 120, 113, 198, 0, 65, 160, 2, 11, 29, 16, 0, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 16, 0, 0, 0, 32, 0, 0, 0, 32, 0, 0, 0, 0, 1, 0, 0, 64, 0, 65, 193, 2, 11, 143, 2, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 152, 47, 138, 194, 145, 68, 55, 113, 207, 251, 192, 181, 165, 219, 181, 233, 91, 194, 86, 57, 241, 17, 241, 89, 164, 130, 63, 146, 213, 94, 28, 171, 152, 170, 7, 216, 1, 91, 131, 18, 190, 133, 49, 36, 195, 125, 12, 85, 116, 93, 190, 114, 254, 177, 222, 128, 167, 6, 220, 155, 116, 243, 155, 193, 193, 105, 155, 100, 134, 71, 254, 240, 198, 237, 225, 15, 84, 242, 12, 36, 111, 52, 233, 79, 190, 132, 201, 108, 30, 65, 185, 97, 250, 136, 249, 22, 82, 81, 198, 242, 109, 90, 142, 168, 101, 252, 25, 176, 199, 158, 217, 185, 195, 49, 18, 154, 160, 234, 14, 231, 43, 35, 177, 253, 176, 62, 53, 199, 213, 186, 105, 48, 95, 109, 151, 203, 143, 17, 15, 90, 253, 238, 30, 220, 137, 182, 53, 10, 4, 122, 11, 222, 157, 202, 244, 88, 22, 91, 93, 225, 134, 62, 127, 0, 128, 137, 8, 55, 50, 234, 7, 165, 55, 149, 171, 111, 16, 97, 64, 23, 241, 214, 140, 13, 109, 59, 170, 205, 55, 190, 187, 192, 218, 59, 97, 131, 99, 163, 72, 219, 49, 233, 2, 11, 167, 92, 209, 111, 202, 250, 26, 82, 49, 132, 51, 49, 149, 26, 212, 110, 144, 120, 67, 109, 242, 145, 156, 195, 189, 171, 204, 158, 230, 160, 201, 181, 60, 182, 47, 83, 198, 65, 199, 210, 163, 126, 35, 7, 104, 75, 149, 164, 118, 29, 25, 76, 0, 65, 208, 4, 11, 29, 16, 0, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 16, 0, 0, 0, 80, 1, 0, 0, 80, 1, 0, 0, 0, 1, 0, 0, 64, 0, 65, 240, 4, 11, 43, 28, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 28, 0, 0, 0, 73, 0, 110, 0, 118, 0, 97, 0, 108, 0, 105, 0, 100, 0, 32, 0, 108, 0, 101, 0, 110, 0, 103, 0, 116, 0, 104, 0, 65, 160, 5, 11, 53, 38, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 38, 0, 0, 0, 126, 0, 108, 0, 105, 0, 98, 0, 47, 0, 97, 0, 114, 0, 114, 0, 97, 0, 121, 0, 98, 0, 117, 0, 102, 0, 102, 0, 101, 0, 114, 0, 46, 0, 116, 0, 115]);\n//# sourceMappingURL=wasmCode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.newInstance = void 0;\nconst wasmCode_1 = require(\"./wasmCode\");\nconst _module = new WebAssembly.Module(wasmCode_1.wasmCode);\nconst importObj = {\n    env: {\n        // modified from https://github.com/AssemblyScript/assemblyscript/blob/v0.9.2/lib/loader/index.js#L70\n        abort: function (msg, file, line, col) {\n            throw Error(`abort: ${msg}:${file}:${line}:${col}`);\n        },\n    },\n};\nfunction newInstance() {\n    return new WebAssembly.Instance(_module, importObj).exports;\n}\nexports.newInstance = newInstance;\n//# sourceMappingURL=wasm.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.byteArrayToHashObject = exports.hashObjectToByteArray = void 0;\n/**\n * Pass 8 numbers in an object and set that to inputArray.\n * This function contains multiple same procedures but we intentionally\n * do it step by step to improve performance a bit.\n **/\nfunction hashObjectToByteArray(obj, byteArr, offset) {\n    let tmp = obj.h0;\n    byteArr[0 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[1 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[2 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[3 + offset] = tmp & 0xff;\n    tmp = obj.h1;\n    byteArr[4 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[5 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[6 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[7 + offset] = tmp & 0xff;\n    tmp = obj.h2;\n    byteArr[8 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[9 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[10 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[11 + offset] = tmp & 0xff;\n    tmp = obj.h3;\n    byteArr[12 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[13 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[14 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[15 + offset] = tmp & 0xff;\n    tmp = obj.h4;\n    byteArr[16 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[17 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[18 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[19 + offset] = tmp & 0xff;\n    tmp = obj.h5;\n    byteArr[20 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[21 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[22 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[23 + offset] = tmp & 0xff;\n    tmp = obj.h6;\n    byteArr[24 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[25 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[26 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[27 + offset] = tmp & 0xff;\n    tmp = obj.h7;\n    byteArr[28 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[29 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[30 + offset] = tmp & 0xff;\n    tmp = tmp >> 8;\n    byteArr[31 + offset] = tmp & 0xff;\n}\nexports.hashObjectToByteArray = hashObjectToByteArray;\n/**\n * Parse outputArray into an object of 8 numbers.\n * This is the order that makes Uint32Array the same to Uint8Array\n * This function contains multiple same procedures but we intentionally\n * do it step by step to improve performance a bit.\n **/\nfunction byteArrayToHashObject(byteArr) {\n    let tmp = 0;\n    tmp |= byteArr[3] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[2] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[1] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[0] & 0xff;\n    const h0 = tmp;\n    tmp = 0;\n    tmp |= byteArr[7] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[6] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[5] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[4] & 0xff;\n    const h1 = tmp;\n    tmp = 0;\n    tmp |= byteArr[11] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[10] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[9] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[8] & 0xff;\n    const h2 = tmp;\n    tmp = 0;\n    tmp |= byteArr[15] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[14] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[13] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[12] & 0xff;\n    const h3 = tmp;\n    tmp = 0;\n    tmp |= byteArr[19] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[18] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[17] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[16] & 0xff;\n    const h4 = tmp;\n    tmp = 0;\n    tmp |= byteArr[23] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[22] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[21] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[20] & 0xff;\n    const h5 = tmp;\n    tmp = 0;\n    tmp |= byteArr[27] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[26] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[25] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[24] & 0xff;\n    const h6 = tmp;\n    tmp = 0;\n    tmp |= byteArr[31] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[30] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[29] & 0xff;\n    tmp = tmp << 8;\n    tmp |= byteArr[28] & 0xff;\n    const h7 = tmp;\n    return {\n        h0,\n        h1,\n        h2,\n        h3,\n        h4,\n        h5,\n        h6,\n        h7,\n    };\n}\nexports.byteArrayToHashObject = byteArrayToHashObject;\n//# sourceMappingURL=hashObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst wasm_1 = require(\"./wasm\");\n/**\n * Class based SHA256\n */\nclass SHA256 {\n    constructor() {\n        this.ctx = wasm_1.newInstance();\n        this.wasmInputValue = this.ctx.input.value;\n        this.wasmOutputValue = this.ctx.output.value;\n        this.uint8InputArray = new Uint8Array(this.ctx.memory.buffer, this.wasmInputValue, this.ctx.INPUT_LENGTH);\n        this.uint8OutputArray = new Uint8Array(this.ctx.memory.buffer, this.wasmOutputValue, 32);\n    }\n    init() {\n        this.ctx.init();\n        return this;\n    }\n    update(data) {\n        const INPUT_LENGTH = this.ctx.INPUT_LENGTH;\n        if (data.length > INPUT_LENGTH) {\n            for (let i = 0; i < data.length; i += INPUT_LENGTH) {\n                const sliced = data.slice(i, i + INPUT_LENGTH);\n                this.uint8InputArray.set(sliced);\n                this.ctx.update(this.wasmInputValue, sliced.length);\n            }\n        }\n        else {\n            this.uint8InputArray.set(data);\n            this.ctx.update(this.wasmInputValue, data.length);\n        }\n        return this;\n    }\n    final() {\n        this.ctx.final(this.wasmOutputValue);\n        const output = new Uint8Array(32);\n        output.set(this.uint8OutputArray);\n        return output;\n    }\n}\nexports.default = SHA256;\n//# sourceMappingURL=sha256.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.digest64HashObjects = exports.digest2Bytes32 = exports.digest64 = exports.digest = exports.SHA256 = exports.hashObjectToByteArray = exports.byteArrayToHashObject = void 0;\nconst wasm_1 = require(\"./wasm\");\nconst hashObject_1 = require(\"./hashObject\");\nObject.defineProperty(exports, \"byteArrayToHashObject\", { enumerable: true, get: function () { return hashObject_1.byteArrayToHashObject; } });\nObject.defineProperty(exports, \"hashObjectToByteArray\", { enumerable: true, get: function () { return hashObject_1.hashObjectToByteArray; } });\nconst sha256_1 = __importDefault(require(\"./sha256\"));\nexports.SHA256 = sha256_1.default;\nconst ctx = wasm_1.newInstance();\nconst wasmInputValue = ctx.input.value;\nconst wasmOutputValue = ctx.output.value;\nconst inputUint8Array = new Uint8Array(ctx.memory.buffer, wasmInputValue, ctx.INPUT_LENGTH);\nconst outputUint8Array = new Uint8Array(ctx.memory.buffer, wasmOutputValue, 32);\nconst inputUint32Array = new Uint32Array(ctx.memory.buffer, wasmInputValue, ctx.INPUT_LENGTH);\nfunction digest(data) {\n    if (data.length === 64) {\n        return digest64(data);\n    }\n    if (data.length <= ctx.INPUT_LENGTH) {\n        inputUint8Array.set(data);\n        ctx.digest(data.length);\n        const output = new Uint8Array(32);\n        output.set(outputUint8Array);\n        return output;\n    }\n    ctx.init();\n    update(data);\n    return final();\n}\nexports.digest = digest;\nfunction digest64(data) {\n    if (data.length === 64) {\n        inputUint8Array.set(data);\n        ctx.digest64(wasmInputValue, wasmOutputValue);\n        const output = new Uint8Array(32);\n        output.set(outputUint8Array);\n        return output;\n    }\n    throw new Error(\"InvalidLengthForDigest64\");\n}\nexports.digest64 = digest64;\nfunction digest2Bytes32(bytes1, bytes2) {\n    if (bytes1.length === 32 && bytes2.length === 32) {\n        inputUint8Array.set(bytes1);\n        inputUint8Array.set(bytes2, 32);\n        ctx.digest64(wasmInputValue, wasmOutputValue);\n        const output = new Uint8Array(32);\n        output.set(outputUint8Array);\n        return output;\n    }\n    throw new Error(\"InvalidLengthForDigest64\");\n}\nexports.digest2Bytes32 = digest2Bytes32;\n/**\n * Digest 2 objects, each has 8 properties from h0 to h7.\n * The performance is a little bit better than digest64 due to the use of Uint32Array\n * and the memory is a little bit better than digest64 due to no temporary Uint8Array.\n * @returns\n */\nfunction digest64HashObjects(obj1, obj2) {\n    // TODO: expect obj1 and obj2 as HashObject\n    inputUint32Array[0] = obj1.h0;\n    inputUint32Array[1] = obj1.h1;\n    inputUint32Array[2] = obj1.h2;\n    inputUint32Array[3] = obj1.h3;\n    inputUint32Array[4] = obj1.h4;\n    inputUint32Array[5] = obj1.h5;\n    inputUint32Array[6] = obj1.h6;\n    inputUint32Array[7] = obj1.h7;\n    inputUint32Array[8] = obj2.h0;\n    inputUint32Array[9] = obj2.h1;\n    inputUint32Array[10] = obj2.h2;\n    inputUint32Array[11] = obj2.h3;\n    inputUint32Array[12] = obj2.h4;\n    inputUint32Array[13] = obj2.h5;\n    inputUint32Array[14] = obj2.h6;\n    inputUint32Array[15] = obj2.h7;\n    ctx.digest64(wasmInputValue, wasmOutputValue);\n    // extracting numbers from Uint32Array causes more memory\n    return hashObject_1.byteArrayToHashObject(outputUint8Array);\n}\nexports.digest64HashObjects = digest64HashObjects;\nfunction update(data) {\n    const INPUT_LENGTH = ctx.INPUT_LENGTH;\n    if (data.length > INPUT_LENGTH) {\n        for (let i = 0; i < data.length; i += INPUT_LENGTH) {\n            const sliced = data.slice(i, i + INPUT_LENGTH);\n            inputUint8Array.set(sliced);\n            ctx.update(wasmInputValue, sliced.length);\n        }\n    }\n    else {\n        inputUint8Array.set(data);\n        ctx.update(wasmInputValue, data.length);\n    }\n}\nfunction final() {\n    ctx.final(wasmOutputValue);\n    const output = new Uint8Array(32);\n    output.set(outputUint8Array);\n    return output;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isHashObject = exports.uint8ArrayToHashObject = exports.hashObjectToUint8Array = exports.hashTwoObjects = exports.hash = void 0;\nconst as_sha256_1 = require(\"@chainsafe/as-sha256\");\nconst input = new Uint8Array(64);\n/**\n * Hash two 32 byte arrays\n */\nfunction hash(a, b) {\n    input.set(a, 0);\n    input.set(b, 32);\n    return as_sha256_1.digest64(input);\n}\nexports.hash = hash;\n/**\n * Hash 2 objects, each store 8 numbers (equivalent to Uint8Array(32))\n */\nfunction hashTwoObjects(a, b) {\n    return as_sha256_1.digest64HashObjects(a, b);\n}\nexports.hashTwoObjects = hashTwoObjects;\nfunction hashObjectToUint8Array(obj) {\n    const byteArr = new Uint8Array(32);\n    as_sha256_1.hashObjectToByteArray(obj, byteArr, 0);\n    return byteArr;\n}\nexports.hashObjectToUint8Array = hashObjectToUint8Array;\nfunction uint8ArrayToHashObject(byteArr) {\n    return as_sha256_1.byteArrayToHashObject(byteArr);\n}\nexports.uint8ArrayToHashObject = uint8ArrayToHashObject;\nfunction isHashObject(hash) {\n    // @ts-ignore\n    return hash.length === undefined;\n}\nexports.isHashObject = isHashObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bitwiseOrNodeH = exports.setNodeH = exports.getNodeH = exports.compose = exports.identity = exports.LeafNode = exports.BranchNode = exports.Node = void 0;\nconst hash_1 = require(\"./hash\");\nconst TWO_POWER_32 = 2 ** 32;\n/**\n * An immutable binary merkle tree node\n */\nclass Node {\n    constructor(h0, h1, h2, h3, h4, h5, h6, h7) {\n        this.h0 = h0;\n        this.h1 = h1;\n        this.h2 = h2;\n        this.h3 = h3;\n        this.h4 = h4;\n        this.h5 = h5;\n        this.h6 = h6;\n        this.h7 = h7;\n    }\n    applyHash(root) {\n        this.h0 = root.h0;\n        this.h1 = root.h1;\n        this.h2 = root.h2;\n        this.h3 = root.h3;\n        this.h4 = root.h4;\n        this.h5 = root.h5;\n        this.h6 = root.h6;\n        this.h7 = root.h7;\n    }\n}\nexports.Node = Node;\n/**\n * An immutable binary merkle tree node that has a `left` and `right` child\n */\nclass BranchNode extends Node {\n    constructor(_left, _right) {\n        // First null value is to save an extra variable to check if a node has a root or not\n        super(null, 0, 0, 0, 0, 0, 0, 0);\n        this._left = _left;\n        this._right = _right;\n        if (!_left) {\n            throw new Error(\"Left node is undefined\");\n        }\n        if (!_right) {\n            throw new Error(\"Right node is undefined\");\n        }\n    }\n    get rootHashObject() {\n        if (this.h0 === null) {\n            super.applyHash(hash_1.hashTwoObjects(this.left.rootHashObject, this.right.rootHashObject));\n        }\n        return this;\n    }\n    get root() {\n        return hash_1.hashObjectToUint8Array(this.rootHashObject);\n    }\n    isLeaf() {\n        return false;\n    }\n    get left() {\n        return this._left;\n    }\n    get right() {\n        return this._right;\n    }\n}\nexports.BranchNode = BranchNode;\n/**\n * An immutable binary merkle tree node that has no children\n */\nclass LeafNode extends Node {\n    static fromRoot(root) {\n        return this.fromHashObject(hash_1.uint8ArrayToHashObject(root));\n    }\n    /**\n     * New LeafNode from existing HashObject.\n     */\n    static fromHashObject(ho) {\n        return new LeafNode(ho.h0, ho.h1, ho.h2, ho.h3, ho.h4, ho.h5, ho.h6, ho.h7);\n    }\n    /**\n     * New LeafNode with its internal value set to zero. Consider using `zeroNode(0)` if you don't need to mutate.\n     */\n    static fromZero() {\n        return new LeafNode(0, 0, 0, 0, 0, 0, 0, 0);\n    }\n    /**\n     * LeafNode with HashObject `(uint32, 0, 0, 0, 0, 0, 0, 0)`.\n     */\n    static fromUint32(uint32) {\n        return new LeafNode(uint32, 0, 0, 0, 0, 0, 0, 0);\n    }\n    /**\n     * Create a new LeafNode with the same internal values. The returned instance is safe to mutate\n     */\n    clone() {\n        return LeafNode.fromHashObject(this);\n    }\n    get rootHashObject() {\n        return this;\n    }\n    get root() {\n        return hash_1.hashObjectToUint8Array(this);\n    }\n    isLeaf() {\n        return true;\n    }\n    get left() {\n        throw Error(\"LeafNode has no left node\");\n    }\n    get right() {\n        throw Error(\"LeafNode has no right node\");\n    }\n    writeToBytes(data, start, size) {\n        // TODO: Optimize\n        data.set(this.root.slice(0, size), start);\n    }\n    getUint(uintBytes, offsetBytes, clipInfinity) {\n        const hIndex = Math.floor(offsetBytes / 4);\n        // number has to be masked from an h value\n        if (uintBytes < 4) {\n            const bitIndex = (offsetBytes % 4) * 8;\n            const h = getNodeH(this, hIndex);\n            if (uintBytes === 1) {\n                return 0xff & (h >> bitIndex);\n            }\n            else {\n                return 0xffff & (h >> bitIndex);\n            }\n        }\n        // number equals the h value\n        else if (uintBytes === 4) {\n            return getNodeH(this, hIndex) >>> 0;\n        }\n        // number spans 2 h values\n        else if (uintBytes === 8) {\n            const low = getNodeH(this, hIndex);\n            const high = getNodeH(this, hIndex + 1);\n            if (high === 0) {\n                return low >>> 0;\n            }\n            else if (high === -1 && low === -1 && clipInfinity) {\n                // Limit uint returns\n                return Infinity;\n            }\n            else {\n                return (low >>> 0) + (high >>> 0) * TWO_POWER_32;\n            }\n        }\n        // Bigger uint can't be represented\n        else {\n            throw Error(\"uintBytes > 8\");\n        }\n    }\n    getUintBigint(uintBytes, offsetBytes) {\n        const hIndex = Math.floor(offsetBytes / 4);\n        // number has to be masked from an h value\n        if (uintBytes < 4) {\n            const bitIndex = (offsetBytes % 4) * 8;\n            const h = getNodeH(this, hIndex);\n            if (uintBytes === 1) {\n                return BigInt(0xff & (h >> bitIndex));\n            }\n            else {\n                return BigInt(0xffff & (h >> bitIndex));\n            }\n        }\n        // number equals the h value\n        else if (uintBytes === 4) {\n            return BigInt(getNodeH(this, hIndex) >>> 0);\n        }\n        // number spans multiple h values\n        else {\n            const hRange = Math.ceil(uintBytes / 4);\n            let v = BigInt(0);\n            for (let i = 0; i < hRange; i++) {\n                v += BigInt(getNodeH(this, hIndex + i) >>> 0) << BigInt(32 * i);\n            }\n            return v;\n        }\n    }\n    setUint(uintBytes, offsetBytes, value, clipInfinity) {\n        const hIndex = Math.floor(offsetBytes / 4);\n        // number has to be masked from an h value\n        if (uintBytes < 4) {\n            const bitIndex = (offsetBytes % 4) * 8;\n            let h = getNodeH(this, hIndex);\n            if (uintBytes === 1) {\n                h &= ~(0xff << bitIndex);\n                h |= (0xff && value) << bitIndex;\n            }\n            else {\n                h &= ~(0xffff << bitIndex);\n                h |= (0xffff && value) << bitIndex;\n            }\n            setNodeH(this, hIndex, h);\n        }\n        // number equals the h value\n        else if (uintBytes === 4) {\n            setNodeH(this, hIndex, value);\n        }\n        // number spans 2 h values\n        else if (uintBytes === 8) {\n            if (value === Infinity && clipInfinity) {\n                setNodeH(this, hIndex, -1);\n                setNodeH(this, hIndex + 1, -1);\n            }\n            else {\n                setNodeH(this, hIndex, value & 0xffffffff);\n                setNodeH(this, hIndex + 1, (value / TWO_POWER_32) & 0xffffffff);\n            }\n        }\n        // Bigger uint can't be represented\n        else {\n            throw Error(\"uintBytes > 8\");\n        }\n    }\n    setUintBigint(uintBytes, offsetBytes, valueBN) {\n        const hIndex = Math.floor(offsetBytes / 4);\n        // number has to be masked from an h value\n        if (uintBytes < 4) {\n            const value = Number(valueBN);\n            const bitIndex = (offsetBytes % 4) * 8;\n            let h = getNodeH(this, hIndex);\n            if (uintBytes === 1) {\n                h &= ~(0xff << bitIndex);\n                h |= (0xff && value) << bitIndex;\n            }\n            else {\n                h &= ~(0xffff << bitIndex);\n                h |= (0xffff && value) << bitIndex;\n            }\n            setNodeH(this, hIndex, h);\n        }\n        // number equals the h value\n        else if (uintBytes === 4) {\n            setNodeH(this, hIndex, Number(valueBN));\n        }\n        // number spans multiple h values\n        else {\n            const hEnd = hIndex + Math.ceil(uintBytes / 4);\n            for (let i = hIndex; i < hEnd; i++) {\n                setNodeH(this, i, Number(valueBN & BigInt(0xffffffff)));\n                valueBN = valueBN >> BigInt(32);\n            }\n        }\n    }\n    bitwiseOrUint(uintBytes, offsetBytes, value) {\n        const hIndex = Math.floor(offsetBytes / 4);\n        // number has to be masked from an h value\n        if (uintBytes < 4) {\n            const bitIndex = (offsetBytes % 4) * 8;\n            bitwiseOrNodeH(this, hIndex, value << bitIndex);\n        }\n        // number equals the h value\n        else if (uintBytes === 4) {\n            bitwiseOrNodeH(this, hIndex, value);\n        }\n        // number spans multiple h values\n        else {\n            const hEnd = hIndex + Math.ceil(uintBytes / 4);\n            for (let i = hIndex; i < hEnd; i++) {\n                bitwiseOrNodeH(this, i, value & 0xffffffff);\n                value >>= 32;\n            }\n        }\n    }\n}\nexports.LeafNode = LeafNode;\nfunction identity(n) {\n    return n;\n}\nexports.identity = identity;\nfunction compose(inner, outer) {\n    return function (n) {\n        return outer(inner(n));\n    };\n}\nexports.compose = compose;\nfunction getNodeH(node, hIndex) {\n    if (hIndex === 0)\n        return node.h0;\n    else if (hIndex === 1)\n        return node.h1;\n    else if (hIndex === 2)\n        return node.h2;\n    else if (hIndex === 3)\n        return node.h3;\n    else if (hIndex === 4)\n        return node.h4;\n    else if (hIndex === 5)\n        return node.h5;\n    else if (hIndex === 6)\n        return node.h6;\n    else if (hIndex === 7)\n        return node.h7;\n    else\n        throw Error(\"hIndex > 7\");\n}\nexports.getNodeH = getNodeH;\nfunction setNodeH(node, hIndex, value) {\n    if (hIndex === 0)\n        node.h0 = value;\n    else if (hIndex === 1)\n        node.h1 = value;\n    else if (hIndex === 2)\n        node.h2 = value;\n    else if (hIndex === 3)\n        node.h3 = value;\n    else if (hIndex === 4)\n        node.h4 = value;\n    else if (hIndex === 5)\n        node.h5 = value;\n    else if (hIndex === 6)\n        node.h6 = value;\n    else if (hIndex === 7)\n        node.h7 = value;\n    else\n        throw Error(\"hIndex > 7\");\n}\nexports.setNodeH = setNodeH;\nfunction bitwiseOrNodeH(node, hIndex, value) {\n    if (hIndex === 0)\n        node.h0 |= value;\n    else if (hIndex === 1)\n        node.h1 |= value;\n    else if (hIndex === 2)\n        node.h2 |= value;\n    else if (hIndex === 3)\n        node.h3 |= value;\n    else if (hIndex === 4)\n        node.h4 |= value;\n    else if (hIndex === 5)\n        node.h5 |= value;\n    else if (hIndex === 6)\n        node.h6 |= value;\n    else if (hIndex === 7)\n        node.h7 |= value;\n    else\n        throw Error(\"hIndex > 7\");\n}\nexports.bitwiseOrNodeH = bitwiseOrNodeH;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.zeroNode = void 0;\nconst node_1 = require(\"./node\");\nconst zeroes = [node_1.LeafNode.fromZero()];\n/**\n * Return the `Node` at a specified height from the merkle tree made of \"zero data\"\n * ```\n *           ...\n *          /\n *         x           <- height 2\n *      /     \\\n *     x       x       <- height 1\n *   /  \\      /  \\\n * 0x0  0x0  0x0  0x0  <- height 0\n * ```\n */\nfunction zeroNode(height) {\n    if (height >= zeroes.length) {\n        for (let i = zeroes.length; i <= height; i++) {\n            zeroes[i] = new node_1.BranchNode(zeroes[i - 1], zeroes[i - 1]);\n        }\n    }\n    return zeroes[height];\n}\nexports.zeroNode = zeroNode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subtreeFillToContents = exports.subtreeFillToLength = exports.subtreeFillToDepth = void 0;\nconst node_1 = require(\"./node\");\nconst zeroNode_1 = require(\"./zeroNode\");\nfunction subtreeFillToDepth(bottom, depth) {\n    let node = bottom;\n    while (depth > 0) {\n        node = new node_1.BranchNode(node, node);\n        depth--;\n    }\n    return node;\n}\nexports.subtreeFillToDepth = subtreeFillToDepth;\nfunction subtreeFillToLength(bottom, depth, length) {\n    const maxLength = 1 << depth;\n    if (length > maxLength)\n        throw new Error(\"ERR_TOO_MANY_NODES\");\n    if (length === maxLength)\n        return subtreeFillToDepth(bottom, depth);\n    if (depth === 0) {\n        if (length === 1)\n            return bottom;\n        else\n            throw new Error(\"ERR_NAVIGATION\");\n    }\n    if (depth === 1) {\n        return new node_1.BranchNode(bottom, length > 1 ? bottom : zeroNode_1.zeroNode(0));\n    }\n    const pivot = maxLength >> 1;\n    if (length <= pivot) {\n        return new node_1.BranchNode(subtreeFillToLength(bottom, depth - 1, length), zeroNode_1.zeroNode(depth - 1));\n    }\n    else {\n        return new node_1.BranchNode(subtreeFillToDepth(bottom, depth - 1), subtreeFillToLength(bottom, depth - 1, length - pivot));\n    }\n}\nexports.subtreeFillToLength = subtreeFillToLength;\n/**\n * WARNING: Mutates the provided nodes array.\n * TODO: Don't mutate the nodes array.\n */\nfunction subtreeFillToContents(nodes, depth) {\n    const maxLength = 2 ** depth;\n    if (nodes.length > maxLength) {\n        throw new Error(`nodes.length ${nodes.length} over maxIndex at depth ${depth}`);\n    }\n    if (nodes.length === 0) {\n        return zeroNode_1.zeroNode(depth);\n    }\n    if (depth === 0) {\n        return nodes[0];\n    }\n    if (depth === 1) {\n        return nodes.length > 1\n            ? // All nodes at depth 1 available\n                new node_1.BranchNode(nodes[0], nodes[1])\n            : // Pad with zero node\n                new node_1.BranchNode(nodes[0], zeroNode_1.zeroNode(0));\n    }\n    let count = nodes.length;\n    for (let d = depth; d > 0; d--) {\n        const countRemainder = count % 2;\n        const countEven = count - countRemainder;\n        // For each depth level compute the new BranchNodes and overwrite the nodes array\n        for (let i = 0; i < countEven; i += 2) {\n            nodes[i / 2] = new node_1.BranchNode(nodes[i], nodes[i + 1]);\n        }\n        if (countRemainder > 0) {\n            nodes[countEven / 2] = new node_1.BranchNode(nodes[countEven], zeroNode_1.zeroNode(depth - d));\n        }\n        // If there was remainer, 2 nodes are added to the count\n        count = countEven / 2 + countRemainder;\n    }\n    return nodes[0];\n}\nexports.subtreeFillToContents = subtreeFillToContents;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.packedNodeRootsToBytes = exports.packedRootsBytesToLeafNodes = exports.packedRootsBytesToNode = void 0;\nconst subtree_1 = require(\"./subtree\");\nconst node_1 = require(\"./node\");\nfunction packedRootsBytesToNode(depth, dataView, start, end) {\n    const leafNodes = packedRootsBytesToLeafNodes(dataView, start, end);\n    return subtree_1.subtreeFillToContents(leafNodes, depth);\n}\nexports.packedRootsBytesToNode = packedRootsBytesToNode;\n/**\n * Optimized deserialization of linear bytes to consecutive leaf nodes\n */\nfunction packedRootsBytesToLeafNodes(dataView, start, end) {\n    const size = end - start;\n    // If the offset in data is not a multiple of 4, Uint32Array can't be used\n    // > start offset of Uint32Array should be a multiple of 4\n    // NOTE: Performance tests show that using a DataView is as fast as Uint32Array\n    const fullNodeCount = Math.floor(size / 32);\n    const leafNodes = new Array(Math.ceil(size / 32));\n    // Efficiently construct the tree writing to hashObjects directly\n    // TODO: Optimize, with this approach each h property is written twice\n    for (let i = 0; i < fullNodeCount; i++) {\n        const offset = start + i * 32;\n        leafNodes[i] = new node_1.LeafNode(dataView.getInt32(offset + 0, true), dataView.getInt32(offset + 4, true), dataView.getInt32(offset + 8, true), dataView.getInt32(offset + 12, true), dataView.getInt32(offset + 16, true), dataView.getInt32(offset + 20, true), dataView.getInt32(offset + 24, true), dataView.getInt32(offset + 28, true));\n    }\n    // Consider that the last node may only include partial data\n    const remainderBytes = size % 32;\n    // Last node\n    if (remainderBytes > 0) {\n        const node = new node_1.LeafNode(0, 0, 0, 0, 0, 0, 0, 0);\n        leafNodes[fullNodeCount] = node;\n        // Loop to dynamically copy the full h values\n        const fullHCount = Math.floor(remainderBytes / 4);\n        for (let h = 0; h < fullHCount; h++) {\n            node_1.setNodeH(node, h, dataView.getInt32(start + fullNodeCount * 32 + h * 4, true));\n        }\n        const remainderUint32 = size % 4;\n        if (remainderUint32 > 0) {\n            let h = 0;\n            for (let i = 0; i < remainderUint32; i++) {\n                h |= dataView.getUint8(start + size - remainderUint32 + i) << (i * 8);\n            }\n            node_1.setNodeH(node, fullHCount, h);\n        }\n    }\n    return leafNodes;\n}\nexports.packedRootsBytesToLeafNodes = packedRootsBytesToLeafNodes;\n/**\n * Optimized serialization of consecutive leave nodes to linear bytes\n */\nfunction packedNodeRootsToBytes(dataView, start, size, nodes) {\n    // If the offset in data is not a multiple of 4, Uint32Array can't be used\n    // > start offset of Uint32Array should be a multiple of 4\n    // NOTE: Performance tests show that using a DataView is as fast as Uint32Array\n    // Consider that the last node may only include partial data\n    const remainderBytes = size % 32;\n    // Full nodes\n    // Efficiently get hashObjects data into data\n    const fullNodeCount = Math.floor(size / 32);\n    for (let i = 0; i < fullNodeCount; i++) {\n        const node = nodes[i];\n        const offset = start + i * 32;\n        dataView.setInt32(offset + 0, node.h0, true);\n        dataView.setInt32(offset + 4, node.h1, true);\n        dataView.setInt32(offset + 8, node.h2, true);\n        dataView.setInt32(offset + 12, node.h3, true);\n        dataView.setInt32(offset + 16, node.h4, true);\n        dataView.setInt32(offset + 20, node.h5, true);\n        dataView.setInt32(offset + 24, node.h6, true);\n        dataView.setInt32(offset + 28, node.h7, true);\n    }\n    // Last node\n    if (remainderBytes > 0) {\n        const node = nodes[fullNodeCount];\n        // Loop to dynamically copy the full h values\n        const fullHCount = Math.floor(remainderBytes / 4);\n        for (let h = 0; h < fullHCount; h++) {\n            dataView.setInt32(start + fullNodeCount * 32 + h * 4, node_1.getNodeH(node, h), true);\n        }\n        const remainderUint32 = size % 4;\n        if (remainderUint32 > 0) {\n            const h = node_1.getNodeH(node, fullHCount);\n            for (let i = 0; i < remainderUint32; i++) {\n                dataView.setUint8(start + size - remainderUint32 + i, (h >> (i * 8)) & 0xff);\n            }\n        }\n    }\n}\nexports.packedNodeRootsToBytes = packedNodeRootsToBytes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeFromSingleProof = exports.createSingleProof = exports.ERR_INVALID_NAV = void 0;\nconst node_1 = require(\"../node\");\nconst gindex_1 = require(\"../gindex\");\nexports.ERR_INVALID_NAV = \"Invalid tree navigation\";\nfunction createSingleProof(rootNode, index) {\n    const witnesses = [];\n    let node = rootNode;\n    for (const i of gindex_1.gindexIterator(index)) {\n        if (i) {\n            if (node.isLeaf())\n                throw new Error(exports.ERR_INVALID_NAV);\n            witnesses.push(node.left.root);\n            node = node.right;\n        }\n        else {\n            if (node.isLeaf())\n                throw new Error(exports.ERR_INVALID_NAV);\n            witnesses.push(node.right.root);\n            node = node.left;\n        }\n    }\n    return [node.root, witnesses.reverse()];\n}\nexports.createSingleProof = createSingleProof;\nfunction createNodeFromSingleProof(gindex, leaf, witnesses) {\n    let node = node_1.LeafNode.fromRoot(leaf);\n    const w = witnesses.slice().reverse();\n    while (gindex > 1) {\n        const sibling = node_1.LeafNode.fromRoot(w.pop());\n        if (gindex % BigInt(2) === BigInt(0)) {\n            node = new node_1.BranchNode(node, sibling);\n        }\n        else {\n            node = new node_1.BranchNode(sibling, node);\n        }\n        gindex = gindex / BigInt(2);\n    }\n    return node;\n}\nexports.createNodeFromSingleProof = createNodeFromSingleProof;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.treeZeroAfterIndex = exports.iterateNodesAtDepth = exports.getNodesAtDepth = exports.setNodesAtDepth = exports.setNodeAtDepth = exports.getNodeAtDepth = exports.setNodeWithFn = exports.setNode = exports.getNode = exports.Tree = void 0;\nconst zeroNode_1 = require(\"./zeroNode\");\nconst gindex_1 = require(\"./gindex\");\nconst node_1 = require(\"./node\");\nconst proof_1 = require(\"./proof\");\nconst single_1 = require(\"./proof/single\");\n/**\n * Binary merkle tree\n *\n * Wrapper around immutable `Node` to support mutability.\n *\n * Mutability between a parent tree and subtree is achieved by maintaining a `hook` callback, which updates the parent when the subtree is updated.\n */\nclass Tree {\n    constructor(node, hook) {\n        this._rootNode = node;\n        if (hook) {\n            if (typeof WeakRef === \"undefined\") {\n                this.hook = hook;\n            }\n            else {\n                this.hook = new WeakRef(hook);\n            }\n        }\n    }\n    /**\n     * Create a `Tree` from a `Proof` object\n     */\n    static createFromProof(proof) {\n        return new Tree(proof_1.createNodeFromProof(proof));\n    }\n    /**\n     * The root node of the tree\n     */\n    get rootNode() {\n        return this._rootNode;\n    }\n    /**\n     *\n     * Setting the root node will trigger a call to the tree's `hook` if it exists.\n     */\n    set rootNode(newRootNode) {\n        this._rootNode = newRootNode;\n        if (this.hook) {\n            // WeakRef should not change status during a program's execution\n            // So, use WeakRef feature detection to assume the type of this.hook\n            // to minimize the memory footprint of Tree\n            if (typeof WeakRef === \"undefined\") {\n                this.hook(newRootNode);\n            }\n            else {\n                const hookVar = this.hook.deref();\n                if (hookVar) {\n                    hookVar(newRootNode);\n                }\n                else {\n                    // Hook has been garbage collected, no need to keep the hookRef\n                    this.hook = undefined;\n                }\n            }\n        }\n    }\n    /**\n     * The root hash of the tree\n     */\n    get root() {\n        return this.rootNode.root;\n    }\n    /**\n     * Return a copy of the tree\n     */\n    clone() {\n        return new Tree(this.rootNode);\n    }\n    /**\n     * Return the subtree at the specified gindex.\n     *\n     * Note: The returned subtree will have a `hook` attached to the parent tree.\n     * Updates to the subtree will result in updates to the parent.\n     */\n    getSubtree(index) {\n        return new Tree(this.getNode(index), (node) => this.setNode(index, node));\n    }\n    /**\n     * Return the node at the specified gindex.\n     */\n    getNode(gindex) {\n        return getNode(this.rootNode, gindex);\n    }\n    /**\n     * Return the node at the specified depth and index.\n     *\n     * Supports index up to `Number.MAX_SAFE_INTEGER`.\n     */\n    getNodeAtDepth(depth, index) {\n        return getNodeAtDepth(this.rootNode, depth, index);\n    }\n    /**\n     * Return the hash at the specified gindex.\n     */\n    getRoot(index) {\n        return this.getNode(index).root;\n    }\n    /**\n     * Set the node at at the specified gindex.\n     */\n    setNode(gindex, n) {\n        this.rootNode = setNode(this.rootNode, gindex, n);\n    }\n    /**\n     * Traverse to the node at the specified gindex,\n     * then apply the function to get a new node and set the node at the specified gindex with the result.\n     *\n     * This is a convenient method to avoid traversing the tree 2 times to\n     * get and set.\n     */\n    setNodeWithFn(gindex, getNewNode) {\n        this.rootNode = setNodeWithFn(this.rootNode, gindex, getNewNode);\n    }\n    /**\n     * Set the node at the specified depth and index.\n     *\n     * Supports index up to `Number.MAX_SAFE_INTEGER`.\n     */\n    setNodeAtDepth(depth, index, node) {\n        this.rootNode = setNodeAtDepth(this.rootNode, depth, index, node);\n    }\n    /**\n     * Set the hash at the specified gindex.\n     *\n     * Note: This will set a new `LeafNode` at the specified gindex.\n     */\n    setRoot(index, root) {\n        this.setNode(index, node_1.LeafNode.fromRoot(root));\n    }\n    /**\n     * Fast read-only iteration\n     * In-order traversal of nodes at `depth`\n     * starting from the `startIndex`-indexed node\n     * iterating through `count` nodes\n     *\n     * Supports index up to `Number.MAX_SAFE_INTEGER`.\n     */\n    getNodesAtDepth(depth, startIndex, count) {\n        return getNodesAtDepth(this.rootNode, depth, startIndex, count);\n    }\n    /**\n     * Fast read-only iteration\n     * In-order traversal of nodes at `depth`\n     * starting from the `startIndex`-indexed node\n     * iterating through `count` nodes\n     *\n     * Supports index up to `Number.MAX_SAFE_INTEGER`.\n     */\n    iterateNodesAtDepth(depth, startIndex, count) {\n        return iterateNodesAtDepth(this.rootNode, depth, startIndex, count);\n    }\n    /**\n     * Return a merkle proof for the node at the specified gindex.\n     */\n    getSingleProof(index) {\n        return single_1.createSingleProof(this.rootNode, index)[1];\n    }\n    /**\n     * Return a merkle proof for the proof input.\n     *\n     * This method can be used to create multiproofs.\n     */\n    getProof(input) {\n        return proof_1.createProof(this.rootNode, input);\n    }\n}\nexports.Tree = Tree;\n/**\n * Return the node at the specified gindex.\n */\nfunction getNode(rootNode, gindex) {\n    const gindexBitstring = gindex_1.convertGindexToBitstring(gindex);\n    let node = rootNode;\n    for (let i = 1; i < gindexBitstring.length; i++) {\n        if (node.isLeaf()) {\n            throw new Error(`Invalid tree - found leaf at depth ${i}`);\n        }\n        // If bit is set, means navigate right\n        node = gindexBitstring[i] === \"1\" ? node.right : node.left;\n    }\n    return node;\n}\nexports.getNode = getNode;\n/**\n * Set the node at at the specified gindex.\n * Returns the new root node.\n */\nfunction setNode(rootNode, gindex, n) {\n    // Pre-compute entire bitstring instead of using an iterator (25% faster)\n    const gindexBitstring = gindex_1.convertGindexToBitstring(gindex);\n    const parentNodes = getParentNodes(rootNode, gindexBitstring);\n    return rebindNodeToRoot(gindexBitstring, parentNodes, n);\n}\nexports.setNode = setNode;\n/**\n * Traverse to the node at the specified gindex,\n * then apply the function to get a new node and set the node at the specified gindex with the result.\n *\n * This is a convenient method to avoid traversing the tree 2 times to\n * get and set.\n *\n * Returns the new root node.\n */\nfunction setNodeWithFn(rootNode, gindex, getNewNode) {\n    // Pre-compute entire bitstring instead of using an iterator (25% faster)\n    const gindexBitstring = gindex_1.convertGindexToBitstring(gindex);\n    const parentNodes = getParentNodes(rootNode, gindexBitstring);\n    const lastParentNode = parentNodes[parentNodes.length - 1];\n    const lastBit = gindexBitstring[gindexBitstring.length - 1];\n    const oldNode = lastBit === \"1\" ? lastParentNode.right : lastParentNode.left;\n    const newNode = getNewNode(oldNode);\n    return rebindNodeToRoot(gindexBitstring, parentNodes, newNode);\n}\nexports.setNodeWithFn = setNodeWithFn;\n/**\n * Traverse the tree from root node, ignore the last bit to get all parent nodes\n * of the specified bitstring.\n */\nfunction getParentNodes(rootNode, bitstring) {\n    let node = rootNode;\n    // Keep a list of all parent nodes of node at gindex `index`. Then walk the list\n    // backwards to rebind them \"recursively\" with the new nodes without using functions\n    const parentNodes = [rootNode];\n    // Ignore the first bit, left right directions are at bits [1,..]\n    // Ignore the last bit, no need to push the target node to the parentNodes array\n    for (let i = 1; i < bitstring.length - 1; i++) {\n        // Compare to string directly to prevent unnecessary type conversions\n        if (bitstring[i] === \"1\") {\n            node = node.right;\n        }\n        else {\n            node = node.left;\n        }\n        parentNodes.push(node);\n    }\n    return parentNodes;\n}\n/**\n * Build a new tree structure from bitstring, parentNodes and a new node.\n * Returns the new root node.\n */\nfunction rebindNodeToRoot(bitstring, parentNodes, newNode) {\n    let node = newNode;\n    // Ignore the first bit, left right directions are at bits [1,..]\n    // Iterate the list backwards including the last bit, but offset the parentNodes array\n    // by one since the first bit in bitstring was ignored in the previous loop\n    for (let i = bitstring.length - 1; i >= 1; i--) {\n        if (bitstring[i] === \"1\") {\n            node = new node_1.BranchNode(parentNodes[i - 1].left, node);\n        }\n        else {\n            node = new node_1.BranchNode(node, parentNodes[i - 1].right);\n        }\n    }\n    return node;\n}\n/**\n * Supports index up to `Number.MAX_SAFE_INTEGER`.\n */\nfunction getNodeAtDepth(rootNode, depth, index) {\n    if (depth === 0) {\n        return rootNode;\n    }\n    if (depth === 1) {\n        return index === 0 ? rootNode.left : rootNode.right;\n    }\n    // Ignore first bit \"1\", then substract 1 to get to the parent\n    const depthiRoot = depth - 1;\n    const depthiParent = 0;\n    let node = rootNode;\n    for (let d = depthiRoot; d >= depthiParent; d--) {\n        node = isLeftNode(d, index) ? node.left : node.right;\n    }\n    return node;\n}\nexports.getNodeAtDepth = getNodeAtDepth;\n/**\n * Supports index up to `Number.MAX_SAFE_INTEGER`.\n */\nfunction setNodeAtDepth(rootNode, nodesDepth, index, nodeChanged) {\n    // TODO: OPTIMIZE (if necessary)\n    return setNodesAtDepth(rootNode, nodesDepth, [index], [nodeChanged]);\n}\nexports.setNodeAtDepth = setNodeAtDepth;\n/**\n * Set multiple nodes in batch, editing and traversing nodes strictly once.\n *\n * - gindexes MUST be sorted in ascending order beforehand.\n * - All gindexes must be at the exact same depth.\n * - Depth must be > 0, if 0 just replace the root node.\n *\n * Strategy: for each gindex in `gindexes` navigate to the depth of its parent,\n * and create a new parent. Then calculate the closest common depth with the next\n * gindex and navigate upwards creating or caching nodes as necessary. Loop and repeat.\n *\n * Supports index up to `Number.MAX_SAFE_INTEGER`.\n */\nfunction setNodesAtDepth(rootNode, nodesDepth, indexes, nodes) {\n    // depth depthi   gindexes   indexes\n    // 0     1           1          0\n    // 1     0         2   3      0   1\n    // 2     -        4 5 6 7    0 1 2 3\n    // '10' means, at depth 1, node is at the left\n    //\n    // For index N check if the bit at position depthi is set to navigate right at depthi\n    // ```\n    // mask = 1 << depthi\n    // goRight = (N & mask) == mask\n    // ```\n    // If depth is 0 there's only one node max and the optimization below will cause a navigation error.\n    // For this case, check if there's a new root node and return it, otherwise the current rootNode.\n    if (nodesDepth === 0) {\n        return nodes.length > 0 ? nodes[0] : rootNode;\n    }\n    /**\n     * Contiguous filled stack of parent nodes. It get filled in the first descent\n     * Indexed by depthi\n     */\n    const parentNodeStack = new Array(nodesDepth);\n    /**\n     * Temp stack of left parent nodes, index by depthi.\n     * Node leftParentNodeStack[depthi] is a node at d = depthi - 1, such that:\n     * ```\n     * parentNodeStack[depthi].left = leftParentNodeStack[depthi]\n     * ```\n     */\n    const leftParentNodeStack = new Array(nodesDepth);\n    // Ignore first bit \"1\", then substract 1 to get to the parent\n    const depthiRoot = nodesDepth - 1;\n    const depthiParent = 0;\n    let depthi = depthiRoot;\n    let node = rootNode;\n    // Insert root node to make the loop below general\n    parentNodeStack[depthiRoot] = rootNode;\n    // TODO: Iterate to depth 32 to allow using bit ops\n    // for (; depthi >= 32; depthi--) {\n    //   node = node.left;\n    // }\n    for (let i = 0; i < indexes.length; i++) {\n        const index = indexes[i];\n        // Navigate down until parent depth, and store the chain of nodes\n        //\n        // Starts from latest common depth, so node is the parent node at `depthi`\n        // When persisting the next node, store at the `d - 1` since its the child of node at `depthi`\n        //\n        // Stops at the level above depthiParent. For the re-binding routing below node must be at depthiParent\n        for (let d = depthi; d > depthiParent; d--) {\n            node = isLeftNode(d, index) ? node.left : node.right;\n            parentNodeStack[d - 1] = node;\n        }\n        depthi = depthiParent;\n        // If this is the left node, check first it the next node is on the right\n        //\n        //   -    If both nodes exist, create new\n        //  / \\\n        // x   x\n        //\n        //   -    If only the left node exists, rebind left\n        //  / \\\n        // x   -\n        //\n        //   -    If this is the right node, only the right node exists, rebind right\n        //  / \\\n        // -   x\n        // d = 0, mask = 1 << d = 1\n        const isLeftLeafNode = (index & 1) !== 1;\n        if (isLeftLeafNode) {\n            // Next node is the very next to the right of current node\n            if (index + 1 === indexes[i + 1]) {\n                node = new node_1.BranchNode(nodes[i], nodes[i + 1]);\n                // Move pointer one extra forward since node has consumed two nodes\n                i++;\n            }\n            else {\n                node = new node_1.BranchNode(nodes[i], node.right);\n            }\n        }\n        else {\n            node = new node_1.BranchNode(node.left, nodes[i]);\n        }\n        // Here `node` is the new BranchNode at depthi `depthiParent`\n        // Now climb upwards until finding the common node with the next index\n        // For the last iteration, climb to the root at `depthiRoot`\n        const isLastIndex = i >= indexes.length - 1;\n        const diffDepthi = isLastIndex ? depthiRoot : findDiffDepthi(index, indexes[i + 1]);\n        // When climbing up from a left node there are two possible paths\n        // 1. Go to the right of the parent: Store left node to rebind latter\n        // 2. Go another level up: Will never visit the left node again, so must rebind now\n        //  \\     Rebind left only, will never visit this node again\n        //  /\\\n        //\n        //    /   Rebind left only (same as above)\n        //  /\\\n        //\n        //  /\\   Store left node to rebind the entire node when returning\n        //\n        //  \\     Rebind right with left if exists, will never visit this node again\n        //   /\\ \n        //\n        //    /   Rebind right with left if exists (same as above)\n        //   /\\ \n        for (let d = depthiParent + 1; d <= diffDepthi; d++) {\n            // If node is on the left, store for latter\n            // If node is on the right merge with stored left node\n            if (isLeftNode(d, index)) {\n                if (isLastIndex || d !== diffDepthi) {\n                    // If it's last index, bind with parent since it won't navigate to the right anymore\n                    // Also, if still has to move upwards, rebind since the node won't be visited anymore\n                    node = new node_1.BranchNode(node, parentNodeStack[d].right);\n                }\n                else {\n                    // Only store the left node if it's at d = diffDepth\n                    leftParentNodeStack[d] = node;\n                    node = parentNodeStack[d];\n                }\n            }\n            else {\n                const leftNode = leftParentNodeStack[d];\n                if (leftNode !== undefined) {\n                    node = new node_1.BranchNode(leftNode, node);\n                    leftParentNodeStack[d] = undefined;\n                }\n                else {\n                    node = new node_1.BranchNode(parentNodeStack[d].left, node);\n                }\n            }\n        }\n        // Prepare next loop\n        // Go to the parent of the depth with diff, to switch branches to the right\n        depthi = diffDepthi;\n    }\n    // Done, return new root node\n    return node;\n}\nexports.setNodesAtDepth = setNodesAtDepth;\n/**\n * Fast read-only iteration\n * In-order traversal of nodes at `depth`\n * starting from the `startIndex`-indexed node\n * iterating through `count` nodes\n *\n * **Strategy**\n * 1. Navigate down to parentDepth storing a stack of parents\n * 2. At target level push current node\n * 3. Go up to the first level that navigated left\n * 4. Repeat (1) for next index\n */\nfunction getNodesAtDepth(rootNode, depth, startIndex, count) {\n    // Optimized paths for short trees (x20 times faster)\n    if (depth === 0) {\n        return startIndex === 0 && count > 0 ? [rootNode] : [];\n    }\n    else if (depth === 1) {\n        if (count === 0) {\n            return [];\n        }\n        else if (count === 1) {\n            return startIndex === 0 ? [rootNode.left] : [rootNode.right];\n        }\n        else {\n            return [rootNode.left, rootNode.right];\n        }\n    }\n    // Ignore first bit \"1\", then substract 1 to get to the parent\n    const depthiRoot = depth - 1;\n    const depthiParent = 0;\n    let depthi = depthiRoot;\n    let node = rootNode;\n    // Contiguous filled stack of parent nodes. It get filled in the first descent\n    // Indexed by depthi\n    const parentNodeStack = new Array(depth);\n    const isLeftStack = new Array(depth);\n    const nodes = new Array(count);\n    // Insert root node to make the loop below general\n    parentNodeStack[depthiRoot] = rootNode;\n    for (let i = 0; i < count; i++) {\n        for (let d = depthi; d >= depthiParent; d--) {\n            if (d !== depthi) {\n                parentNodeStack[d] = node;\n            }\n            const isLeft = isLeftNode(d, startIndex + i);\n            isLeftStack[d] = isLeft;\n            node = isLeft ? node.left : node.right;\n        }\n        nodes[i] = node;\n        // Find the first depth where navigation when left.\n        // Store that height and go right from there\n        for (let d = depthiParent; d <= depthiRoot; d++) {\n            if (isLeftStack[d] === true) {\n                depthi = d;\n                break;\n            }\n        }\n        node = parentNodeStack[depthi];\n    }\n    return nodes;\n}\nexports.getNodesAtDepth = getNodesAtDepth;\n/**\n * @see getNodesAtDepth but instead of pushing to an array, it yields\n */\nfunction* iterateNodesAtDepth(rootNode, depth, startIndex, count) {\n    const endIndex = startIndex + count;\n    // Ignore first bit \"1\", then substract 1 to get to the parent\n    const depthiRoot = depth - 1;\n    const depthiParent = 0;\n    let depthi = depthiRoot;\n    let node = rootNode;\n    // Contiguous filled stack of parent nodes. It get filled in the first descent\n    // Indexed by depthi\n    const parentNodeStack = new Array(depth);\n    const isLeftStack = new Array(depth);\n    // Insert root node to make the loop below general\n    parentNodeStack[depthiRoot] = rootNode;\n    for (let index = startIndex; index < endIndex; index++) {\n        for (let d = depthi; d >= depthiParent; d--) {\n            if (d !== depthi) {\n                parentNodeStack[d] = node;\n            }\n            const isLeft = isLeftNode(d, index);\n            isLeftStack[d] = isLeft;\n            node = isLeft ? node.left : node.right;\n        }\n        yield node;\n        // Find the first depth where navigation when left.\n        // Store that height and go right from there\n        for (let d = depthiParent; d <= depthiRoot; d++) {\n            if (isLeftStack[d] === true) {\n                depthi = d;\n                break;\n            }\n        }\n        node = parentNodeStack[depthi];\n    }\n}\nexports.iterateNodesAtDepth = iterateNodesAtDepth;\n/**\n * Zero's all nodes right of index with constant depth of `nodesDepth`.\n *\n * For example, zero-ing this tree at depth 2 after index 0\n * ```\n *    X              X\n *  X   X    ->    X   0\n * X X X X        X 0 0 0\n * ```\n *\n * Or, zero-ing this tree at depth 3 after index 2\n * ```\n *        X                     X\n *    X       X             X       0\n *  X   X   X   X    ->   X   X   0   0\n * X X X X X X X X       X X X 0 0 0 0 0\n * ```\n *\n * The strategy is to first navigate down to `nodesDepth` and `index` and keep a stack of parents.\n * Then navigate up re-binding:\n * - If navigated to the left rebind with zeroNode()\n * - If navigated to the right rebind with parent.left from the stack\n */\nfunction treeZeroAfterIndex(rootNode, nodesDepth, index) {\n    // depth depthi   gindexes   indexes\n    // 0     1           1          0\n    // 1     0         2   3      0   1\n    // 2     -        4 5 6 7    0 1 2 3\n    // '10' means, at depth 1, node is at the left\n    //\n    // For index N check if the bit at position depthi is set to navigate right at depthi\n    // ```\n    // mask = 1 << depthi\n    // goRight = (N & mask) == mask\n    // ```\n    // Degenerate case where tree is zero after a negative index (-1).\n    // All positive indexes are zero, so the entire tree is zero. Return cached zero node as root.\n    if (index < 0) {\n        return zeroNode_1.zeroNode(nodesDepth);\n    }\n    /**\n     * Contiguous filled stack of parent nodes. It get filled in the first descent\n     * Indexed by depthi\n     */\n    const parentNodeStack = new Array(nodesDepth);\n    // Ignore first bit \"1\", then substract 1 to get to the parent\n    const depthiRoot = nodesDepth - 1;\n    const depthiParent = 0;\n    let depthi = depthiRoot;\n    let node = rootNode;\n    // Insert root node to make the loop below general\n    parentNodeStack[depthiRoot] = rootNode;\n    // Navigate down until parent depth, and store the chain of nodes\n    //\n    // Stops at the depthiParent level. To rebind below down to `nodesDepth`\n    for (let d = depthi; d >= depthiParent; d--) {\n        node = isLeftNode(d, index) ? node.left : node.right;\n        parentNodeStack[d - 1] = node;\n    }\n    depthi = depthiParent;\n    // Now climb up re-binding with either zero of existing tree.\n    for (let d = depthiParent; d <= depthiRoot; d++) {\n        if (isLeftNode(d, index)) {\n            // If navigated to the left, then all the child nodes of the right node are NOT part of the new tree.\n            // So re-bind new `node` with a zeroNode at the current depth.\n            node = new node_1.BranchNode(node, zeroNode_1.zeroNode(d));\n        }\n        else {\n            // If navigated to the right, then all the child nodes of the left node are part of the new tree.\n            // So re-bind new `node` with the existing left node of the parent.\n            node = new node_1.BranchNode(parentNodeStack[d].left, node);\n        }\n    }\n    // Done, return new root node\n    return node;\n}\nexports.treeZeroAfterIndex = treeZeroAfterIndex;\n/**\n * Returns true if the `index` at `depth` is a left node, false if it is a right node.\n *\n * Supports index up to `Number.MAX_SAFE_INTEGER`.\n * In Eth2 case the biggest tree's index is 2**40 (VALIDATOR_REGISTRY_LIMIT)\n */\nfunction isLeftNode(depthi, index) {\n    if (depthi > 31) {\n        // Javascript can only do bitwise ops with 32 bit numbers.\n        // Shifting left 1 by 32 wraps around and becomes 1.\n        // Get the high part of `index` and adjust depthi\n        const indexHi = (index / 2 ** 32) >>> 0;\n        const mask = 1 << (depthi - 32);\n        return (indexHi & mask) !== mask;\n    }\n    const mask = 1 << depthi;\n    return (index & mask) !== mask;\n}\n/**\n * depth depthi   gindexes   indexes\n * 0     1           1          0\n * 1     0         2   3      0   1\n * 2     -        4 5 6 7    0 1 2 3\n *\n * **Conditions**:\n * - `from` and `to` must not be equal\n *\n * @param from Index\n * @param to Index\n */\nfunction findDiffDepthi(from, to) {\n    return (\n    // (0,0) -> 0 | (0,1) -> 1 | (0,2) -> 2\n    Math.ceil(Math.log2(-~(from ^ to))) -\n        // Must offset by one to match the depthi scale\n        1);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.computeMultiProofBitstrings = exports.SortOrder = exports.filterParentBitstrings = exports.sortDecreasingBitstrings = exports.sortInOrderBitstrings = exports.computeProofBitstrings = exports.computeProofGindices = void 0;\nconst gindex_1 = require(\"../gindex\");\n// Not currently in use, but simpler implementation useful for testing\n/**\n * Compute both the path and branch indices\n *\n * Path indices are parent indices upwards toward the root\n * Branch indices are witnesses required for a merkle proof\n */\nfunction computeProofGindices(gindex) {\n    const path = new Set();\n    const branch = new Set();\n    let g = gindex;\n    while (g > 1) {\n        path.add(g);\n        branch.add(gindex_1.gindexSibling(g));\n        g = gindex_1.gindexParent(g);\n    }\n    return { path, branch };\n}\nexports.computeProofGindices = computeProofGindices;\n/**\n * Compute both the path and branch indices\n *\n * Path indices are parent indices upwards toward the root\n * Branch indices are witnesses required for a merkle proof\n */\nfunction computeProofBitstrings(gindex) {\n    const path = new Set();\n    const branch = new Set();\n    let g = gindex;\n    while (g.length > 1) {\n        path.add(g);\n        const lastBit = g[g.length - 1];\n        const parent = g.substring(0, g.length - 1);\n        branch.add(parent + (Number(lastBit) ^ 1));\n        g = parent;\n    }\n    return { path, branch };\n}\nexports.computeProofBitstrings = computeProofBitstrings;\n/**\n * Sort generalized indices in-order\n * @param bitLength maximum bit length of generalized indices to sort\n */\nfunction sortInOrderBitstrings(gindices, bitLength) {\n    if (!gindices.length) {\n        return [];\n    }\n    return gindices\n        .map((g) => g.padEnd(bitLength))\n        .sort()\n        .map((g) => g.trim());\n}\nexports.sortInOrderBitstrings = sortInOrderBitstrings;\n/**\n * Sort generalized indices in decreasing order\n */\nfunction sortDecreasingBitstrings(gindices) {\n    if (!gindices.length) {\n        return [];\n    }\n    return gindices.sort((a, b) => {\n        if (a.length < b.length) {\n            return 1;\n        }\n        else if (b.length < a.length) {\n            return -1;\n        }\n        let aPos0 = a.indexOf(\"0\");\n        let bPos0 = b.indexOf(\"0\");\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            if (aPos0 === -1) {\n                return -1;\n            }\n            else if (bPos0 === -1) {\n                return 1;\n            }\n            if (aPos0 < bPos0) {\n                return 1;\n            }\n            else if (bPos0 < aPos0) {\n                return -1;\n            }\n            aPos0 = a.indexOf(\"0\", aPos0 + 1);\n            bPos0 = b.indexOf(\"0\", bPos0 + 1);\n        }\n    });\n}\nexports.sortDecreasingBitstrings = sortDecreasingBitstrings;\n/**\n * Filter out parent generalized indices\n */\nfunction filterParentBitstrings(gindices) {\n    const sortedBitstrings = gindices.slice().sort((a, b) => a.length - b.length);\n    const filtered = [];\n    outer: for (let i = 0; i < sortedBitstrings.length; i++) {\n        const bsA = sortedBitstrings[i];\n        for (let j = i + 1; j < sortedBitstrings.length; j++) {\n            const bsB = sortedBitstrings[j];\n            if (bsB.startsWith(bsA)) {\n                continue outer;\n            }\n        }\n        filtered.push(bsA);\n    }\n    return filtered;\n}\nexports.filterParentBitstrings = filterParentBitstrings;\nvar SortOrder;\n(function (SortOrder) {\n    SortOrder[SortOrder[\"InOrder\"] = 0] = \"InOrder\";\n    SortOrder[SortOrder[\"Decreasing\"] = 1] = \"Decreasing\";\n    SortOrder[SortOrder[\"Unsorted\"] = 2] = \"Unsorted\";\n})(SortOrder = exports.SortOrder || (exports.SortOrder = {}));\n/**\n * Return the set of generalized indices required for a multiproof\n * This may include all leaves and any necessary witnesses\n * @param gindices leaves to include in proof\n * @returns all generalized indices required for a multiproof (leaves and witnesses), deduplicated and sorted\n */\nfunction computeMultiProofBitstrings(gindices, includeLeaves = true, sortOrder = SortOrder.InOrder) {\n    const leaves = filterParentBitstrings(gindices);\n    // Maybe initialize the proof indices with the leaves\n    const proof = new Set(includeLeaves ? leaves : []);\n    const paths = new Set();\n    const branches = new Set();\n    // Collect all path indices and all branch indices\n    let maxBitLength = 1;\n    for (const gindex of leaves) {\n        if (gindex.length > maxBitLength)\n            maxBitLength = gindex.length;\n        const { path, branch } = computeProofBitstrings(gindex);\n        path.forEach((g) => paths.add(g));\n        branch.forEach((g) => branches.add(g));\n    }\n    // Remove all branches that are included in the paths\n    paths.forEach((g) => branches.delete(g));\n    // Add all remaining branches to the leaves\n    branches.forEach((g) => proof.add(g));\n    switch (sortOrder) {\n        case SortOrder.InOrder:\n            return sortInOrderBitstrings(Array.from(proof), maxBitLength);\n        case SortOrder.Decreasing:\n            return sortDecreasingBitstrings(Array.from(proof));\n        case SortOrder.Unsorted:\n            return Array.from(proof);\n    }\n}\nexports.computeMultiProofBitstrings = computeMultiProofBitstrings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeFromMultiProof = exports.createMultiProof = void 0;\nconst node_1 = require(\"../node\");\nconst tree_1 = require(\"../tree\");\nconst util_1 = require(\"./util\");\n/**\n * Create an multiproof\n *\n * See https://github.com/ethereum/consensus-specs/blob/dev/ssz/merkle-proofs.md#merkle-multiproofs\n *\n * @param rootNode the root node of the tree\n * @param gindices generalized indices of leaves to include in the proof\n */\nfunction createMultiProof(rootNode, gindices) {\n    const tree = new tree_1.Tree(rootNode);\n    const witnessGindices = util_1.computeMultiProofBitstrings(gindices.map((gindex) => gindex.toString(2)), false, util_1.SortOrder.Decreasing);\n    const leafGindices = gindices.slice().sort((a, b) => (a < b ? 1 : -1));\n    const leaves = leafGindices.map((gindex) => tree.getRoot(gindex));\n    const witnesses = witnessGindices.map((gindex) => tree.getRoot(gindex));\n    return [leaves, witnesses, leafGindices];\n}\nexports.createMultiProof = createMultiProof;\n/**\n * Recreate a `Node` given a multiproof\n *\n * See https://github.com/ethereum/consensus-specs/blob/dev/ssz/merkle-proofs.md#merkle-multiproofs\n *\n * @param leaves leaves of a EF multiproof\n * @param witnesses witnesses of a EF multiproof\n * @param gindices generalized indices of the leaves\n */\nfunction createNodeFromMultiProof(leaves, witnesses, gindices) {\n    if (leaves.length !== gindices.length) {\n        throw new Error(\"Leaves length should equal gindices length\");\n    }\n    const leafBitstrings = gindices.map((gindex) => gindex.toString(2));\n    const witnessBitstrings = util_1.computeMultiProofBitstrings(leafBitstrings, false, util_1.SortOrder.Decreasing);\n    if (witnessBitstrings.length !== witnesses.length) {\n        throw new Error(\"Witnesses length should equal witnesses gindices length\");\n    }\n    // Algorithm:\n    // create an object which tracks key-values for each level\n    // pre-load leaves and witnesses into the level object\n    // level by level, starting from the bottom,\n    // find the sibling, create the parent, store it in the next level up\n    // the root is in level 1\n    const maxLevel = Math.max(leafBitstrings[0]?.length ?? 0, witnessBitstrings[0]?.length ?? 0);\n    const levels = Object.fromEntries(Array.from({ length: maxLevel }, (_, i) => [i + 1, {}]));\n    // preload leaves and witnesses\n    for (let i = 0; i < leafBitstrings.length; i++) {\n        const leafBitstring = leafBitstrings[i];\n        const leaf = leaves[i];\n        levels[leafBitstring.length][leafBitstring] = node_1.LeafNode.fromRoot(leaf);\n    }\n    for (let i = 0; i < witnessBitstrings.length; i++) {\n        const witnessBitstring = witnessBitstrings[i];\n        const witness = witnesses[i];\n        levels[witnessBitstring.length][witnessBitstring] = node_1.LeafNode.fromRoot(witness);\n    }\n    for (let i = maxLevel; i > 1; i--) {\n        const level = levels[i];\n        const parentLevel = levels[i - 1];\n        for (const bitstring of Object.keys(level)) {\n            const node = level[bitstring];\n            // if the node doesn't exist, we've already processed its sibling\n            if (!node) {\n                continue;\n            }\n            const isLeft = bitstring[bitstring.length - 1] === \"0\";\n            const parentBitstring = bitstring.substring(0, bitstring.length - 1);\n            const siblingBitstring = parentBitstring + (isLeft ? \"1\" : \"0\");\n            const siblingNode = level[siblingBitstring];\n            if (!siblingNode) {\n                throw new Error(`Sibling not found: ${siblingBitstring}`);\n            }\n            // store the parent node\n            const parentNode = isLeft ? new node_1.BranchNode(node, siblingNode) : new node_1.BranchNode(siblingNode, node);\n            parentLevel[parentBitstring] = parentNode;\n            // delete the used nodes\n            delete level[bitstring];\n            delete level[siblingBitstring];\n        }\n    }\n    const root = levels[1][\"1\"];\n    if (!root) {\n        throw new Error(\"Internal consistency error: no root found\");\n    }\n    return root;\n}\nexports.createNodeFromMultiProof = createNodeFromMultiProof;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserializeTreeOffsetProof = exports.serializeTreeOffsetProof = exports.computeTreeOffsetProofSerializedLength = exports.createNodeFromTreeOffsetProof = exports.createTreeOffsetProof = exports.treeOffsetProofToNode = exports.nodeToTreeOffsetProof = void 0;\nconst node_1 = require(\"../node\");\nconst util_1 = require(\"./util\");\n/**\n * Compute offsets and leaves of a tree-offset proof\n *\n * Recursive function\n *\n * See https://github.com/protolambda/eth-merkle-trees/blob/master/tree_offsets.md\n * @param node current node in the tree\n * @param gindex current generalized index in the tree\n * @param proofGindices generalized indices to left include in the proof - must be sorted in-order according to the tree\n */\nfunction nodeToTreeOffsetProof(node, gindex, proofGindices) {\n    if (!proofGindices.length || !proofGindices[0].startsWith(gindex)) {\n        // there are no proof indices left OR the current subtree contains no remaining proof indices\n        return [[], []];\n    }\n    else if (gindex === proofGindices[0]) {\n        // the current node is at the next proof index\n        proofGindices.shift();\n        return [[], [node.root]];\n    }\n    else {\n        // recursively compute offsets, leaves for the left and right subtree\n        const [leftOffsets, leftLeaves] = nodeToTreeOffsetProof(node.left, gindex + \"0\", proofGindices);\n        const [rightOffsets, rightLeaves] = nodeToTreeOffsetProof(node.right, gindex + \"1\", proofGindices);\n        // the offset prepended to the list is # of leaves in the left subtree\n        const pivot = leftLeaves.length;\n        return [[pivot].concat(leftOffsets, rightOffsets), leftLeaves.concat(rightLeaves)];\n    }\n}\nexports.nodeToTreeOffsetProof = nodeToTreeOffsetProof;\n/**\n * Recreate a `Node` given offsets and leaves of a tree-offset proof\n *\n * Recursive definition\n *\n * See https://github.com/protolambda/eth-merkle-trees/blob/master/tree_offsets.md\n */\nfunction treeOffsetProofToNode(offsets, leaves) {\n    if (!leaves.length) {\n        throw new Error(\"Proof must contain gt 0 leaves\");\n    }\n    else if (leaves.length === 1) {\n        return node_1.LeafNode.fromRoot(leaves[0]);\n    }\n    else {\n        // the offset popped from the list is the # of leaves in the left subtree\n        const pivot = offsets[0];\n        return new node_1.BranchNode(treeOffsetProofToNode(offsets.slice(1, pivot), leaves.slice(0, pivot)), treeOffsetProofToNode(offsets.slice(pivot), leaves.slice(pivot)));\n    }\n}\nexports.treeOffsetProofToNode = treeOffsetProofToNode;\n/**\n * Create a tree-offset proof\n *\n * @param rootNode the root node of the tree\n * @param gindices generalized indices to include in the proof\n */\nfunction createTreeOffsetProof(rootNode, gindices) {\n    return nodeToTreeOffsetProof(rootNode, \"1\", util_1.computeMultiProofBitstrings(gindices.map((g) => g.toString(2))));\n}\nexports.createTreeOffsetProof = createTreeOffsetProof;\n/**\n * Recreate a `Node` given a tree-offset proof\n *\n * @param offsets offsets of a tree-offset proof\n * @param leaves leaves of a tree-offset proof\n */\nfunction createNodeFromTreeOffsetProof(offsets, leaves) {\n    // TODO validation\n    return treeOffsetProofToNode(offsets, leaves);\n}\nexports.createNodeFromTreeOffsetProof = createNodeFromTreeOffsetProof;\nfunction computeTreeOffsetProofSerializedLength(offsets, leaves) {\n    // add 1 for # of leaves\n    return (offsets.length + 1) * 2 + leaves.length * 32;\n}\nexports.computeTreeOffsetProofSerializedLength = computeTreeOffsetProofSerializedLength;\n// Serialized tree offset proof structure:\n// # of leaves - 2 bytes\n// offsets - 2 bytes each\n// leaves - 32 bytes each\nfunction serializeTreeOffsetProof(output, byteOffset, offsets, leaves) {\n    const writer = new DataView(output.buffer, output.byteOffset, output.byteLength);\n    // set # of leaves\n    writer.setUint16(byteOffset, leaves.length, true);\n    // set offsets\n    const offsetsStartIndex = byteOffset + 2;\n    for (let i = 0; i < offsets.length; i++) {\n        writer.setUint16(i * 2 + offsetsStartIndex, offsets[i], true);\n    }\n    // set leaves\n    const leavesStartIndex = offsetsStartIndex + offsets.length * 2;\n    for (let i = 0; i < leaves.length; i++) {\n        output.set(leaves[i], i * 32 + leavesStartIndex);\n    }\n}\nexports.serializeTreeOffsetProof = serializeTreeOffsetProof;\nfunction deserializeTreeOffsetProof(data, byteOffset) {\n    const reader = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // get # of leaves\n    const leafCount = reader.getUint16(byteOffset, true);\n    if (data.length < (leafCount - 1) * 2 + leafCount * 32) {\n        throw new Error(\"Unable to deserialize tree offset proof: not enough bytes\");\n    }\n    // get offsets\n    const offsetsStartIndex = byteOffset + 2;\n    const offsets = Array.from({ length: leafCount - 1 }, (_, i) => reader.getUint16(i * 2 + offsetsStartIndex, true));\n    // get leaves\n    const leavesStartIndex = offsetsStartIndex + offsets.length * 2;\n    const leaves = Array.from({ length: leafCount }, (_, i) => data.subarray(i * 32 + leavesStartIndex, (i + 1) * 32 + leavesStartIndex));\n    return [offsets, leaves];\n}\nexports.deserializeTreeOffsetProof = deserializeTreeOffsetProof;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserializeProof = exports.serializeProof = exports.createNodeFromProof = exports.createProof = exports.ProofTypeSerialized = exports.ProofType = void 0;\nconst multi_1 = require(\"./multi\");\nconst single_1 = require(\"./single\");\nconst treeOffset_1 = require(\"./treeOffset\");\nvar ProofType;\n(function (ProofType) {\n    ProofType[\"single\"] = \"single\";\n    ProofType[\"treeOffset\"] = \"treeOffset\";\n    ProofType[\"multi\"] = \"multi\";\n})(ProofType = exports.ProofType || (exports.ProofType = {}));\n/**\n * Serialized proofs are prepended with a single byte, denoting their type\n */\nexports.ProofTypeSerialized = [\n    ProofType.single,\n    ProofType.treeOffset,\n    ProofType.multi, // 2\n];\nfunction createProof(rootNode, input) {\n    switch (input.type) {\n        case ProofType.single: {\n            const [leaf, witnesses] = single_1.createSingleProof(rootNode, input.gindex);\n            return {\n                type: ProofType.single,\n                gindex: input.gindex,\n                leaf,\n                witnesses,\n            };\n        }\n        case ProofType.treeOffset: {\n            const [offsets, leaves] = treeOffset_1.createTreeOffsetProof(rootNode, input.gindices);\n            return {\n                type: ProofType.treeOffset,\n                offsets,\n                leaves,\n            };\n        }\n        case ProofType.multi: {\n            const [leaves, witnesses, gindices] = multi_1.createMultiProof(rootNode, input.gindices);\n            return {\n                type: ProofType.multi,\n                leaves,\n                witnesses,\n                gindices,\n            };\n        }\n        default:\n            throw new Error(\"Invalid proof type\");\n    }\n}\nexports.createProof = createProof;\nfunction createNodeFromProof(proof) {\n    switch (proof.type) {\n        case ProofType.single:\n            return single_1.createNodeFromSingleProof(proof.gindex, proof.leaf, proof.witnesses);\n        case ProofType.treeOffset:\n            return treeOffset_1.createNodeFromTreeOffsetProof(proof.offsets, proof.leaves);\n        case ProofType.multi:\n            return multi_1.createNodeFromMultiProof(proof.leaves, proof.witnesses, proof.gindices);\n        default:\n            throw new Error(\"Invalid proof type\");\n    }\n}\nexports.createNodeFromProof = createNodeFromProof;\nfunction serializeProof(proof) {\n    switch (proof.type) {\n        case ProofType.single:\n        case ProofType.multi:\n            throw new Error(\"Not implemented\");\n        case ProofType.treeOffset: {\n            const output = new Uint8Array(1 + treeOffset_1.computeTreeOffsetProofSerializedLength(proof.offsets, proof.leaves));\n            output[0] = exports.ProofTypeSerialized.indexOf(ProofType.treeOffset);\n            treeOffset_1.serializeTreeOffsetProof(output, 1, proof.offsets, proof.leaves);\n            return output;\n        }\n        default:\n            throw new Error(\"Invalid proof type\");\n    }\n}\nexports.serializeProof = serializeProof;\nfunction deserializeProof(data) {\n    const proofType = exports.ProofTypeSerialized[data[0]];\n    if (!proofType) {\n        throw new Error(\"Invalid proof type\");\n    }\n    switch (proofType) {\n        case ProofType.single:\n        case ProofType.multi:\n            throw new Error(\"Not implemented\");\n        case ProofType.treeOffset: {\n            const [offsets, leaves] = treeOffset_1.deserializeTreeOffsetProof(data, 1);\n            return {\n                type: ProofType.treeOffset,\n                offsets,\n                leaves,\n            };\n        }\n        default:\n            throw new Error(\"Invalid proof type\");\n    }\n}\nexports.deserializeProof = deserializeProof;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./gindex\"), exports);\n__exportStar(require(\"./hash\"), exports);\n__exportStar(require(\"./node\"), exports);\n__exportStar(require(\"./packedNode\"), exports);\n__exportStar(require(\"./proof\"), exports);\n__exportStar(require(\"./subtree\"), exports);\n__exportStar(require(\"./tree\"), exports);\n__exportStar(require(\"./zeroNode\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.zeroHash = void 0;\nconst as_sha256_1 = require(\"@chainsafe/as-sha256\");\n// create array of \"zero hashes\", successively hashed zero chunks\nconst zeroHashes = [new Uint8Array(32)];\nfunction zeroHash(depth) {\n    if (depth >= zeroHashes.length) {\n        for (let i = zeroHashes.length; i <= depth; i++) {\n            zeroHashes[i] = as_sha256_1.digest2Bytes32(zeroHashes[i - 1], zeroHashes[i - 1]);\n        }\n    }\n    return zeroHashes[depth];\n}\nexports.zeroHash = zeroHash;\n//# sourceMappingURL=zeros.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextPowerOf2 = exports.maxChunksToDepth = exports.bitLength = exports.mixInLength = exports.splitIntoRootChunks = exports.merkleize = exports.hash64 = void 0;\nconst as_sha256_1 = require(\"@chainsafe/as-sha256\");\nconst zeros_1 = require(\"./zeros\");\nfunction hash64(bytes32A, bytes32B) {\n    return as_sha256_1.digest2Bytes32(bytes32A, bytes32B);\n}\nexports.hash64 = hash64;\nfunction merkleize(chunks, padFor) {\n    const layerCount = bitLength(nextPowerOf2(padFor) - 1);\n    if (chunks.length == 0) {\n        return zeros_1.zeroHash(layerCount);\n    }\n    let chunkCount = chunks.length;\n    // Instead of pushing on all padding zero chunks at the leaf level\n    // we push on zero hash chunks at the highest possible level to avoid over-hashing\n    for (let l = 0; l < layerCount; l++) {\n        const padCount = chunkCount % 2;\n        const paddedChunkCount = chunkCount + padCount;\n        // if the chunks.length is odd\n        // we need to push on the zero-hash of that level to merkleize that level\n        for (let i = 0; i < padCount; i++) {\n            chunks[chunkCount + i] = zeros_1.zeroHash(l);\n        }\n        for (let i = 0; i < paddedChunkCount; i += 2) {\n            chunks[i / 2] = hash64(chunks[i], chunks[i + 1]);\n        }\n        chunkCount = paddedChunkCount / 2;\n    }\n    return chunks[0];\n}\nexports.merkleize = merkleize;\n/**\n * Split a long Uint8Array into Uint8Array of exactly 32 bytes\n */\nfunction splitIntoRootChunks(longChunk) {\n    const chunkCount = Math.ceil(longChunk.length / 32);\n    const chunks = new Array(chunkCount);\n    for (let i = 0; i < chunkCount; i++) {\n        const chunk = new Uint8Array(32);\n        chunk.set(longChunk.slice(i * 32, (i + 1) * 32));\n        chunks[i] = chunk;\n    }\n    return chunks;\n}\nexports.splitIntoRootChunks = splitIntoRootChunks;\n/** @ignore */\nfunction mixInLength(root, length) {\n    const lengthBuf = Buffer.alloc(32);\n    lengthBuf.writeUIntLE(length, 0, 6);\n    return hash64(root, lengthBuf);\n}\nexports.mixInLength = mixInLength;\n// x2 faster than bitLengthStr() which uses Number.toString(2)\nfunction bitLength(i) {\n    if (i === 0) {\n        return 0;\n    }\n    return Math.floor(Math.log2(i)) + 1;\n}\nexports.bitLength = bitLength;\n/**\n * Given maxChunkCount return the chunkDepth\n * ```\n * n: [0,1,2,3,4,5,6,7,8,9]\n * d: [0,0,1,2,2,3,3,3,3,4]\n * ```\n */\nfunction maxChunksToDepth(n) {\n    if (n === 0)\n        return 0;\n    return Math.ceil(Math.log2(n));\n}\nexports.maxChunksToDepth = maxChunksToDepth;\n/** @ignore */\nfunction nextPowerOf2(n) {\n    return n <= 0 ? 1 : Math.pow(2, bitLength(n - 1));\n}\nexports.nextPowerOf2 = nextPowerOf2;\n//# sourceMappingURL=merkleize.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.namedClass = void 0;\nfunction namedClass(superClass, className) {\n    return new Function(\"superClass\", `return class ${className} extends superClass {}`)(superClass);\n}\nexports.namedClass = namedClass;\n//# sourceMappingURL=named.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertValidArrayLength = exports.value_defaultValueArray = exports.value_equals = exports.value_cloneArray = exports.value_toJsonArray = exports.value_fromJsonArray = exports.tree_deserializeFromBytesArrayBasic = exports.tree_serializeToBytesArrayBasic = exports.value_deserializeFromBytesArrayBasic = exports.value_serializeToBytesArrayBasic = exports.setChunksNode = exports.addLengthNode = exports.getChunksNodeFromRootNode = exports.getLengthFromRootNode = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\n// There's a matrix of Array-ish types that require a combination of this functions.\n// Regular class extends syntax doesn't work because it can only extend a single class.\n//\n// Type of array: List, Vector. Changes length property\n// Type of element: Basic, Composite. Changes merkelization if packing or not.\n// If Composite: Fixed len, Variable len. Changes the serialization requiring offsets.\n/**\n * SSZ Lists (variable-length arrays) include the length of the list in the tree\n * This length is always in the same index in the tree\n * ```\n *   1\n *  / \\\n * 2   3 // <-here\n * ```\n */\nfunction getLengthFromRootNode(node) {\n    // Length is represented as a Uint32 at the start of the chunk:\n    // 4 = 4 bytes in Uint32\n    // 0 = 0 offset bytes in Node's data\n    return node.right.getUint(4, 0);\n}\nexports.getLengthFromRootNode = getLengthFromRootNode;\nfunction getChunksNodeFromRootNode(node) {\n    return node.left;\n}\nexports.getChunksNodeFromRootNode = getChunksNodeFromRootNode;\nfunction addLengthNode(chunksNode, length) {\n    return new persistent_merkle_tree_1.BranchNode(chunksNode, persistent_merkle_tree_1.LeafNode.fromUint32(length));\n}\nexports.addLengthNode = addLengthNode;\nfunction setChunksNode(rootNode, chunksNode, newLength) {\n    const lengthNode = newLength !== undefined\n        ? // If newLength is set, create a new node for length\n            persistent_merkle_tree_1.LeafNode.fromUint32(newLength)\n        : // else re-use existing node\n            rootNode.right;\n    return new persistent_merkle_tree_1.BranchNode(chunksNode, lengthNode);\n}\nexports.setChunksNode = setChunksNode;\n/**\n * @param length In List length = value.length, Vector length = fixed value\n */\nfunction value_serializeToBytesArrayBasic(elementType, length, output, offset, value) {\n    const elSize = elementType.byteLength;\n    for (let i = 0; i < length; i++) {\n        elementType.value_serializeToBytes(output, offset + i * elSize, value[i]);\n    }\n    return offset + length * elSize;\n}\nexports.value_serializeToBytesArrayBasic = value_serializeToBytesArrayBasic;\nfunction value_deserializeFromBytesArrayBasic(elementType, data, start, end, arrayProps) {\n    const elSize = elementType.byteLength;\n    // Vector + List length validation\n    const length = (end - start) / elSize;\n    assertValidArrayLength(length, arrayProps, true);\n    const values = new Array(length);\n    for (let i = 0; i < length; i++) {\n        // TODO: If faster, consider skipping size check for uint types\n        values[i] = elementType.value_deserializeFromBytes(data, start + i * elSize, start + (i + 1) * elSize);\n    }\n    return values;\n}\nexports.value_deserializeFromBytesArrayBasic = value_deserializeFromBytesArrayBasic;\n/**\n * @param length In List length = value.length, Vector length = fixed value\n */\nfunction tree_serializeToBytesArrayBasic(elementType, length, depth, output, offset, node) {\n    const size = elementType.byteLength * length;\n    const chunkCount = Math.ceil(size / 32);\n    const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, depth, 0, chunkCount);\n    persistent_merkle_tree_1.packedNodeRootsToBytes(output.dataView, offset, size, nodes);\n    return offset + size;\n}\nexports.tree_serializeToBytesArrayBasic = tree_serializeToBytesArrayBasic;\n// List of basic elements will pack them in merkelized form\nfunction tree_deserializeFromBytesArrayBasic(elementType, chunkDepth, data, start, end, arrayProps) {\n    // Vector + List length validation\n    const length = (end - start) / elementType.byteLength;\n    assertValidArrayLength(length, arrayProps, true);\n    // Abstract converting data to LeafNode to allow for custom data representation, such as the hashObject\n    const chunksNode = persistent_merkle_tree_1.packedRootsBytesToNode(chunkDepth, data.dataView, start, end);\n    if (arrayProps.isList) {\n        return addLengthNode(chunksNode, length);\n    }\n    else {\n        return chunksNode;\n    }\n}\nexports.tree_deserializeFromBytesArrayBasic = tree_deserializeFromBytesArrayBasic;\n/**\n * @param length In List length = undefined, Vector length = fixed value\n */\nfunction value_fromJsonArray(elementType, json, arrayProps) {\n    if (!Array.isArray(json)) {\n        throw Error(\"JSON is not an array\");\n    }\n    assertValidArrayLength(json.length, arrayProps);\n    const value = new Array(json.length);\n    for (let i = 0; i < json.length; i++) {\n        value[i] = elementType.fromJson(json[i]);\n    }\n    return value;\n}\nexports.value_fromJsonArray = value_fromJsonArray;\n/**\n * @param length In List length = undefined, Vector length = fixed value\n */\nfunction value_toJsonArray(elementType, value, arrayProps) {\n    const length = arrayProps.isList ? value.length : arrayProps.length;\n    const json = new Array(length);\n    for (let i = 0; i < length; i++) {\n        json[i] = elementType.toJson(value[i]);\n    }\n    return json;\n}\nexports.value_toJsonArray = value_toJsonArray;\n/**\n * Clone recursively an array of basic or composite types\n */\nfunction value_cloneArray(elementType, value) {\n    const newValue = new Array(value.length);\n    for (let i = 0; i < value.length; i++) {\n        newValue[i] = elementType.clone(value[i]);\n    }\n    return newValue;\n}\nexports.value_cloneArray = value_cloneArray;\n/**\n * Check recursively if a type is structuraly equal. Returns early\n */\nfunction value_equals(elementType, a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n        if (!elementType.equals(a[i], b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.value_equals = value_equals;\nfunction value_defaultValueArray(elementType, length) {\n    const values = new Array(length);\n    for (let i = 0; i < length; i++) {\n        values[i] = elementType.defaultValue();\n    }\n    return values;\n}\nexports.value_defaultValueArray = value_defaultValueArray;\n/**\n * @param checkNonDecimalLength Check that length is a multiple of element size.\n * Optional since it's not necessary in getOffsetsArrayComposite() fn.\n */\nfunction assertValidArrayLength(length, arrayProps, checkNonDecimalLength) {\n    if (checkNonDecimalLength && length % 1 !== 0) {\n        throw Error(\"size not multiple of element fixedSize\");\n    }\n    // Vector + List length validation\n    if (arrayProps.isList) {\n        if (length > arrayProps.limit) {\n            throw new Error(`Invalid list length ${length} over limit ${arrayProps.limit}`);\n        }\n    }\n    else {\n        if (length !== arrayProps.length) {\n            throw new Error(`Incorrect vector length ${length} expected ${arrayProps.length}`);\n        }\n    }\n}\nexports.assertValidArrayLength = assertValidArrayLength;\n//# sourceMappingURL=arrayBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUint8ByteToBitBooleanArray = exports.BitArray = void 0;\n/** Globally cache this information. @see getUint8ByteToBitBooleanArray */\nconst uint8ByteToBitBooleanArrays = new Array(256);\n/**\n * BitArray may be represented as an array of bits or compressed into an array of bytes.\n *\n * **Array of bits**:\n * Require 8.87 bytes per bit, so for 512 bits = 4500 bytes.\n * Are 'faster' to iterate with native tooling but are as fast as array of bytes with precomputed caches.\n *\n * **Array of bytes**:\n * Require an average cost of Uint8Array in JS = 220 bytes for 32 bytes, so for 512 bits = 220 bytes.\n * With precomputed boolean arrays per bytes value are as fast to iterate as an array of bits above.\n *\n * This BitArray implementation will represent data as a Uint8Array since it's very cheap to deserialize and can be as\n * fast to iterate as a native array of booleans, precomputing boolean arrays (total memory cost of 16000 bytes).\n */\nclass BitArray {\n    constructor(\n    /** Underlying BitArray Uint8Array data */\n    uint8Array, \n    /** Immutable bitLen of this BitArray */\n    bitLen) {\n        this.uint8Array = uint8Array;\n        this.bitLen = bitLen;\n        if (uint8Array.length !== Math.ceil(bitLen / 8)) {\n            throw Error(\"BitArray uint8Array length does not match bitLen\");\n        }\n    }\n    /** Returns a zero'ed BitArray of `bitLen` */\n    static fromBitLen(bitLen) {\n        return new BitArray(new Uint8Array(Math.ceil(bitLen / 8)), bitLen);\n    }\n    /** Returns a BitArray of `bitLen` with a single bit set to true at position `bitIndex` */\n    static fromSingleBit(bitLen, bitIndex) {\n        const bitArray = BitArray.fromBitLen(bitLen);\n        bitArray.set(bitIndex, true);\n        return bitArray;\n    }\n    /** Returns a BitArray from an array of booleans representation */\n    static fromBoolArray(bitBoolArr) {\n        const bitArray = BitArray.fromBitLen(bitBoolArr.length);\n        for (let i = 0; i < bitBoolArr.length; i++) {\n            if (bitBoolArr[i] === true) {\n                bitArray.set(i, true);\n            }\n        }\n        return bitArray;\n    }\n    clone() {\n        // TODO: Benchmark if Uint8Array.slice(0) is the fastest way to copy data here\n        // Buffer.prototype.slice does not copy memory, Enforce Uint8Array usage https://github.com/nodejs/node/issues/28087\n        return new BitArray(Uint8Array.prototype.slice.call(this.uint8Array, 0), this.bitLen);\n    }\n    /**\n     * Get bit value at index `bitIndex`\n     */\n    get(bitIndex) {\n        const byteIdx = Math.floor(bitIndex / 8);\n        const bitInBit = bitIndex % 8;\n        const mask = 1 << bitInBit;\n        return (this.uint8Array[byteIdx] & mask) === mask;\n    }\n    /**\n     * Set bit value at index `bitIndex`\n     */\n    set(bitIndex, bit) {\n        if (bitIndex >= this.bitLen) {\n            throw Error(`BitArray set bitIndex ${bitIndex} beyond bitLen ${this.bitLen}`);\n        }\n        const byteIdx = Math.floor(bitIndex / 8);\n        const bitInBit = bitIndex % 8;\n        const mask = 1 << bitInBit;\n        let byte = this.uint8Array[byteIdx];\n        if (bit) {\n            // For bit in byte, 1,0 OR 1 = 1\n            // byte 100110\n            // mask 010000\n            // res  110110\n            byte |= mask;\n            this.uint8Array[byteIdx] = byte;\n        }\n        else {\n            // For bit in byte, 1,0 OR 1 = 0\n            if ((byte & mask) === mask) {\n                // byte 110110\n                // mask 010000\n                // res  100110\n                byte ^= mask;\n                this.uint8Array[byteIdx] = byte;\n            }\n            else {\n                // Ok, bit is already 0\n            }\n        }\n    }\n    /** Merge two BitArray bitfields with OR. Must have the same bitLen */\n    mergeOrWith(bitArray2) {\n        if (bitArray2.bitLen !== this.bitLen) {\n            throw Error(\"Must merge BitArrays of same bitLen\");\n        }\n        // Merge bitFields\n        for (let i = 0; i < this.uint8Array.length; i++) {\n            this.uint8Array[i] = this.uint8Array[i] | bitArray2.uint8Array[i];\n        }\n    }\n    /**\n     * Returns an array with the indexes which have a bit set to true\n     */\n    intersectValues(values) {\n        const yes = [];\n        if (values.length !== this.bitLen) {\n            throw Error(`Must not intersect values of length ${values.length} != bitLen ${this.bitLen}`);\n        }\n        const fullByteLen = Math.floor(this.bitLen / 8);\n        const remainderBits = this.bitLen % 8;\n        // Iterate over each byte of bits\n        const bytes = this.uint8Array;\n        for (let iByte = 0; iByte < fullByteLen; iByte++) {\n            // Get the precomputed boolean array for this byte\n            const booleansInByte = getUint8ByteToBitBooleanArray(bytes[iByte]);\n            // For each bit in the byte check participation and add to indexesSelected array\n            for (let iBit = 0; iBit < 8; iBit++) {\n                if (booleansInByte[iBit]) {\n                    yes.push(values[iByte * 8 + iBit]);\n                }\n            }\n        }\n        if (remainderBits > 0) {\n            // Get the precomputed boolean array for this byte\n            const booleansInByte = getUint8ByteToBitBooleanArray(bytes[fullByteLen]);\n            // For each bit in the byte check participation and add to indexesSelected array\n            for (let iBit = 0; iBit < remainderBits; iBit++) {\n                if (booleansInByte[iBit]) {\n                    yes.push(values[fullByteLen * 8 + iBit]);\n                }\n            }\n        }\n        return yes;\n    }\n    /**\n     * Returns the positions of all bits that are set to true\n     */\n    getTrueBitIndexes() {\n        const indexes = [];\n        // Iterate over each byte of bits\n        const bytes = this.uint8Array;\n        for (let iByte = 0, byteLen = bytes.length; iByte < byteLen; iByte++) {\n            // Get the precomputed boolean array for this byte\n            const booleansInByte = getUint8ByteToBitBooleanArray(bytes[iByte]);\n            // For each bit in the byte check participation and add to indexesSelected array\n            for (let iBit = 0; iBit < 8; iBit++) {\n                if (booleansInByte[iBit]) {\n                    indexes.push(iByte * 8 + iBit);\n                }\n            }\n        }\n        return indexes;\n    }\n    /**\n     * Return the position of a single bit set. If no bit set or more than 1 bit set, throws.\n     * @returns\n     *  - number: if there's a single bit set, the number it the single bit set position\n     *  - null: if ERROR_MORE_THAN_ONE_BIT_SET or ERROR_NO_BIT_SET\n     * @throws\n     *  - ERROR_MORE_THAN_ONE_BIT_SET\n     *  - ERROR_NO_BIT_SET\n     */\n    getSingleTrueBit() {\n        let index = null;\n        const bytes = this.uint8Array;\n        // Iterate over each byte of bits\n        for (let iByte = 0, byteLen = bytes.length; iByte < byteLen; iByte++) {\n            // If it's exactly zero, there won't be any indexes, continue early\n            if (bytes[iByte] === 0) {\n                continue;\n            }\n            // Get the precomputed boolean array for this byte\n            const booleansInByte = getUint8ByteToBitBooleanArray(bytes[iByte]);\n            // For each bit in the byte check participation and add to indexesSelected array\n            for (let iBit = 0; iBit < 8; iBit++) {\n                if (booleansInByte[iBit] === true) {\n                    if (index !== null) {\n                        // ERROR_MORE_THAN_ONE_BIT_SET\n                        return null;\n                    }\n                    index = iByte * 8 + iBit;\n                }\n            }\n        }\n        if (index === null) {\n            // ERROR_NO_BIT_SET\n            return null;\n        }\n        else {\n            return index;\n        }\n    }\n    toBoolArray() {\n        const bitBoolArr = new Array(this.bitLen);\n        for (let i = 0; i < this.bitLen; i++) {\n            bitBoolArr[i] = this.get(i);\n        }\n        return bitBoolArr;\n    }\n}\nexports.BitArray = BitArray;\n/**\n * Given a byte (0 -> 255), return a Array of boolean with length = 8, big endian.\n * Ex: 1 => [true false false false false false false false]\n *     5 => [true false true false false fase false false]\n */\nfunction getUint8ByteToBitBooleanArray(byte) {\n    if (!uint8ByteToBitBooleanArrays[byte]) {\n        uint8ByteToBitBooleanArrays[byte] = computeUint8ByteToBitBooleanArray(byte);\n    }\n    return uint8ByteToBitBooleanArrays[byte];\n}\nexports.getUint8ByteToBitBooleanArray = getUint8ByteToBitBooleanArray;\n/** @see getUint8ByteToBitBooleanArray */\nfunction computeUint8ByteToBitBooleanArray(byte) {\n    // this returns little endian\n    const binaryStr = byte.toString(2);\n    const binaryLength = binaryStr.length;\n    const bits = new Array(8);\n    for (let i = 0; i < 8; i++) {\n        bits[i] =\n            i < binaryLength\n                ? //\n                    binaryStr[binaryLength - i - 1] === \"1\"\n                : false;\n    }\n    return bits;\n}\n//# sourceMappingURL=bitArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.byteArrayEquals = exports.fromHexString = exports.toHexString = void 0;\n// Caching this info costs about ~1000 bytes and speeds up toHexString() by x6\nconst hexByByte = new Array(256);\nfunction toHexString(bytes) {\n    let hex = \"0x\";\n    for (const byte of bytes) {\n        if (!hexByByte[byte]) {\n            hexByByte[byte] = byte < 16 ? \"0\" + byte.toString(16) : byte.toString(16);\n        }\n        hex += hexByByte[byte];\n    }\n    return hex;\n}\nexports.toHexString = toHexString;\nfunction fromHexString(hex) {\n    if (typeof hex !== \"string\") {\n        throw new Error(`hex argument type ${typeof hex} must be of type string`);\n    }\n    if (hex.startsWith(\"0x\")) {\n        hex = hex.slice(2);\n    }\n    if (hex.length % 2 !== 0) {\n        throw new Error(`hex string length ${hex.length} must be multiple of 2`);\n    }\n    const byteLen = hex.length / 2;\n    const bytes = new Uint8Array(byteLen);\n    for (let i = 0; i < byteLen; i++) {\n        const byte = parseInt(hex.slice(i * 2, (i + 1) * 2), 16);\n        bytes[i] = byte;\n    }\n    return bytes;\n}\nexports.fromHexString = fromHexString;\nfunction byteArrayEquals(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n}\nexports.byteArrayEquals = byteArrayEquals;\n//# sourceMappingURL=byteArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.treePostProcessFromProofNode = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\n/** Duplicated partial declaration to break circular dependency with CompositeType */\nfunction isCompositeType(type) {\n    return !type.isBasic;\n}\n/**\n * Navigates and mutates nodes to post process a tree created with `Tree.createFromProof`.\n * Tree returns regular a tree with only BranchNode and LeafNode instances. However, SSZ features\n * non-standard nodes that make proofs for those types to be un-usable. This include:\n * - BranchNodeStruct: Must contain complete data `tree_fromProofNode` transforms a BranchNode and\n *   all of its data into a single BranchNodeStruct instance.\n *\n * @param bitstring Bitstring without the leading \"1\", since it's only used to compute horizontal indexes.\n */\nfunction treePostProcessFromProofNode(node, type, bitstring = \"\", currentDepth = 0) {\n    // Must run tree_fromProofNode on the first received node (i.e. Validator object)\n    if (currentDepth === 0) {\n        const nodePost = type.tree_fromProofNode(node);\n        if (nodePost.done) {\n            return nodePost.node;\n        }\n        else {\n            node = nodePost.node;\n        }\n    }\n    const atTypeDepth = type.depth === currentDepth;\n    if (node.isLeaf()) {\n        if (atTypeDepth) {\n            const jsonPathProp = type.getIndexProperty(bitstringToIndex(bitstring));\n            if (jsonPathProp === null) {\n                // bitstring is out of bounds, witness node\n                return node;\n            }\n            const childType = type.getPropertyType(jsonPathProp);\n            // If this type merkleized fits in a single chunk then this LeafNode includes all data\n            if (childType.maxChunkCount === 1 && isCompositeType(childType)) {\n                return childType.tree_fromProofNode(node).node;\n            }\n            // Witness node\n            else {\n                return node;\n            }\n        }\n        // LeafNode not at type depth is a witness or a length / selector nodes\n        else {\n            return node;\n        }\n    }\n    else {\n        if (atTypeDepth) {\n            const jsonPathProp = type.getIndexProperty(bitstringToIndex(bitstring));\n            if (jsonPathProp === null) {\n                // bitstring is out of bounds, witness node\n                return node;\n            }\n            const childType = type.getPropertyType(jsonPathProp);\n            if (!isCompositeType(childType)) {\n                throw Error(\"BranchNode does not map to CompositeType\");\n            }\n            const nodePost = childType.tree_fromProofNode(node);\n            // If tree_fromProofNode is the identity function, keep going, otherwise stop navigating\n            if (nodePost.done) {\n                return nodePost.node;\n            }\n            else {\n                return treePostProcessFromProofNode(nodePost.node, childType);\n            }\n        }\n        // BranchNode at not type depth, keep navigating\n        else {\n            const leftNode = treePostProcessFromProofNode(node.left, type, bitstring + \"0\", currentDepth + 1);\n            const rightNode = treePostProcessFromProofNode(node.right, type, bitstring + \"1\", currentDepth + 1);\n            if (leftNode === node.left && rightNode === node.right) {\n                return node;\n            }\n            else {\n                return new persistent_merkle_tree_1.BranchNode(leftNode, rightNode);\n            }\n        }\n    }\n}\nexports.treePostProcessFromProofNode = treePostProcessFromProofNode;\n/** Return the node horizontal index given a bitstring without the leading \"1\" */\nfunction bitstringToIndex(bitstring) {\n    if (bitstring === \"\")\n        return 0;\n    return parseInt(bitstring, 2);\n}\n//# sourceMappingURL=treePostProcessFromProofNode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Type = void 0;\n/**\n * An SSZ type provides the following operations:\n * - Serialization from/to bytes to either a value or a tree\n * - Merkelization to compute the hashTreeRoot of both a value and a tree\n * - Proof creation from trees\n * - Create a View and a ViewDU instance from a tree\n * - Manipulate views\n */\nclass Type {\n    /** INTERNAL METHOD: Merkleize value to tree */\n    value_toTree(value) {\n        // TODO: Un-performant path but useful for prototyping. Overwrite in Type if performance is important\n        const uint8Array = new Uint8Array(this.value_serializedSize(value));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        this.value_serializeToBytes({ uint8Array, dataView }, 0, value);\n        return this.tree_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n    }\n    /** INTERNAL METHOD: Un-merkleize tree to value */\n    tree_toValue(node) {\n        // TODO: Un-performant path but useful for prototyping. Overwrite in Type if performance is important\n        const uint8Array = new Uint8Array(this.tree_serializedSize(node));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        this.tree_serializeToBytes({ uint8Array, dataView }, 0, node);\n        return this.value_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n    }\n    /** Serialize a value to binary data */\n    serialize(value) {\n        const uint8Array = new Uint8Array(this.value_serializedSize(value));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        this.value_serializeToBytes({ uint8Array, dataView }, 0, value);\n        return uint8Array;\n    }\n    /** Deserialize binary data to value */\n    deserialize(uint8Array) {\n        // Buffer.prototype.slice does not copy memory, force use Uint8Array.prototype.slice https://github.com/nodejs/node/issues/28087\n        // - Uint8Array.prototype.slice: Copy memory, safe to mutate\n        // - Buffer.prototype.slice: Does NOT copy memory, mutation affects both views\n        // We could ensure that all Buffer instances are converted to Uint8Array before calling value_deserializeFromBytes\n        // However doing that in a browser friendly way is not easy. Downstream code uses `Uint8Array.prototype.slice.call`\n        // to ensure Buffer.prototype.slice is never used. Unit tests also test non-mutability.\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        return this.value_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n    }\n}\nexports.Type = Type;\n//# sourceMappingURL=abstract.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isCompositeType = exports.CompositeType = exports.LENGTH_GINDEX = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst byteArray_1 = require(\"../util/byteArray\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst treePostProcessFromProofNode_1 = require(\"../util/proof/treePostProcessFromProofNode\");\nconst abstract_1 = require(\"./abstract\");\nexports.LENGTH_GINDEX = BigInt(3);\n/** Dedicated property to cache hashTreeRoot of immutable CompositeType values */\nconst symbolCachedPermanentRoot = Symbol(\"ssz_cached_permanent_root\");\n/* eslint-disable @typescript-eslint/member-ordering  */\n/**\n * Represents a composite type as defined in the spec:\n * https://github.com/ethereum/consensus-specs/blob/dev/ssz/simple-serialize.md#composite-types\n */\nclass CompositeType extends abstract_1.Type {\n    constructor(\n    /**\n     * Caches `hashTreeRoot()` result for struct values.\n     *\n     * WARNING: Must only be used for immutable values. The cached root is never discarded\n     */\n    cachePermanentRootStruct) {\n        super();\n        this.cachePermanentRootStruct = cachePermanentRootStruct;\n        this.isBasic = false;\n    }\n    /** New instance of a recursive zero'ed value converted to Tree View */\n    defaultView() {\n        return this.toView(this.defaultValue());\n    }\n    /** New instance of a recursive zero'ed value converted to Deferred Update Tree View */\n    defaultViewDU() {\n        return this.toViewDU(this.defaultValue());\n    }\n    /**\n     * Deserialize binary data to a Tree View.\n     * @see {@link CompositeType.getView}\n     */\n    deserializeToView(data) {\n        const dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        const node = this.tree_deserializeFromBytes({ uint8Array: data, dataView }, 0, data.length);\n        return this.getView(new persistent_merkle_tree_1.Tree(node));\n    }\n    /**\n     * Deserialize binary data to a Deferred Update Tree View.\n     * @see {@link CompositeType.getViewDU}\n     */\n    deserializeToViewDU(data) {\n        const dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        const node = this.tree_deserializeFromBytes({ uint8Array: data, dataView }, 0, data.length);\n        return this.getViewDU(node);\n    }\n    /**\n     * Transform value to a View.\n     * @see {@link CompositeType.getView}\n     */\n    toView(value) {\n        const node = this.value_toTree(value);\n        return this.getView(new persistent_merkle_tree_1.Tree(node));\n    }\n    /**\n     * Transform value to a ViewDU.\n     * @see {@link CompositeType.getViewDU}\n     */\n    toViewDU(value) {\n        const node = this.value_toTree(value);\n        return this.getViewDU(node);\n    }\n    /**\n     * Transform value to a View.\n     * @see {@link CompositeType.getView}\n     */\n    toValueFromView(view) {\n        const node = this.commitView(view);\n        return this.tree_toValue(node);\n    }\n    /**\n     * Transform value to a ViewDU.\n     * @see {@link CompositeType.getViewDU}\n     */\n    toValueFromViewDU(view) {\n        const node = this.commitViewDU(view);\n        return this.tree_toValue(node);\n    }\n    /**\n     * Transform a ViewDU to a View.\n     * @see {@link CompositeType.getView} and {@link CompositeType.getViewDU}\n     */\n    toViewFromViewDU(view) {\n        const node = this.commitViewDU(view);\n        return this.getView(new persistent_merkle_tree_1.Tree(node));\n    }\n    /**\n     * Transform a View to a ViewDU.\n     * @see {@link CompositeType.getView} and {@link CompositeType.getViewDU}\n     */\n    toViewDUFromView(view) {\n        const node = this.commitView(view);\n        return this.getViewDU(node);\n    }\n    // Merkleize API\n    hashTreeRoot(value) {\n        // Return cached mutable root if any\n        if (this.cachePermanentRootStruct) {\n            const cachedRoot = value[symbolCachedPermanentRoot];\n            if (cachedRoot) {\n                return cachedRoot;\n            }\n        }\n        const root = merkleize_1.merkleize(this.getRoots(value), this.maxChunkCount);\n        if (this.cachePermanentRootStruct) {\n            value[symbolCachedPermanentRoot] = root;\n        }\n        return root;\n    }\n    // For debugging and testing this feature\n    getCachedPermanentRoot(value) {\n        return value[symbolCachedPermanentRoot];\n    }\n    // Proofs API\n    /**\n     * Create a Tree View from a Proof. Verifies that the Proof is correct against `root`.\n     * @see {@link CompositeType.getView}\n     */\n    createFromProof(proof, root) {\n        const rootNodeFromProof = persistent_merkle_tree_1.Tree.createFromProof(proof).rootNode;\n        const rootNode = treePostProcessFromProofNode_1.treePostProcessFromProofNode(rootNodeFromProof, this);\n        if (root !== undefined && !byteArray_1.byteArrayEquals(rootNode.root, root)) {\n            throw new Error(\"Proof does not match trusted root\");\n        }\n        return this.getView(new persistent_merkle_tree_1.Tree(rootNode));\n    }\n    /** INTERNAL METHOD: For view's API, create proof from a tree */\n    tree_createProof(node, jsonPaths) {\n        const gindexes = this.tree_createProofGindexes(node, jsonPaths);\n        return persistent_merkle_tree_1.createProof(node, {\n            type: persistent_merkle_tree_1.ProofType.treeOffset,\n            gindices: gindexes,\n        });\n    }\n    /** INTERNAL METHOD: For view's API, create proof from a tree */\n    tree_createProofGindexes(node, jsonPaths) {\n        const gindexes = [];\n        for (const jsonPath of jsonPaths) {\n            const { type, gindex } = this.getPathInfo(jsonPath);\n            if (!isCompositeType(type)) {\n                gindexes.push(gindex);\n            }\n            else {\n                // if the path subtype is composite, include the gindices of all the leaves\n                const leafGindexes = type.tree_getLeafGindices(gindex, type.fixedSize === null ? persistent_merkle_tree_1.getNode(node, gindex) : undefined);\n                for (const gindex of leafGindexes) {\n                    gindexes.push(gindex);\n                }\n            }\n        }\n        return gindexes;\n    }\n    /**\n     * Navigate to a subtype & gindex using a path\n     */\n    getPathInfo(path) {\n        const gindices = [];\n        let type = this;\n        for (const prop of path) {\n            if (type.isBasic) {\n                throw new Error(\"Invalid path: cannot navigate beyond a basic type\");\n            }\n            const gindex = type.getPropertyGindex(prop);\n            // else stop navigating\n            if (gindex !== null) {\n                gindices.push(gindex);\n                type = type.getPropertyType(prop);\n            }\n        }\n        return {\n            type,\n            gindex: persistent_merkle_tree_1.concatGindices(gindices),\n        };\n    }\n    /**\n     * INTERNAL METHOD: post process `ode` instance created from a proof and return either the same node,\n     * and a new node representing the same data is a different `Node` instance. Currently used exclusively\n     * by ContainerNodeStruct to convert `BranchNode` into `BranchNodeStruct`.\n     */\n    tree_fromProofNode(node) {\n        return { node, done: false };\n    }\n}\nexports.CompositeType = CompositeType;\nfunction isCompositeType(type) {\n    return !type.isBasic;\n}\nexports.isCompositeType = isCompositeType;\n//# sourceMappingURL=composite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TreeView = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\n/**\n * A Tree View is a wrapper around a type and an SSZ Tree that contains:\n * - data merkleized\n * - a hook to its parent Tree to propagate changes upwards\n *\n * **View**\n * - Best for simple usage where performance is NOT important\n * - Applies changes immediately\n * - Has reference to parent tree\n * - Does NOT have caches for fast get / set ops\n */\nclass TreeView {\n    /** Serialize view to binary data */\n    serialize() {\n        const output = new Uint8Array(this.type.tree_serializedSize(this.node));\n        const dataView = new DataView(output.buffer, output.byteOffset, output.byteLength);\n        this.type.tree_serializeToBytes({ uint8Array: output, dataView }, 0, this.node);\n        return output;\n    }\n    /**\n     * Merkleize view and compute its hashTreeRoot.\n     *\n     * See spec for definition of hashTreeRoot:\n     * https://github.com/ethereum/consensus-specs/blob/dev/ssz/simple-serialize.md#merkleization\n     */\n    hashTreeRoot() {\n        return this.node.root;\n    }\n    /**\n     * Create a Merkle multiproof on this view's data.\n     * A `path` is an array of 'JSON' paths into the data\n     * @example\n     * ```ts\n     * state.createProof([\n     *   [\"validators\", 1234, \"slashed\"],\n     *   [\"genesisTime\"]\n     * ])\n     * ```\n     *\n     * See spec for definition of merkle multiproofs:\n     * https://github.com/ethereum/consensus-specs/blob/dev/ssz/merkle-proofs.md#merkle-multiproofs\n     */\n    createProof(paths) {\n        return this.type.tree_createProof(this.node, paths);\n    }\n    /**\n     * Transform the view into a value, from the current node instance.\n     * For ViewDU returns the value of the committed data, so call .commit() before if there are pending changes.\n     */\n    toValue() {\n        return this.type.tree_toValue(this.node);\n    }\n    /** Return a new Tree View instance referencing the same internal `Node`. Drops its existing `Tree` hook if any */\n    clone() {\n        return this.type.getView(new persistent_merkle_tree_1.Tree(this.node));\n    }\n}\nexports.TreeView = TreeView;\n//# sourceMappingURL=abstract.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitArrayTreeView = void 0;\nconst abstract_1 = require(\"./abstract\");\n/**\n * Thin wrapper around BitArray to upstream changes to `tree` on every `this.set()`\n */\nclass BitArrayTreeView extends abstract_1.TreeView {\n    constructor(type, tree) {\n        super();\n        this.type = type;\n        this.tree = tree;\n        this.bitArray = type.tree_toValue(tree.rootNode);\n    }\n    get node() {\n        return this.tree.rootNode;\n    }\n    // Wrapped API from BitArray\n    /** @see BitArray.uint8Array */\n    get uint8Array() {\n        return this.bitArray.uint8Array;\n    }\n    /** @see BitArray.bitLen */\n    get bitLen() {\n        return this.bitArray.bitLen;\n    }\n    /** @see BitArray.get */\n    get(bitIndex) {\n        return this.bitArray.get(bitIndex);\n    }\n    /** @see BitArray.set */\n    set(bitIndex, bit) {\n        this.bitArray.set(bitIndex, bit);\n        // Upstream changes\n        this.tree.rootNode = this.type.value_toTree(this.bitArray);\n    }\n    /** @see BitArray.mergeOrWith */\n    mergeOrWith(bitArray2) {\n        this.bitArray.mergeOrWith(bitArray2);\n    }\n    /** @see BitArray.intersectValues */\n    intersectValues(values) {\n        return this.bitArray.intersectValues(values);\n    }\n    /** @see BitArray.getTrueBitIndexes */\n    getTrueBitIndexes() {\n        return this.bitArray.getTrueBitIndexes();\n    }\n    /** @see BitArray.getSingleTrueBit */\n    getSingleTrueBit() {\n        return this.bitArray.getSingleTrueBit();\n    }\n    /** @see BitArray.toBoolArray */\n    toBoolArray() {\n        return this.bitArray.toBoolArray();\n    }\n}\nexports.BitArrayTreeView = BitArrayTreeView;\n//# sourceMappingURL=bitArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TreeViewDU = void 0;\nconst abstract_1 = require(\"../view/abstract\");\n/* eslint-disable @typescript-eslint/member-ordering  */\n/**\n * A Deferred Update Tree View (`ViewDU`) is a wrapper around a type and\n * a SSZ Node that contains:\n * - data merkleized\n * - some arbitrary caches to speed up data manipulation required by the type\n *\n * **ViewDU**\n * - Best for complex usage where performance is important\n * - Defers changes to when commit is called\n * - Does NOT have a reference to the parent ViewDU\n * - Has caches for fast get / set ops\n */\nclass TreeViewDU extends abstract_1.TreeView {\n    /**\n     * Merkleize view and compute its hashTreeRoot.\n     * Commits any pending changes before computing the root.\n     *\n     * See spec for definition of hashTreeRoot:\n     * https://github.com/ethereum/consensus-specs/blob/dev/ssz/simple-serialize.md#merkleization\n     */\n    hashTreeRoot() {\n        this.commit();\n        return super.hashTreeRoot();\n    }\n    /**\n     * Serialize view to binary data.\n     * Commits any pending changes before computing the root.\n     */\n    serialize() {\n        this.commit();\n        return super.serialize();\n    }\n    /**\n     * Return a new ViewDU instance referencing the same internal `Node`.\n     *\n     * By default it will transfer the cache of this ViewDU to the new cloned instance. Set `dontTransferCache` to true\n     * to NOT transfer the cache to the cloned instance.\n     */\n    clone(dontTransferCache) {\n        if (dontTransferCache) {\n            return this.type.getViewDU(this.node);\n        }\n        else {\n            const cache = this.cache;\n            this.clearCache();\n            return this.type.getViewDU(this.node, cache);\n        }\n    }\n}\nexports.TreeViewDU = TreeViewDU;\n//# sourceMappingURL=abstract.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitArrayTreeViewDU = void 0;\nconst abstract_1 = require(\"./abstract\");\n/**\n * Thin wrapper around BitArray to upstream changes after `this.commit()`\n */\nclass BitArrayTreeViewDU extends abstract_1.TreeViewDU {\n    constructor(type, _rootNode) {\n        super();\n        this.type = type;\n        this._rootNode = _rootNode;\n        /** Cached BitArray instance computed only on demand */\n        this._bitArray = null;\n    }\n    get node() {\n        return this._rootNode;\n    }\n    get cache() {\n        return;\n    }\n    commit() {\n        if (this._bitArray !== null) {\n            this._rootNode = this.type.value_toTree(this._bitArray);\n        }\n    }\n    // Wrapped API from BitArray\n    /** @see BitArray.uint8Array */\n    get uint8Array() {\n        return this.bitArray.uint8Array;\n    }\n    /** @see BitArray.bitLen */\n    get bitLen() {\n        return this.bitArray.bitLen;\n    }\n    /** @see BitArray.get */\n    get(bitIndex) {\n        return this.bitArray.get(bitIndex);\n    }\n    /** @see BitArray.set */\n    set(bitIndex, bit) {\n        this.bitArray.set(bitIndex, bit);\n    }\n    /** @see BitArray.mergeOrWith */\n    mergeOrWith(bitArray2) {\n        this.bitArray.mergeOrWith(bitArray2);\n    }\n    /** @see BitArray.intersectValues */\n    intersectValues(values) {\n        return this.bitArray.intersectValues(values);\n    }\n    /** @see BitArray.getTrueBitIndexes */\n    getTrueBitIndexes() {\n        return this.bitArray.getTrueBitIndexes();\n    }\n    /** @see BitArray.getSingleTrueBit */\n    getSingleTrueBit() {\n        return this.bitArray.getSingleTrueBit();\n    }\n    /** @see BitArray.toBoolArray */\n    toBoolArray() {\n        return this.bitArray.toBoolArray();\n    }\n    /** Lazily computed bitArray instance */\n    get bitArray() {\n        if (this._bitArray === null) {\n            this._bitArray = this.type.tree_toValue(this._rootNode);\n        }\n        return this._bitArray;\n    }\n    clearCache() {\n        this._bitArray = null;\n    }\n}\nexports.BitArrayTreeViewDU = BitArrayTreeViewDU;\n//# sourceMappingURL=bitArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitArrayType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst byteArray_1 = require(\"../util/byteArray\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst composite_1 = require(\"./composite\");\nconst bitArray_1 = require(\"../view/bitArray\");\nconst bitArray_2 = require(\"../viewDU/bitArray\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/**\n * BitArray: ordered array collection of boolean values\n * - Value: `BitArray`, @see BitArray for a justification of its memory efficiency and performance\n * - View: `BitArrayTreeView`\n * - ViewDU: `BitArrayTreeViewDU`\n */\nclass BitArrayType extends composite_1.CompositeType {\n    constructor() {\n        super(...arguments);\n        this.isViewMutable = true;\n    }\n    getView(tree) {\n        return new bitArray_1.BitArrayTreeView(this, tree);\n    }\n    getViewDU(node) {\n        return new bitArray_2.BitArrayTreeViewDU(this, node);\n    }\n    commitView(view) {\n        return view.node;\n    }\n    commitViewDU(view) {\n        view.commit();\n        return view.node;\n    }\n    cacheOfViewDU(view) {\n        return view.cache;\n    }\n    // Merkleization\n    getRoots(value) {\n        return merkleize_1.splitIntoRootChunks(value.uint8Array);\n    }\n    // Proofs\n    getPropertyGindex() {\n        // Stop navigating below this type. Must only request complete data\n        return null;\n    }\n    getPropertyType() {\n        /* istanbul ignore next - unreachable code, getPropertyGindex null return prevents this call */\n        throw Error(\"Must only request BitArray complete data\");\n    }\n    getIndexProperty() {\n        /* istanbul ignore next - unreachable code, getPropertyGindex null return prevents this call */\n        throw Error(\"Must only request BitArray complete data\");\n    }\n    tree_fromProofNode(node) {\n        return { node, done: true };\n    }\n    tree_getLeafGindices(rootGindex, rootNode) {\n        const byteLen = this.tree_getByteLen(rootNode);\n        const chunkCount = Math.ceil(byteLen / 32);\n        const startIndex = persistent_merkle_tree_1.concatGindices([rootGindex, persistent_merkle_tree_1.toGindex(this.depth, BigInt(0))]);\n        const gindices = new Array(chunkCount);\n        for (let i = 0, gindex = startIndex; i < chunkCount; i++, gindex++) {\n            gindices[i] = gindex;\n        }\n        // include the length chunk\n        if (this.isList) {\n            gindices.push(persistent_merkle_tree_1.concatGindices([rootGindex, composite_1.LENGTH_GINDEX]));\n        }\n        return gindices;\n    }\n    // JSON\n    fromJson(json) {\n        const uint8Array = byteArray_1.fromHexString(json);\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        // value_deserializeFromBytes MUST validate length (limit, or length)\n        return this.value_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n    }\n    toJson(value) {\n        return byteArray_1.toHexString(this.serialize(value));\n    }\n    clone(value) {\n        return value.clone();\n    }\n    equals(a, b) {\n        return a.bitLen === b.bitLen && byteArray_1.byteArrayEquals(a.uint8Array, b.uint8Array);\n    }\n}\nexports.BitArrayType = BitArrayType;\n//# sourceMappingURL=bitArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitListType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nconst bitArray_1 = require(\"../value/bitArray\");\nconst bitArray_2 = require(\"./bitArray\");\n/**\n * BitList: ordered variable-length collection of boolean values, limited to N bits\n * - Notation `Bitlist[N]`\n * - Value: `BitArray`, @see BitArray for a justification of its memory efficiency and performance\n * - View: `BitArrayTreeView`\n * - ViewDU: `BitArrayTreeViewDU`\n */\nclass BitListType extends bitArray_2.BitArrayType {\n    constructor(limitBits, opts) {\n        super();\n        this.limitBits = limitBits;\n        this.fixedSize = null;\n        this.minSize = 1; // +1 for the extra padding bit\n        this.isList = true;\n        if (limitBits === 0)\n            throw Error(\"List limit must be > 0\");\n        this.typeName = opts?.typeName ?? `BitList[${limitBits}]`;\n        // TODO Check that itemsPerChunk is an integer\n        this.maxChunkCount = Math.ceil(this.limitBits / 8 / 32);\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        // Depth includes the extra level for the length node\n        this.depth = 1 + this.chunkDepth;\n        this.maxSize = Math.ceil(limitBits / 8) + 1; // +1 for the extra padding bit\n    }\n    static named(limitBits, opts) {\n        return new (named_1.namedClass(BitListType, opts.typeName))(limitBits, opts);\n    }\n    defaultValue() {\n        return bitArray_1.BitArray.fromBitLen(0);\n    }\n    // Views: inherited from BitArrayType\n    // Serialization + deserialization\n    value_serializedSize(value) {\n        return bitLenToSerializedLength(value.bitLen);\n    }\n    value_serializeToBytes(output, offset, value) {\n        output.uint8Array.set(value.uint8Array, offset);\n        return applyPaddingBit(output.uint8Array, offset, value.bitLen);\n    }\n    value_deserializeFromBytes(data, start, end) {\n        const { uint8Array, bitLen } = this.deserializeUint8ArrayBitListFromBytes(data.uint8Array, start, end);\n        return new bitArray_1.BitArray(uint8Array, bitLen);\n    }\n    tree_serializedSize(node) {\n        return bitLenToSerializedLength(arrayBasic_1.getLengthFromRootNode(node));\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const chunksNode = arrayBasic_1.getChunksNodeFromRootNode(node);\n        const bitLen = arrayBasic_1.getLengthFromRootNode(node);\n        const byteLen = Math.ceil(bitLen / 8);\n        const chunkLen = Math.ceil(byteLen / 32);\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(chunksNode, this.chunkDepth, 0, chunkLen);\n        persistent_merkle_tree_1.packedNodeRootsToBytes(output.dataView, offset, byteLen, nodes);\n        return applyPaddingBit(output.uint8Array, offset, bitLen);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        const { uint8Array, bitLen } = this.deserializeUint8ArrayBitListFromBytes(data.uint8Array, start, end);\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        const chunksNode = persistent_merkle_tree_1.packedRootsBytesToNode(this.chunkDepth, dataView, 0, uint8Array.length);\n        return arrayBasic_1.addLengthNode(chunksNode, bitLen);\n    }\n    tree_getByteLen(node) {\n        if (!node)\n            throw new Error(\"BitListType requires a node to get leaves\");\n        return Math.ceil(arrayBasic_1.getLengthFromRootNode(node) / 8);\n    }\n    // Merkleization: inherited from BitArrayType\n    hashTreeRoot(value) {\n        return merkleize_1.mixInLength(super.hashTreeRoot(value), value.bitLen);\n    }\n    // Proofs: inherited from BitArrayType\n    // JSON: inherited from BitArrayType\n    // Deserializer helpers\n    deserializeUint8ArrayBitListFromBytes(data, start, end) {\n        const { uint8Array, bitLen } = deserializeUint8ArrayBitListFromBytes(data, start, end);\n        if (bitLen > this.limitBits) {\n            throw Error(`bitLen over limit ${bitLen} > ${this.limitBits}`);\n        }\n        return { uint8Array, bitLen };\n    }\n}\nexports.BitListType = BitListType;\nfunction deserializeUint8ArrayBitListFromBytes(data, start, end) {\n    if (end > data.length) {\n        throw Error(`BitList attempting to read byte ${end} of data length ${data.length}`);\n    }\n    const lastByte = data[end - 1];\n    const size = end - start;\n    if (lastByte === 0) {\n        throw new Error(\"Invalid deserialized bitlist, padding bit required\");\n    }\n    if (lastByte === 1) {\n        // Buffer.prototype.slice does not copy memory, Enforce Uint8Array usage https://github.com/nodejs/node/issues/28087\n        const uint8Array = Uint8Array.prototype.slice.call(data, start, end - 1);\n        const bitLen = (size - 1) * 8;\n        return { uint8Array, bitLen };\n    }\n    // the last byte is > 1, so a padding bit will exist in the last byte and need to be removed\n    // Buffer.prototype.slice does not copy memory, Enforce Uint8Array usage https://github.com/nodejs/node/issues/28087\n    const uint8Array = Uint8Array.prototype.slice.call(data, start, end);\n    // mask lastChunkByte\n    const lastByteBitLength = lastByte.toString(2).length - 1;\n    const bitLen = (size - 1) * 8 + lastByteBitLength;\n    const mask = 0xff >> (8 - lastByteBitLength);\n    uint8Array[size - 1] &= mask;\n    return { uint8Array, bitLen };\n}\nfunction bitLenToSerializedLength(bitLen) {\n    const bytes = Math.ceil(bitLen / 8);\n    // +1 for the extra padding bit\n    return bitLen % 8 === 0 ? bytes + 1 : bytes;\n}\n/**\n * Apply padding bit to a serialized BitList already written to `output` at `offset`\n * @returns New offset after (maybe) writting a padding bit.\n */\nfunction applyPaddingBit(output, offset, bitLen) {\n    const byteLen = Math.ceil(bitLen / 8);\n    const newOffset = offset + byteLen;\n    if (bitLen % 8 === 0) {\n        output[newOffset] = 1;\n        return newOffset + 1;\n    }\n    else {\n        output[newOffset - 1] |= 1 << bitLen % 8;\n        return newOffset;\n    }\n}\n//# sourceMappingURL=bitList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BitVectorType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst bitArray_1 = require(\"../value/bitArray\");\nconst bitArray_2 = require(\"./bitArray\");\n/**\n * BitVector: ordered fixed-length collection of boolean values, with N bits\n * - Notation: `Bitvector[N]`\n * - Value: `BitArray`, @see BitArray for a justification of its memory efficiency and performance\n * - View: `BitArrayTreeView`\n * - ViewDU: `BitArrayTreeViewDU`\n */\nclass BitVectorType extends bitArray_2.BitArrayType {\n    constructor(lengthBits, opts) {\n        super();\n        this.lengthBits = lengthBits;\n        this.isList = false;\n        if (lengthBits === 0)\n            throw Error(\"Vector length must be > 0\");\n        this.typeName = opts?.typeName ?? `BitVector[${lengthBits}]`;\n        this.chunkCount = Math.ceil(this.lengthBits / 8 / 32);\n        this.maxChunkCount = this.chunkCount;\n        this.depth = merkleize_1.maxChunksToDepth(this.chunkCount);\n        this.fixedSize = Math.ceil(this.lengthBits / 8);\n        this.minSize = this.fixedSize;\n        this.maxSize = this.fixedSize;\n        // To cache mask for trailing zero bits validation\n        this.zeroBitsMask = lengthBits % 8 === 0 ? 0 : 0xff & (0xff << lengthBits % 8);\n    }\n    static named(limitBits, opts) {\n        return new (named_1.namedClass(BitVectorType, opts.typeName))(limitBits, opts);\n    }\n    defaultValue() {\n        return bitArray_1.BitArray.fromBitLen(this.lengthBits);\n    }\n    // Views: inherited from BitArrayType\n    // Serialization + deserialization\n    value_serializedSize() {\n        return this.fixedSize;\n    }\n    value_serializeToBytes(output, offset, value) {\n        output.uint8Array.set(value.uint8Array, offset);\n        return offset + this.fixedSize;\n    }\n    value_deserializeFromBytes(data, start, end) {\n        this.assertValidLength(data.uint8Array, start, end);\n        // Buffer.prototype.slice does not copy memory, Enforce Uint8Array usage https://github.com/nodejs/node/issues/28087\n        return new bitArray_1.BitArray(Uint8Array.prototype.slice.call(data.uint8Array, start, end), this.lengthBits);\n    }\n    tree_serializedSize() {\n        return this.fixedSize;\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, this.depth, 0, this.chunkCount);\n        persistent_merkle_tree_1.packedNodeRootsToBytes(output.dataView, offset, this.fixedSize, nodes);\n        return offset + this.fixedSize;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        this.assertValidLength(data.uint8Array, start, end);\n        return persistent_merkle_tree_1.packedRootsBytesToNode(this.depth, data.dataView, start, end);\n    }\n    tree_getByteLen() {\n        return this.fixedSize;\n    }\n    // Merkleization: inherited from BitArrayType\n    // Proofs: inherited from BitArrayType\n    // JSON: inherited from BitArrayType\n    // Deserializer helpers\n    assertValidLength(data, start, end) {\n        const size = end - start;\n        if (end - start !== this.fixedSize) {\n            throw Error(`Invalid BitVector size ${size} != ${this.fixedSize}`);\n        }\n        // If lengthBits is not aligned to bytes, ensure trailing bits are zeroed\n        if (\n        // If zeroBitsMask == 0, then the BitVector uses full bytes only\n        this.zeroBitsMask > 0 &&\n            // if the last byte is partial, retrieve it and use the cached mask to check if trailing bits are zeroed\n            (data[end - 1] & this.zeroBitsMask) > 0) {\n            throw Error(\"BitVector: nonzero bits past length\");\n        }\n    }\n}\nexports.BitVectorType = BitVectorType;\n//# sourceMappingURL=bitVector.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBasicType = exports.BasicType = void 0;\nconst abstract_1 = require(\"./abstract\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/**\n * Represents a basic type as defined in the spec:\n * https://github.com/ethereum/consensus-specs/blob/dev/ssz/simple-serialize.md#basic-types\n */\nclass BasicType extends abstract_1.Type {\n    constructor() {\n        super(...arguments);\n        this.isBasic = true;\n        // Basic types merkleize to exactly one chunk, thus depth of 0\n        this.depth = 0;\n        // Basic types merkleize to exactly one chunk\n        this.maxChunkCount = 1;\n    }\n    value_serializedSize() {\n        return this.byteLength;\n    }\n    tree_serializedSize() {\n        return this.byteLength;\n    }\n    assertValidSize(size) {\n        if (size !== this.byteLength) {\n            throw Error(`BasicType invalid size ${size} expected ${this.byteLength}`);\n        }\n    }\n    hashTreeRoot(value) {\n        // TODO: Optimize\n        const uint8Array = new Uint8Array(32);\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        this.value_serializeToBytes({ uint8Array, dataView }, 0, value);\n        return uint8Array;\n    }\n    clone(value) {\n        // All basic types are represented by primitive Javascript types, don't require clone\n        return value;\n    }\n    equals(a, b) {\n        // All basic types are represented by primitive Javascript types, the operator === is sufficient\n        return a === b;\n    }\n}\nexports.BasicType = BasicType;\nfunction isBasicType(type) {\n    return type.isBasic;\n}\nexports.isBasicType = isBasicType;\n//# sourceMappingURL=basic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BooleanType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst named_1 = require(\"../util/named\");\nconst basic_1 = require(\"./basic\");\n/**\n * Boolean: True or False\n * - Notation: `boolean`\n */\nclass BooleanType extends basic_1.BasicType {\n    constructor(opts) {\n        super();\n        this.byteLength = 1;\n        this.itemsPerChunk = 32;\n        this.fixedSize = 1;\n        this.minSize = 1;\n        this.maxSize = 1;\n        this.typeName = opts?.typeName ?? \"boolean\";\n    }\n    static named(opts) {\n        return new (named_1.namedClass(BooleanType, opts.typeName))(opts);\n    }\n    defaultValue() {\n        return false;\n    }\n    // Serialization + deserialization\n    value_serializeToBytes(output, offset, value) {\n        output.uint8Array[offset] = value ? 1 : 0;\n        return offset + 1;\n    }\n    value_deserializeFromBytes(data, start, end) {\n        this.assertValidSize(end - start);\n        switch (data.uint8Array[start]) {\n            case 1:\n                return true;\n            case 0:\n                return false;\n            default:\n                throw new Error(`Boolean: invalid value: ${data.uint8Array[start]}`);\n        }\n    }\n    tree_serializeToBytes(output, offset, node) {\n        // TODO: Assumes LeafNode has 4 byte uints are primary unit\n        output.uint8Array[offset] = node.getUint(4, 0);\n        return offset + 1;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        this.assertValidSize(end - start);\n        const value = data.uint8Array[start];\n        if (value > 1) {\n            throw Error(`Boolean: invalid value ${value}`);\n        }\n        return persistent_merkle_tree_1.LeafNode.fromUint32(value);\n    }\n    // Fast tree opts\n    tree_getFromNode(leafNode) {\n        return leafNode.getUint(4, 0) === 1;\n    }\n    tree_setToNode(leafNode, value) {\n        leafNode.setUint(4, 0, value ? 1 : 0);\n    }\n    tree_getFromPackedNode(leafNode, index) {\n        const offsetBytes = index % this.itemsPerChunk;\n        return leafNode.getUint(1, offsetBytes) !== 0;\n    }\n    tree_setToPackedNode(leafNode, index, value) {\n        const offsetBytes = index % this.itemsPerChunk;\n        leafNode.setUint(1, offsetBytes, value ? 1 : 0);\n    }\n    // JSON\n    fromJson(json) {\n        if (typeof json !== \"boolean\") {\n            throw Error(`JSON invalid type ${typeof json} expected boolean`);\n        }\n        return json;\n    }\n    toJson(value) {\n        return value;\n    }\n}\nexports.BooleanType = BooleanType;\n//# sourceMappingURL=boolean.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ByteArrayType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst byteArray_1 = require(\"../util/byteArray\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst composite_1 = require(\"./composite\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/**\n * ByteArray: ordered array collection of byte values\n * - Value: `Uint8Array`\n * - View: `Uint8Array`\n * - ViewDU: `Uint8Array`\n *\n * ByteArray is an immutable value which is represented by a Uint8Array for memory efficiency and performance.\n * Note: Consumers of this type MUST never mutate the `Uint8Array` representation of a ByteArray.\n */\nclass ByteArrayType extends composite_1.CompositeType {\n    constructor() {\n        super(...arguments);\n        this.isViewMutable = false;\n    }\n    defaultValue() {\n        // Since it's a byte array the minSize is bytes is the default size\n        return new Uint8Array(this.minSize);\n    }\n    getView(tree) {\n        return this.getViewDU(tree.rootNode);\n    }\n    getViewDU(node) {\n        return this.tree_toValue(node);\n    }\n    commitView(view) {\n        return this.commitViewDU(view);\n    }\n    commitViewDU(view) {\n        const uint8Array = new Uint8Array(this.value_serializedSize(view));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        this.value_serializeToBytes({ uint8Array, dataView }, 0, view);\n        return this.tree_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n    }\n    cacheOfViewDU() {\n        return;\n    }\n    // Over-write to prevent serialize + deserialize\n    toView(value) {\n        return value;\n    }\n    toViewDU(value) {\n        return value;\n    }\n    // Serialization + deserialization (only value is generic)\n    value_serializeToBytes(output, offset, value) {\n        output.uint8Array.set(value, offset);\n        return offset + value.length;\n    }\n    value_deserializeFromBytes(data, start, end) {\n        this.assertValidSize(end - start);\n        return Uint8Array.prototype.slice.call(data.uint8Array, start, end);\n    }\n    // Merkleization\n    getRoots(value) {\n        return merkleize_1.splitIntoRootChunks(value);\n    }\n    // Proofs\n    getPropertyGindex() {\n        // Stop navigating below this type. Must only request complete data\n        return null;\n    }\n    getPropertyType() {\n        throw Error(\"Must only request ByteArray complete data\");\n    }\n    getIndexProperty() {\n        throw Error(\"Must only request ByteArray complete data\");\n    }\n    tree_fromProofNode(node) {\n        return { node, done: true };\n    }\n    tree_getLeafGindices(rootGindex, rootNode) {\n        const byteLen = this.tree_getByteLen(rootNode);\n        const chunkCount = Math.ceil(byteLen / 32);\n        const startIndex = persistent_merkle_tree_1.concatGindices([rootGindex, persistent_merkle_tree_1.toGindex(this.depth, BigInt(0))]);\n        const gindices = new Array(chunkCount);\n        for (let i = 0, gindex = startIndex; i < chunkCount; i++, gindex++) {\n            gindices[i] = gindex;\n        }\n        // include the length chunk\n        if (this.isList) {\n            gindices.push(persistent_merkle_tree_1.concatGindices([rootGindex, composite_1.LENGTH_GINDEX]));\n        }\n        return gindices;\n    }\n    // JSON\n    fromJson(json) {\n        const value = byteArray_1.fromHexString(json);\n        this.assertValidSize(value.length);\n        return value;\n    }\n    toJson(value) {\n        return byteArray_1.toHexString(value);\n    }\n    // ByteArray is immutable\n    clone(value) {\n        return value;\n    }\n    equals(a, b) {\n        return byteArray_1.byteArrayEquals(a, b);\n    }\n}\nexports.ByteArrayType = ByteArrayType;\n//# sourceMappingURL=byteArray.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ByteListType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nconst byteArray_1 = require(\"./byteArray\");\n/**\n * ByteList: Immutable alias of List[byte, N]\n * - Notation: `ByteList[N]`\n * - Value: `Uint8Array`\n * - View: `Uint8Array`\n * - ViewDU: `Uint8Array`\n *\n * ByteList is an immutable value which is represented by a Uint8Array for memory efficiency and performance.\n * Note: Consumers of this type MUST never mutate the `Uint8Array` representation of a ByteList.\n *\n * For a `ByteListType` with mutability, use `ListBasicType(byteType)`\n */\nclass ByteListType extends byteArray_1.ByteArrayType {\n    constructor(limitBytes, opts) {\n        super();\n        this.limitBytes = limitBytes;\n        this.fixedSize = null;\n        this.isList = true;\n        if (limitBytes === 0)\n            throw Error(\"List limit must be > 0\");\n        this.typeName = opts?.typeName ?? `ByteList[${limitBytes}]`;\n        this.maxChunkCount = Math.ceil(this.limitBytes / 32);\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        this.depth = 1 + this.chunkDepth;\n        this.minSize = 0;\n        this.maxSize = this.limitBytes;\n    }\n    static named(limitBits, opts) {\n        return new (named_1.namedClass(ByteListType, opts.typeName))(limitBits, opts);\n    }\n    // Views: inherited from ByteArrayType\n    // Serialization + deserialization\n    value_serializedSize(value) {\n        return value.length;\n    }\n    // value_* inherited from ByteArrayType\n    tree_serializedSize(node) {\n        return arrayBasic_1.getLengthFromRootNode(node);\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const chunksNode = arrayBasic_1.getChunksNodeFromRootNode(node);\n        const byteLen = arrayBasic_1.getLengthFromRootNode(node);\n        const chunkLen = Math.ceil(byteLen / 32);\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(chunksNode, this.chunkDepth, 0, chunkLen);\n        persistent_merkle_tree_1.packedNodeRootsToBytes(output.dataView, offset, byteLen, nodes);\n        return offset + byteLen;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        this.assertValidSize(end - start);\n        const chunksNode = persistent_merkle_tree_1.packedRootsBytesToNode(this.chunkDepth, data.dataView, start, end);\n        return arrayBasic_1.addLengthNode(chunksNode, end - start);\n    }\n    tree_getByteLen(node) {\n        if (!node)\n            throw new Error(\"ByteListType requires a node to get leaves\");\n        return arrayBasic_1.getLengthFromRootNode(node);\n    }\n    // Merkleization: inherited from ByteArrayType\n    hashTreeRoot(value) {\n        return merkleize_1.mixInLength(super.hashTreeRoot(value), value.length);\n    }\n    // Proofs: inherited from BitArrayType\n    // JSON: inherited from ByteArrayType\n    assertValidSize(size) {\n        if (size > this.limitBytes) {\n            throw Error(`ByteList invalid size ${size} limit ${this.limitBytes}`);\n        }\n    }\n}\nexports.ByteListType = ByteListType;\n//# sourceMappingURL=byteList.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ByteVectorType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst byteArray_1 = require(\"./byteArray\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/**\n * ByteVector: Immutable alias of Vector[byte, N]\n * - Notation: `ByteVector[N]`\n * - Value: `Uint8Array`\n * - View: `Uint8Array`\n * - ViewDU: `Uint8Array`\n *\n * ByteVector is an immutable value which is represented by a Uint8Array for memory efficiency and performance.\n * Note: Consumers of this type MUST never mutate the `Uint8Array` representation of a ByteVector.\n *\n * For a `ByteVectorType` with mutability, use `VectorBasicType(byteType)`\n */\nclass ByteVectorType extends byteArray_1.ByteArrayType {\n    constructor(lengthBytes, opts) {\n        super();\n        this.lengthBytes = lengthBytes;\n        this.isList = false;\n        if (lengthBytes === 0)\n            throw Error(\"Vector length must be > 0\");\n        this.typeName = opts?.typeName ?? `ByteVector[${lengthBytes}]`;\n        this.maxChunkCount = Math.ceil(this.lengthBytes / 32);\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        this.depth = this.chunkDepth;\n        this.fixedSize = this.lengthBytes;\n        this.minSize = this.fixedSize;\n        this.maxSize = this.fixedSize;\n    }\n    static named(limitBits, opts) {\n        return new (named_1.namedClass(ByteVectorType, opts.typeName))(limitBits, opts);\n    }\n    // Views: inherited from ByteArrayType\n    // Serialization + deserialization\n    value_serializedSize() {\n        return this.fixedSize;\n    }\n    // value_* inherited from ByteArrayType\n    tree_serializedSize() {\n        return this.fixedSize;\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, this.chunkDepth, 0, this.maxChunkCount);\n        persistent_merkle_tree_1.packedNodeRootsToBytes(output.dataView, offset, this.fixedSize, nodes);\n        return offset + this.fixedSize;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        this.assertValidSize(end - start);\n        return persistent_merkle_tree_1.packedRootsBytesToNode(this.chunkDepth, data.dataView, start, end);\n    }\n    tree_getByteLen() {\n        return this.lengthBytes;\n    }\n    // Merkleization: inherited from ByteArrayType\n    // Proofs: inherited from BitArrayType\n    // JSON: inherited from ByteArrayType\n    assertValidSize(size) {\n        if (size !== this.lengthBytes) {\n            throw Error(`ByteVector invalid size ${size} expected ${this.lengthBytes}`);\n        }\n    }\n}\nexports.ByteVectorType = ByteVectorType;\n//# sourceMappingURL=byteVector.js.map","/*! Case - v1.6.2 - 2020-03-24\n* Copyright (c) 2020 Nathan Bubna; Licensed MIT, GPL */\n(function() {\n    \"use strict\";\n    var unicodes = function(s, prefix) {\n        prefix = prefix || '';\n        return s.replace(/(^|-)/g, '$1\\\\u'+prefix).replace(/,/g, '\\\\u'+prefix);\n    },\n    basicSymbols = unicodes('20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7', '00'),\n    baseLowerCase = 'a-z'+unicodes('DF-F6,F8-FF', '00'),\n    baseUpperCase = 'A-Z'+unicodes('C0-D6,D8-DE', '00'),\n    improperInTitle = 'A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\\\.?|Via',\n    regexps = function(symbols, lowers, uppers, impropers) {\n        symbols = symbols || basicSymbols;\n        lowers = lowers || baseLowerCase;\n        uppers = uppers || baseUpperCase;\n        impropers = impropers || improperInTitle;\n        return {\n            capitalize: new RegExp('(^|['+symbols+'])(['+lowers+'])', 'g'),\n            pascal: new RegExp('(^|['+symbols+'])+(['+lowers+uppers+'])', 'g'),\n            fill: new RegExp('['+symbols+']+(.|$)','g'),\n            sentence: new RegExp('(^\\\\s*|[\\\\?\\\\!\\\\.]+\"?\\\\s+\"?|,\\\\s+\")(['+lowers+'])', 'g'),\n            improper: new RegExp('\\\\b('+impropers+')\\\\b', 'g'),\n            relax: new RegExp('([^'+uppers+'])(['+uppers+']*)(['+uppers+'])(?=[^'+uppers+']|$)', 'g'),\n            upper: new RegExp('^[^'+lowers+']+$'),\n            hole: /[^\\s]\\s[^\\s]/,\n            apostrophe: /'/g,\n            room: new RegExp('['+symbols+']')\n        };\n    },\n    re = regexps(),\n    _ = {\n        re: re,\n        unicodes: unicodes,\n        regexps: regexps,\n        types: [],\n        up: String.prototype.toUpperCase,\n        low: String.prototype.toLowerCase,\n        cap: function(s) {\n            return _.up.call(s.charAt(0))+s.slice(1);\n        },\n        decap: function(s) {\n            return _.low.call(s.charAt(0))+s.slice(1);\n        },\n        deapostrophe: function(s) {\n            return s.replace(re.apostrophe, '');\n        },\n        fill: function(s, fill, deapostrophe) {\n            if (fill != null) {\n                s = s.replace(re.fill, function(m, next) {\n                    return next ? fill + next : '';\n                });\n            }\n            if (deapostrophe) {\n                s = _.deapostrophe(s);\n            }\n            return s;\n        },\n        prep: function(s, fill, pascal, upper) {\n            s = s == null ? '' : s + '';// force to string\n            if (!upper && re.upper.test(s)) {\n                s = _.low.call(s);\n            }\n            if (!fill && !re.hole.test(s)) {\n                var holey = _.fill(s, ' ');\n                if (re.hole.test(holey)) {\n                    s = holey;\n                }\n            }\n            if (!pascal && !re.room.test(s)) {\n                s = s.replace(re.relax, _.relax);\n            }\n            return s;\n        },\n        relax: function(m, before, acronym, caps) {\n            return before + ' ' + (acronym ? acronym+' ' : '') + caps;\n        }\n    },\n    Case = {\n        _: _,\n        of: function(s) {\n            for (var i=0,m=_.types.length; i<m; i++) {\n                if (Case[_.types[i]].apply(Case, arguments) === s){ return _.types[i]; }\n            }\n        },\n        flip: function(s) {\n            return s.replace(/\\w/g, function(l) {\n                return (l == _.up.call(l) ? _.low : _.up).call(l);\n            });\n        },\n        random: function(s) {\n            return s.replace(/\\w/g, function(l) {\n                return (Math.round(Math.random()) ? _.up : _.low).call(l);\n            });\n        },\n        type: function(type, fn) {\n            Case[type] = fn;\n            _.types.push(type);\n        }\n    },\n    types = {\n        lower: function(s, fill, deapostrophe) {\n            return _.fill(_.low.call(_.prep(s, fill)), fill, deapostrophe);\n        },\n        snake: function(s) {\n            return Case.lower(s, '_', true);\n        },\n        constant: function(s) {\n            return Case.upper(s, '_', true);\n        },\n        camel: function(s) {\n            return _.decap(Case.pascal(s));\n        },\n        kebab: function(s) {\n            return Case.lower(s, '-', true);\n        },\n        upper: function(s, fill, deapostrophe) {\n            return _.fill(_.up.call(_.prep(s, fill, false, true)), fill, deapostrophe);\n        },\n        capital: function(s, fill, deapostrophe) {\n            return _.fill(_.prep(s).replace(re.capitalize, function(m, border, letter) {\n                return border+_.up.call(letter);\n            }), fill, deapostrophe);\n        },\n        header: function(s) {\n            return Case.capital(s, '-', true);\n        },\n        pascal: function(s) {\n            return _.fill(_.prep(s, false, true).replace(re.pascal, function(m, border, letter) {\n                return _.up.call(letter);\n            }), '', true);\n        },\n        title: function(s) {\n            return Case.capital(s).replace(re.improper, function(small, p, i, s) {\n                return i > 0 && i < s.lastIndexOf(' ') ? _.low.call(small) : small;\n            });\n        },\n        sentence: function(s, names, abbreviations) {\n            s = Case.lower(s).replace(re.sentence, function(m, prelude, letter) {\n                return prelude + _.up.call(letter);\n            });\n            if (names) {\n                names.forEach(function(name) {\n                    s = s.replace(new RegExp('\\\\b'+Case.lower(name)+'\\\\b', \"g\"), _.cap);\n                });\n            }\n            if (abbreviations) {\n                abbreviations.forEach(function(abbr) {\n                    s = s.replace(new RegExp('(\\\\b'+Case.lower(abbr)+'\\\\. +)(\\\\w)'), function(m, abbrAndSpace, letter) {\n                        return abbrAndSpace + _.low.call(letter);\n                    });\n                });\n            }\n            return s;\n        }\n    };\n\n    // TODO: Remove \"squish\" in a future breaking release.\n    types.squish = types.pascal;\n    \n    // Allow import default\n    Case.default = Case;\n\n    for (var type in types) {\n        Case.type(type, types[type]);\n    }\n    // export Case (AMD, commonjs, or global)\n    var define = typeof define === \"function\" ? define : function(){};\n    define(typeof module === \"object\" && module.exports ? module.exports = Case : this.Case = Case);\n\n}).call(this);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getContainerTreeViewClass = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst basic_1 = require(\"../type/basic\");\nconst composite_1 = require(\"../type/composite\");\nconst abstract_1 = require(\"./abstract\");\n/**\n * Intented usage:\n *\n * - Get initial BeaconState from disk.\n * - Before applying next block, switch to mutable\n * - Get some field, create a view in mutable mode\n * - Do modifications of the state in the state transition function\n * - When done, commit and apply new root node once to og BeaconState\n * - However, keep all the caches and transfer them to the new BeaconState\n *\n * Questions:\n * - Can the child views created in mutable mode switch to not mutable? If so, it seems that it needs to recursively\n *   iterate the entire data structure and views\n *\n */\nclass ContainerTreeView extends abstract_1.TreeView {\n    constructor(type, tree) {\n        super();\n        this.type = type;\n        this.tree = tree;\n    }\n    get node() {\n        return this.tree.rootNode;\n    }\n}\nfunction getContainerTreeViewClass(type) {\n    class CustomContainerTreeView extends ContainerTreeView {\n    }\n    // Dynamically define prototype methods\n    for (let index = 0; index < type.fieldsEntries.length; index++) {\n        const { fieldName, fieldType } = type.fieldsEntries[index];\n        // If the field type is basic, the value to get and set will be the actual 'struct' value (i.e. a JS number).\n        // The view must use the tree_getFromNode() and tree_setToNode() methods to persist the struct data to the node,\n        // and use the cached views array to store the new node.\n        if (basic_1.isBasicType(fieldType)) {\n            Object.defineProperty(CustomContainerTreeView.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // TODO: Review the memory cost of this closures\n                get: function () {\n                    const leafNode = persistent_merkle_tree_1.getNodeAtDepth(this.node, this.type.depth, index);\n                    return fieldType.tree_getFromNode(leafNode);\n                },\n                set: function (value) {\n                    const leafNodePrev = persistent_merkle_tree_1.getNodeAtDepth(this.node, this.type.depth, index);\n                    const leafNode = leafNodePrev.clone();\n                    fieldType.tree_setToNode(leafNode, value);\n                    this.tree.setNodeAtDepth(this.type.depth, index, leafNode);\n                },\n            });\n        }\n        // If the field type is composite, the value to get and set will be another TreeView. The parent TreeView must\n        // cache the view itself to retain the caches of the child view. To set a value the view must return a node to\n        // set it to the parent tree in the field gindex.\n        else if (composite_1.isCompositeType(fieldType)) {\n            Object.defineProperty(CustomContainerTreeView.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // Returns TreeView of fieldName\n                get: function () {\n                    const gindex = persistent_merkle_tree_1.toGindexBitstring(this.type.depth, index);\n                    return fieldType.getView(this.tree.getSubtree(gindex));\n                },\n                // Expects TreeView of fieldName\n                set: function (value) {\n                    const node = fieldType.commitView(value);\n                    this.tree.setNodeAtDepth(this.type.depth, index, node);\n                },\n            });\n        }\n        // Should never happen\n        else {\n            /* istanbul ignore next - unreachable code */\n            throw Error(`Unknown fieldType ${fieldType.typeName} for fieldName ${fieldName}`);\n        }\n    }\n    // Change class name\n    Object.defineProperty(CustomContainerTreeView, \"name\", { value: type.typeName, writable: false });\n    return CustomContainerTreeView;\n}\nexports.getContainerTreeViewClass = getContainerTreeViewClass;\n//# sourceMappingURL=container.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getContainerTreeViewDUClass = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst basic_1 = require(\"../type/basic\");\nconst composite_1 = require(\"../type/composite\");\nconst abstract_1 = require(\"./abstract\");\nclass ContainerTreeViewDU extends abstract_1.TreeViewDU {\n    constructor(type, _rootNode, cache) {\n        super();\n        this.type = type;\n        this._rootNode = _rootNode;\n        this.nodes = [];\n        this.nodesChanged = new Set();\n        this.viewsChanged = new Map();\n        if (cache) {\n            this.nodes = cache.nodes;\n            this.caches = cache.caches;\n            this.nodesPopulated = cache.nodesPopulated;\n        }\n        else {\n            this.nodes = [];\n            this.caches = [];\n            this.nodesPopulated = false;\n        }\n    }\n    get node() {\n        return this._rootNode;\n    }\n    get cache() {\n        return {\n            nodes: this.nodes,\n            caches: this.caches,\n            nodesPopulated: this.nodesPopulated,\n        };\n    }\n    commit() {\n        if (this.nodesChanged.size === 0 && this.viewsChanged.size === 0) {\n            return;\n        }\n        const nodesChanged = [];\n        for (const [index, view] of this.viewsChanged) {\n            const fieldType = this.type.fieldsEntries[index].fieldType;\n            const node = fieldType.commitViewDU(view);\n            // Set new node in nodes array to ensure data represented in the tree and fast nodes access is equal\n            this.nodes[index] = node;\n            nodesChanged.push({ index, node });\n            // Cache the view's caches to preserve it's data after 'this.viewsChanged.clear()'\n            const cache = fieldType.cacheOfViewDU(view);\n            if (cache)\n                this.caches[index] = cache;\n        }\n        for (const index of this.nodesChanged) {\n            nodesChanged.push({ index, node: this.nodes[index] });\n        }\n        // TODO: Optimize to loop only once, Numerical sort ascending\n        const nodesChangedSorted = nodesChanged.sort((a, b) => a.index - b.index);\n        const indexes = nodesChangedSorted.map((entry) => entry.index);\n        const nodes = nodesChangedSorted.map((entry) => entry.node);\n        this._rootNode = persistent_merkle_tree_1.setNodesAtDepth(this._rootNode, this.type.depth, indexes, nodes);\n        this.nodesChanged.clear();\n        this.viewsChanged.clear();\n    }\n    clearCache() {\n        this.nodes = [];\n        this.caches = [];\n        this.nodesPopulated = false;\n        // Must clear nodesChanged, otherwise a subsequent commit call will break, because it assumes a node is there\n        this.nodesChanged.clear();\n        // It's not necessary to clear this.viewsChanged since they have no effect on the cache.\n        // However preserving _SOME_ caches results in a very unpredictable experience.\n        this.viewsChanged.clear();\n    }\n}\nfunction getContainerTreeViewDUClass(type) {\n    class CustomContainerTreeViewDU extends ContainerTreeViewDU {\n    }\n    // Dynamically define prototype methods\n    for (let index = 0; index < type.fieldsEntries.length; index++) {\n        const { fieldName, fieldType } = type.fieldsEntries[index];\n        // If the field type is basic, the value to get and set will be the actual 'struct' value (i.e. a JS number).\n        // The view must use the tree_getFromNode() and tree_setToNode() methods to persist the struct data to the node,\n        // and use the cached views array to store the new node.\n        if (basic_1.isBasicType(fieldType)) {\n            Object.defineProperty(CustomContainerTreeViewDU.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // TODO: Review the memory cost of this closures\n                get: function () {\n                    // First walk through the tree to get the root node for that index\n                    let node = this.nodes[index];\n                    if (node === undefined) {\n                        node = persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, index);\n                        this.nodes[index] = node;\n                    }\n                    return fieldType.tree_getFromNode(node);\n                },\n                set: function (value) {\n                    // Create new node if current leafNode is not dirty\n                    let nodeChanged;\n                    if (this.nodesChanged.has(index)) {\n                        // TODO: This assumes that node has already been populated\n                        nodeChanged = this.nodes[index];\n                    }\n                    else {\n                        const nodePrev = (this.nodes[index] ?? persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, index));\n                        nodeChanged = nodePrev.clone();\n                        // Store the changed node in the nodes cache\n                        this.nodes[index] = nodeChanged;\n                        this.nodesChanged.add(index);\n                    }\n                    fieldType.tree_setToNode(nodeChanged, value);\n                },\n            });\n        }\n        // If the field type is composite, the value to get and set will be another TreeView. The parent TreeView must\n        // cache the view itself to retain the caches of the child view. To set a value the view must return a node to\n        // set it to the parent tree in the field gindex.\n        else if (composite_1.isCompositeType(fieldType)) {\n            Object.defineProperty(CustomContainerTreeViewDU.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // Returns TreeViewDU of fieldName\n                get: function () {\n                    const viewChanged = this.viewsChanged.get(index);\n                    if (viewChanged) {\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                        return viewChanged;\n                    }\n                    let node = this.nodes[index];\n                    if (node === undefined) {\n                        node = persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, index);\n                        this.nodes[index] = node;\n                    }\n                    // Keep a reference to the new view to call .commit on it latter, only if mutable\n                    const view = fieldType.getViewDU(node, this.caches[index]);\n                    if (fieldType.isViewMutable) {\n                        this.viewsChanged.set(index, view);\n                    }\n                    // No need to persist the child's view cache since a second get returns this view instance.\n                    // The cache is only persisted on commit where the viewsChanged map is dropped.\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                    return view;\n                },\n                // Expects TreeViewDU of fieldName\n                set: function (view) {\n                    // When setting a view:\n                    // - Not necessary to commit node\n                    // - Not necessary to persist cache\n                    // Just keeping a reference to the view in this.viewsChanged ensures consistency\n                    this.viewsChanged.set(index, view);\n                },\n            });\n        }\n        // Should never happen\n        else {\n            /* istanbul ignore next - unreachable code */\n            throw Error(`Unknown fieldType ${fieldType.typeName} for fieldName ${fieldName}`);\n        }\n    }\n    // Change class name\n    Object.defineProperty(CustomContainerTreeViewDU, \"name\", { value: type.typeName, writable: false });\n    return CustomContainerTreeViewDU;\n}\nexports.getContainerTreeViewDUClass = getContainerTreeViewDUClass;\n//# sourceMappingURL=container.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderContainerTypeName = exports.precomputeJsonKey = exports.ContainerType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst case_1 = __importDefault(require(\"case\"));\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst composite_1 = require(\"./composite\");\nconst container_1 = require(\"../view/container\");\nconst container_2 = require(\"../viewDU/container\");\n/**\n * Container: ordered heterogeneous collection of values\n * - Notation: Custom name per instance\n */\nclass ContainerType extends composite_1.CompositeType {\n    constructor(fields, opts) {\n        super(opts?.cachePermanentRootStruct);\n        this.fields = fields;\n        this.opts = opts;\n        this.isList = false;\n        this.isViewMutable = true;\n        // Render detailed typeName. Consumers should overwrite since it can get long\n        this.typeName = opts?.typeName ?? renderContainerTypeName(fields);\n        this.maxChunkCount = Object.keys(fields).length;\n        this.depth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        // Precalculated data for faster serdes\n        this.fieldsEntries = [];\n        for (const fieldName of Object.keys(fields)) {\n            this.fieldsEntries.push({\n                fieldName,\n                fieldType: this.fields[fieldName],\n                jsonKey: precomputeJsonKey(fieldName, opts?.casingMap, opts?.jsonCase),\n                gindex: persistent_merkle_tree_1.toGindex(this.depth, BigInt(this.fieldsEntries.length)),\n            });\n        }\n        if (this.fieldsEntries.length === 0) {\n            throw Error(\"Container must have > 0 fields\");\n        }\n        // Precalculate for Proofs API\n        this.fieldsGindex = {};\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            this.fieldsGindex[this.fieldsEntries[i].fieldName] = persistent_merkle_tree_1.toGindex(this.depth, BigInt(i));\n        }\n        // To resolve JSON paths in fieldName notation and jsonKey notation\n        this.jsonKeyToFieldName = {};\n        for (const { fieldName, jsonKey } of this.fieldsEntries) {\n            this.jsonKeyToFieldName[jsonKey] = fieldName;\n        }\n        const { minLen, maxLen, fixedSize } = precomputeSizes(fields);\n        this.minSize = minLen;\n        this.maxSize = maxLen;\n        this.fixedSize = fixedSize;\n        const { isFixedLen, fieldRangesFixedLen, variableOffsetsPosition, fixedEnd } = precomputeSerdesData(fields);\n        this.isFixedLen = isFixedLen;\n        this.fieldRangesFixedLen = fieldRangesFixedLen;\n        this.variableOffsetsPosition = variableOffsetsPosition;\n        this.fixedEnd = fixedEnd;\n        // TODO: This options are necessary for ContainerNodeStruct to override this.\n        // Refactor this constructor to allow customization without pollutin the options\n        this.TreeView = opts?.getContainerTreeViewClass?.(this) ?? container_1.getContainerTreeViewClass(this);\n        this.TreeViewDU = opts?.getContainerTreeViewDUClass?.(this) ?? container_2.getContainerTreeViewDUClass(this);\n    }\n    static named(fields, opts) {\n        return new (named_1.namedClass(ContainerType, opts.typeName))(fields, opts);\n    }\n    defaultValue() {\n        const value = {};\n        for (const { fieldName, fieldType } of this.fieldsEntries) {\n            value[fieldName] = fieldType.defaultValue();\n        }\n        return value;\n    }\n    getView(tree) {\n        return new this.TreeView(this, tree);\n    }\n    getViewDU(node, cache) {\n        return new this.TreeViewDU(this, node, cache);\n    }\n    cacheOfViewDU(view) {\n        return view.cache;\n    }\n    commitView(view) {\n        return view.node;\n    }\n    commitViewDU(view) {\n        view.commit();\n        return view.node;\n    }\n    // Serialization + deserialization\n    // -------------------------------\n    // Containers can mix fixed length and variable length data.\n    //\n    // Fixed part                         Variable part\n    // [field1 offset][field2 data       ][field1 data               ]\n    // [0x000000c]    [0xaabbaabbaabbaabb][0xffffffffffffffffffffffff]\n    value_serializedSize(value) {\n        let totalSize = 0;\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            // Offset (4 bytes) + size\n            totalSize +=\n                fieldType.fixedSize === null ? 4 + fieldType.value_serializedSize(value[fieldName]) : fieldType.fixedSize;\n        }\n        return totalSize;\n    }\n    value_serializeToBytes(output, offset, value) {\n        let fixedIndex = offset;\n        let variableIndex = offset + this.fixedEnd;\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            if (fieldType.fixedSize === null) {\n                // write offset\n                output.dataView.setUint32(fixedIndex, variableIndex - offset, true);\n                fixedIndex += 4;\n                // write serialized element to variable section\n                variableIndex = fieldType.value_serializeToBytes(output, variableIndex, value[fieldName]);\n            }\n            else {\n                fixedIndex = fieldType.value_serializeToBytes(output, fixedIndex, value[fieldName]);\n            }\n        }\n        return variableIndex;\n    }\n    value_deserializeFromBytes(data, start, end) {\n        const fieldRanges = this.getFieldRanges(data.dataView, start, end);\n        const value = {};\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            const fieldRange = fieldRanges[i];\n            value[fieldName] = fieldType.value_deserializeFromBytes(data, start + fieldRange.start, start + fieldRange.end);\n        }\n        return value;\n    }\n    tree_serializedSize(node) {\n        let totalSize = 0;\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, this.depth, 0, this.fieldsEntries.length);\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldType } = this.fieldsEntries[i];\n            const node = nodes[i];\n            // Offset (4 bytes) + size\n            totalSize += fieldType.fixedSize === null ? 4 + fieldType.tree_serializedSize(node) : fieldType.fixedSize;\n        }\n        return totalSize;\n    }\n    tree_serializeToBytes(output, offset, node) {\n        let fixedIndex = offset;\n        let variableIndex = offset + this.fixedEnd;\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, this.depth, 0, this.fieldsEntries.length);\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldType } = this.fieldsEntries[i];\n            const node = nodes[i];\n            if (fieldType.fixedSize === null) {\n                // write offset\n                output.dataView.setUint32(fixedIndex, variableIndex - offset, true);\n                fixedIndex += 4;\n                // write serialized element to variable section\n                variableIndex = fieldType.tree_serializeToBytes(output, variableIndex, node);\n            }\n            else {\n                fixedIndex = fieldType.tree_serializeToBytes(output, fixedIndex, node);\n            }\n        }\n        return variableIndex;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        const fieldRanges = this.getFieldRanges(data.dataView, start, end);\n        const nodes = new Array(this.fieldsEntries.length);\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldType } = this.fieldsEntries[i];\n            const fieldRange = fieldRanges[i];\n            nodes[i] = fieldType.tree_deserializeFromBytes(data, start + fieldRange.start, start + fieldRange.end);\n        }\n        return persistent_merkle_tree_1.subtreeFillToContents(nodes, this.depth);\n    }\n    // Merkleization\n    getRoots(struct) {\n        const roots = new Array(this.fieldsEntries.length);\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            roots[i] = fieldType.hashTreeRoot(struct[fieldName]);\n        }\n        return roots;\n    }\n    // Proofs\n    // getPropertyGindex\n    // getPropertyType\n    // tree_getLeafGindices\n    getPropertyGindex(prop) {\n        const gindex = this.fieldsGindex[prop] ?? this.fieldsGindex[this.jsonKeyToFieldName[prop]];\n        if (gindex === undefined)\n            throw Error(`Unknown container property ${prop}`);\n        return gindex;\n    }\n    getPropertyType(prop) {\n        const type = this.fields[prop] ?? this.fields[this.jsonKeyToFieldName[prop]];\n        if (type === undefined)\n            throw Error(`Unknown container property ${prop}`);\n        return type;\n    }\n    getIndexProperty(index) {\n        if (index >= this.fieldsEntries.length) {\n            return null;\n        }\n        return this.fieldsEntries[index].fieldName;\n    }\n    tree_getLeafGindices(rootGindex, rootNode) {\n        const gindices = [];\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            const fieldGindex = this.fieldsGindex[fieldName];\n            const fieldGindexFromRoot = persistent_merkle_tree_1.concatGindices([rootGindex, fieldGindex]);\n            if (fieldType.isBasic) {\n                gindices.push(fieldGindexFromRoot);\n            }\n            else {\n                const compositeType = fieldType;\n                if (fieldType.fixedSize === null) {\n                    if (!rootNode) {\n                        throw new Error(\"variable type requires tree argument to get leaves\");\n                    }\n                    gindices.push(...compositeType.tree_getLeafGindices(fieldGindexFromRoot, persistent_merkle_tree_1.getNode(rootNode, fieldGindex)));\n                }\n                else {\n                    gindices.push(...compositeType.tree_getLeafGindices(fieldGindexFromRoot));\n                }\n            }\n        }\n        return gindices;\n    }\n    // JSON\n    fromJson(json) {\n        if (typeof json !== \"object\") {\n            throw Error(\"JSON must be of type object\");\n        }\n        if (json === null) {\n            throw Error(\"JSON must not be null\");\n        }\n        const value = {};\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType, jsonKey } = this.fieldsEntries[i];\n            const jsonValue = json[jsonKey];\n            if (jsonValue === undefined) {\n                throw Error(`JSON expected key ${jsonKey} is undefined`);\n            }\n            value[fieldName] = fieldType.fromJson(jsonValue);\n        }\n        return value;\n    }\n    toJson(value) {\n        const json = {};\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType, jsonKey } = this.fieldsEntries[i];\n            json[jsonKey] = fieldType.toJson(value[fieldName]);\n        }\n        return json;\n    }\n    clone(value) {\n        const newValue = {};\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            newValue[fieldName] = fieldType.clone(value[fieldName]);\n        }\n        return newValue;\n    }\n    equals(a, b) {\n        for (let i = 0; i < this.fieldsEntries.length; i++) {\n            const { fieldName, fieldType } = this.fieldsEntries[i];\n            if (!fieldType.equals(a[fieldName], b[fieldName])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Deserializer helper: Returns the bytes ranges of all fields, both variable and fixed size.\n     * Fields may not be contiguous in the serialized bytes, so the returned ranges are [start, end].\n     * - For fixed size fields re-uses the pre-computed values this.fieldRangesFixedLen\n     * - For variable size fields does a first pass over the fixed section to read offsets\n     */\n    getFieldRanges(data, start, end) {\n        if (this.variableOffsetsPosition.length === 0) {\n            // Validate fixed length container\n            const size = end - start;\n            if (size !== this.fixedEnd) {\n                throw Error(`${this.typeName} size ${size} not equal fixed size ${this.fixedEnd}`);\n            }\n            return this.fieldRangesFixedLen;\n        }\n        // Read offsets in one pass\n        const offsets = readVariableOffsets(data, start, end, this.fixedEnd, this.variableOffsetsPosition);\n        offsets.push(end - start); // The offsets are relative to the start\n        // Merge fieldRangesFixedLen + offsets in one array\n        let variableIdx = 0;\n        let fixedIdx = 0;\n        const fieldRanges = new Array(this.isFixedLen.length);\n        for (let i = 0; i < this.isFixedLen.length; i++) {\n            if (this.isFixedLen[i]) {\n                // push from fixLen ranges ++\n                fieldRanges[i] = this.fieldRangesFixedLen[fixedIdx++];\n            }\n            else {\n                // push from varLen ranges ++\n                fieldRanges[i] = { start: offsets[variableIdx], end: offsets[variableIdx + 1] };\n                variableIdx++;\n            }\n        }\n        return fieldRanges;\n    }\n}\nexports.ContainerType = ContainerType;\n/**\n * Returns the byte ranges of all variable size fields.\n */\nfunction readVariableOffsets(data, start, end, fixedEnd, variableOffsetsPosition) {\n    // Since variable-sized values can be interspersed with fixed-sized values, we precalculate\n    // the offset indices so we can more easily deserialize the fields in once pass first we get the fixed sizes\n    // Note: `fixedSizes[i] = null` if that field has variable length\n    const size = end - start;\n    // with the fixed sizes, we can read the offsets, and store for our single pass\n    const offsets = new Array(variableOffsetsPosition.length);\n    for (let i = 0; i < variableOffsetsPosition.length; i++) {\n        const offset = data.getUint32(start + variableOffsetsPosition[i], true);\n        // Validate offsets. If the list is empty the offset points to the end of the buffer, offset == size\n        if (offset > size) {\n            throw new Error(`Offset out of bounds ${offset} > ${size}`);\n        }\n        if (i === 0) {\n            if (offset !== fixedEnd) {\n                throw new Error(`First offset must equal to fixedEnd ${offset} != ${fixedEnd}`);\n            }\n        }\n        else {\n            if (offset < offsets[i - 1]) {\n                throw new Error(`Offsets must be increasing ${offset} < ${offsets[i - 1]}`);\n            }\n        }\n        offsets[i] = offset;\n    }\n    return offsets;\n}\n/**\n * Precompute fixed and variable offsets position for faster deserialization.\n * @returns Does a single pass over all fields and returns:\n * - isFixedLen: If field index [i] is fixed length\n * - fieldRangesFixedLen: For fields with fixed length, their range of bytes\n * - variableOffsetsPosition: Position of the 4 bytes offset for variable size fields\n * - fixedEnd: End of the fixed size range\n * -\n */\nfunction precomputeSerdesData(fields) {\n    const isFixedLen = [];\n    const fieldRangesFixedLen = [];\n    const variableOffsetsPosition = [];\n    let pointerFixed = 0;\n    for (const fieldType of Object.values(fields)) {\n        isFixedLen.push(fieldType.fixedSize !== null);\n        if (fieldType.fixedSize === null) {\n            // Variable length\n            variableOffsetsPosition.push(pointerFixed);\n            pointerFixed += 4;\n        }\n        else {\n            fieldRangesFixedLen.push({ start: pointerFixed, end: pointerFixed + fieldType.fixedSize });\n            pointerFixed += fieldType.fixedSize;\n        }\n    }\n    return {\n        isFixedLen,\n        fieldRangesFixedLen,\n        variableOffsetsPosition,\n        fixedEnd: pointerFixed,\n    };\n}\n/**\n * Precompute sizes of the Container doing one pass over fields\n */\nfunction precomputeSizes(fields) {\n    let minLen = 0;\n    let maxLen = 0;\n    let fixedSize = 0;\n    for (const fieldType of Object.values(fields)) {\n        minLen += fieldType.minSize;\n        maxLen += fieldType.maxSize;\n        if (fieldType.fixedSize === null) {\n            // +4 for the offset\n            minLen += 4;\n            maxLen += 4;\n            fixedSize = null;\n        }\n        else if (fixedSize !== null) {\n            fixedSize += fieldType.fixedSize;\n        }\n    }\n    return { minLen, maxLen, fixedSize };\n}\n/**\n * Compute the JSON key for each fieldName. There will exist a single JSON representation for each type.\n * To transform JSON payloads to a casing that is different from the type's defined use external tooling.\n */\nfunction precomputeJsonKey(fieldName, casingMap, jsonCase) {\n    if (casingMap) {\n        const keyFromCaseMap = casingMap[fieldName];\n        if (keyFromCaseMap === undefined) {\n            throw Error(`casingMap[${fieldName}] not defined`);\n        }\n        return keyFromCaseMap;\n    }\n    else if (jsonCase) {\n        if (jsonCase === \"eth2\") {\n            const snake = case_1.default.snake(fieldName);\n            return snake.replace(/(\\d)$/, \"_$1\");\n        }\n        else {\n            return case_1.default[jsonCase](fieldName);\n        }\n    }\n    else {\n        return fieldName;\n    }\n}\nexports.precomputeJsonKey = precomputeJsonKey;\n/**\n * Render field typeNames for a detailed typeName of this Container\n */\nfunction renderContainerTypeName(fields, prefix = \"Container\") {\n    const fieldNames = Object.keys(fields);\n    const fieldTypeNames = fieldNames.map((fieldName) => `${fieldName}: ${fields[fieldName].typeName}`).join(\", \");\n    return `${prefix}({${fieldTypeNames}})`;\n}\nexports.renderContainerTypeName = renderContainerTypeName;\n//# sourceMappingURL=container.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchNodeStruct = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\n/**\n * BranchNode whose children's data is represented as a struct, not a tree.\n *\n * This approach is usefull for memory efficiency of data that is not modified often, for example the validators\n * registry in Ethereum consensus `state.validators`. The tradeoff is that getting the hash, are proofs is more\n * expensive because the tree has to be recreated every time.\n */\nclass BranchNodeStruct extends persistent_merkle_tree_1.Node {\n    constructor(valueToNode, value) {\n        // First null value is to save an extra variable to check if a node has a root or not\n        super(null, 0, 0, 0, 0, 0, 0, 0);\n        this.valueToNode = valueToNode;\n        this.value = value;\n    }\n    get rootHashObject() {\n        if (this.h0 === null) {\n            const node = this.valueToNode(this.value);\n            super.applyHash(node.rootHashObject);\n        }\n        return this;\n    }\n    get root() {\n        return persistent_merkle_tree_1.hashObjectToUint8Array(this.rootHashObject);\n    }\n    isLeaf() {\n        return false;\n    }\n    get left() {\n        return this.valueToNode(this.value).left;\n    }\n    get right() {\n        return this.valueToNode(this.value).right;\n    }\n}\nexports.BranchNodeStruct = BranchNodeStruct;\n//# sourceMappingURL=branchNodeStruct.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getContainerTreeViewClass = void 0;\nconst composite_1 = require(\"../type/composite\");\nconst branchNodeStruct_1 = require(\"../branchNodeStruct\");\nconst abstract_1 = require(\"./abstract\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/**\n * Intented usage:\n *\n * - Get initial BeaconState from disk.\n * - Before applying next block, switch to mutable\n * - Get some field, create a view in mutable mode\n * - Do modifications of the state in the state transition function\n * - When done, commit and apply new root node once to og BeaconState\n * - However, keep all the caches and transfer them to the new BeaconState\n *\n * Questions:\n * - Can the child views created in mutable mode switch to not mutable? If so, it seems that it needs to recursively\n *   iterate the entire data structure and views\n *\n */\nclass ContainerTreeView extends abstract_1.TreeView {\n    constructor(type, tree) {\n        super();\n        this.type = type;\n        this.tree = tree;\n    }\n    get node() {\n        return this.tree.rootNode;\n    }\n}\nfunction getContainerTreeViewClass(type) {\n    class CustomContainerTreeView extends ContainerTreeView {\n    }\n    // Dynamically define prototype methods\n    for (let index = 0; index < type.fieldsEntries.length; index++) {\n        const { fieldName, fieldType } = type.fieldsEntries[index];\n        // If the field type is basic, the value to get and set will be the actual 'struct' value (i.e. a JS number).\n        // The view must use the tree_getFromNode() and tree_setToNode() methods to persist the struct data to the node,\n        // and use the cached views array to store the new node.\n        if (fieldType.isBasic) {\n            Object.defineProperty(CustomContainerTreeView.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // TODO: Review the memory cost of this closures\n                get: function () {\n                    return this.tree.rootNode.value[fieldName];\n                },\n                set: function (value) {\n                    const node = this.tree.rootNode;\n                    const newNodeValue = this.type.clone(node.value);\n                    // TODO: Should this check for valid field name? Benchmark the cost\n                    newNodeValue[fieldName] = value;\n                    this.tree.rootNode = new branchNodeStruct_1.BranchNodeStruct(node[\"valueToNode\"], newNodeValue);\n                },\n            });\n        }\n        // If the field type is composite, the value to get and set will be another TreeView. The parent TreeView must\n        // cache the view itself to retain the caches of the child view. To set a value the view must return a node to\n        // set it to the parent tree in the field gindex.\n        else if (composite_1.isCompositeType(fieldType)) {\n            Object.defineProperty(CustomContainerTreeView.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // Returns TreeView of fieldName\n                get: function () {\n                    const { value } = this.tree.rootNode;\n                    return fieldType.toView(value[fieldName]);\n                },\n                // Expects TreeView of fieldName\n                set: function (view) {\n                    const node = this.tree.rootNode;\n                    const newNodeValue = this.type.clone(node.value);\n                    // TODO: Should this check for valid field name? Benchmark the cost\n                    newNodeValue[fieldName] = fieldType.toValueFromView(view);\n                    this.tree.rootNode = new branchNodeStruct_1.BranchNodeStruct(node[\"valueToNode\"], newNodeValue);\n                },\n            });\n        }\n        // Should never happen\n        else {\n            /* istanbul ignore next - unreachable code */\n            throw Error(`Unknown fieldType ${fieldType.typeName} for fieldName ${fieldName}`);\n        }\n    }\n    // Change class name\n    Object.defineProperty(CustomContainerTreeView, \"name\", { value: type.typeName, writable: false });\n    return CustomContainerTreeView;\n}\nexports.getContainerTreeViewClass = getContainerTreeViewClass;\n//# sourceMappingURL=containerNodeStruct.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getContainerTreeViewDUClass = void 0;\nconst composite_1 = require(\"../type/composite\");\nconst abstract_1 = require(\"./abstract\");\n/* eslint-disable @typescript-eslint/member-ordering */\nclass ContainerTreeViewDU extends abstract_1.TreeViewDU {\n    constructor(type, node) {\n        super();\n        this.type = type;\n        this.valueChanged = null;\n        this._rootNode = node;\n    }\n    get node() {\n        return this._rootNode;\n    }\n    get cache() {\n        return;\n    }\n    commit() {\n        if (this.valueChanged === null) {\n            return;\n        }\n        const value = this.valueChanged;\n        this.valueChanged = null;\n        this._rootNode = this.type.value_toTree(value);\n    }\n    clearCache() {\n        this.valueChanged = null;\n    }\n}\nfunction getContainerTreeViewDUClass(type) {\n    class CustomContainerTreeViewDU extends ContainerTreeViewDU {\n    }\n    // Dynamically define prototype methods\n    for (let index = 0; index < type.fieldsEntries.length; index++) {\n        const { fieldName, fieldType } = type.fieldsEntries[index];\n        // If the field type is basic, the value to get and set will be the actual 'struct' value (i.e. a JS number).\n        // The view must use the tree_getFromNode() and tree_setToNode() methods to persist the struct data to the node,\n        // and use the cached views array to store the new node.\n        if (fieldType.isBasic) {\n            Object.defineProperty(CustomContainerTreeViewDU.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // TODO: Review the memory cost of this closures\n                get: function () {\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                    return (this.valueChanged || this._rootNode.value)[fieldName];\n                },\n                set: function (value) {\n                    if (this.valueChanged === null) {\n                        this.valueChanged = this.type.clone(this._rootNode.value);\n                    }\n                    this.valueChanged[fieldName] = value;\n                },\n            });\n        }\n        // If the field type is composite, the value to get and set will be another TreeView. The parent TreeView must\n        // cache the view itself to retain the caches of the child view. To set a value the view must return a node to\n        // set it to the parent tree in the field gindex.\n        else if (composite_1.isCompositeType(fieldType)) {\n            Object.defineProperty(CustomContainerTreeViewDU.prototype, fieldName, {\n                configurable: false,\n                enumerable: true,\n                // Returns TreeViewDU of fieldName\n                get: function () {\n                    const value = this.valueChanged || this._rootNode.value;\n                    return fieldType.toViewDU(value[fieldName]);\n                },\n                // Expects TreeViewDU of fieldName\n                set: function (view) {\n                    if (this.valueChanged === null) {\n                        this.valueChanged = this.type.clone(this._rootNode.value);\n                    }\n                    const value = fieldType.toValueFromViewDU(view);\n                    this.valueChanged[fieldName] = value;\n                },\n            });\n        }\n        // Should never happen\n        else {\n            /* istanbul ignore next - unreachable code */\n            throw Error(`Unknown fieldType ${fieldType.typeName} for fieldName ${fieldName}`);\n        }\n    }\n    // Change class name\n    Object.defineProperty(CustomContainerTreeViewDU, \"name\", { value: type.typeName, writable: false });\n    return CustomContainerTreeViewDU;\n}\nexports.getContainerTreeViewDUClass = getContainerTreeViewDUClass;\n//# sourceMappingURL=containerNodeStruct.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContainerNodeStructType = void 0;\nconst composite_1 = require(\"./composite\");\nconst container_1 = require(\"./container\");\nconst named_1 = require(\"../util/named\");\nconst containerNodeStruct_1 = require(\"../view/containerNodeStruct\");\nconst containerNodeStruct_2 = require(\"../viewDU/containerNodeStruct\");\nconst branchNodeStruct_1 = require(\"../branchNodeStruct\");\n/**\n * ContainerNodeStruct: ordered heterogeneous collection of values.\n * - Notation: Custom name per instance\n *\n * A ContainerNodeStruct is identical to a Container type except that it represents tree data with a custom\n * BranchNodeStruct node. This special branch node represents the data of its entire sub tree as a value, instead\n * of a tree of nodes. This approach is a tradeoff:\n *\n * - More memory efficient\n * - Faster reads, since it doesn't require parsing merkleized data\n * - Slower hashing, since it has to merkleize the entire value everytime and has not intermediary hashing cache\n *\n * This tradeoff is good for data that is read often, written rarely, and consumes a lot of memory (i.e. Validator)\n */\nclass ContainerNodeStructType extends container_1.ContainerType {\n    constructor(fields, opts) {\n        super(fields, {\n            // Overwrite default \"Container\" typeName\n            // Render detailed typeName. Consumers should overwrite since it can get long\n            typeName: opts?.typeName ?? container_1.renderContainerTypeName(fields, \"ContainerNodeStruct\"),\n            ...opts,\n            getContainerTreeViewClass: containerNodeStruct_1.getContainerTreeViewClass,\n            getContainerTreeViewDUClass: containerNodeStruct_2.getContainerTreeViewDUClass,\n        });\n        this.fields = fields;\n        // ContainerNodeStructType TreeViews don't handle recursive mutable TreeViews like ContainerType does.\n        // Using ContainerNodeStructType for fields that have mutable views (like a ListBasic), will result in\n        // unnexpected behaviour if those child views are mutated.\n        //\n        // For example, this example below won't persist the pushed values to the list:\n        // ```ts\n        // const type = ContainerNodeStructType({a: new ListBasicType(byteType, 1)});\n        // const view = type.defaultViewDU();\n        // view.a.push(0)\n        // ```\n        // because the ListBasicViewDU in view.a will never propagate the changes upwards to its ContainerNodeStructType.\n        for (const { fieldName, fieldType } of this.fieldsEntries) {\n            if (composite_1.isCompositeType(fieldType) && fieldType.isViewMutable) {\n                throw Error(`ContainerNodeStructType field '${fieldName}' ${fieldType.typeName} view is mutable`);\n            }\n        }\n    }\n    static named(fields, opts) {\n        return new (named_1.namedClass(container_1.ContainerType, opts.typeName))(fields, opts);\n    }\n    tree_serializedSize(node) {\n        return this.value_serializedSize(node.value);\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const { value } = node;\n        return this.value_serializeToBytes(output, offset, value);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        const value = this.value_deserializeFromBytes(data, start, end);\n        return new branchNodeStruct_1.BranchNodeStruct(this.valueToTree.bind(this), value);\n    }\n    // Proofs\n    // ContainerNodeStructType can only parse proofs that contain all the data.\n    // TODO: Support converting a partial tree to a partial value\n    getPropertyGindex() {\n        return null;\n    }\n    // Post process tree to convert regular BranchNode to BranchNodeStruct\n    // TODO: Optimize conversions\n    tree_fromProofNode(node) {\n        // TODO: Figure out from `node` alone if it contains complete data.\n        // Otherwise throw a nice error \"ContainerNodeStruct type requires proofs for all its data\"\n        const uint8Array = new Uint8Array(super.tree_serializedSize(node));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        super.tree_serializeToBytes({ uint8Array, dataView }, 0, node);\n        const value = this.value_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n        return {\n            node: new branchNodeStruct_1.BranchNodeStruct(this.valueToTree.bind(this), value),\n            done: true,\n        };\n    }\n    // Overwrites for fast conversion node <-> value\n    tree_toValue(node) {\n        return node.value;\n    }\n    value_toTree(value) {\n        return new branchNodeStruct_1.BranchNodeStruct(this.valueToTree.bind(this), value);\n    }\n    // TODO: Optimize conversion\n    valueToTree(value) {\n        const uint8Array = new Uint8Array(this.value_serializedSize(value));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        this.value_serializeToBytes({ uint8Array, dataView }, 0, value);\n        return super.tree_deserializeFromBytes({ uint8Array, dataView }, 0, uint8Array.length);\n    }\n}\nexports.ContainerNodeStructType = ContainerNodeStructType;\n//# sourceMappingURL=containerNodeStruct.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayBasicTreeView = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst abstract_1 = require(\"./abstract\");\nclass ArrayBasicTreeView extends abstract_1.TreeView {\n    constructor(type, tree) {\n        super();\n        this.type = type;\n        this.tree = tree;\n    }\n    /**\n     * Number of elements in the array. Equal to the Uint32 value of the Tree's length node\n     */\n    get length() {\n        return this.type.tree_getLength(this.tree.rootNode);\n    }\n    get node() {\n        return this.tree.rootNode;\n    }\n    /**\n     * Get element at `index`. Returns the Basic element type value directly\n     */\n    get(index) {\n        // First walk through the tree to get the root node for that index\n        const chunkIndex = Math.floor(index / this.type.itemsPerChunk);\n        const leafNode = this.tree.getNodeAtDepth(this.type.depth, chunkIndex);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return this.type.elementType.tree_getFromPackedNode(leafNode, index);\n    }\n    /**\n     * Set Basic element type `value` at `index`\n     */\n    set(index, value) {\n        const length = this.length;\n        if (index >= length) {\n            throw Error(`Error setting index over length ${index} > ${length}`);\n        }\n        const chunkIndex = Math.floor(index / this.type.itemsPerChunk);\n        const leafNodePrev = this.tree.getNodeAtDepth(this.type.depth, chunkIndex);\n        // Create a new node to preserve immutability\n        const leafNode = leafNodePrev.clone();\n        this.type.elementType.tree_setToPackedNode(leafNode, index, value);\n        // Commit immediately\n        this.tree.setNodeAtDepth(this.type.depth, chunkIndex, leafNode);\n    }\n    /**\n     * Get all values of this array as Basic element type values, from index zero to `this.length - 1`\n     */\n    getAll() {\n        const length = this.length;\n        const chunksNode = this.type.tree_getChunksNode(this.node);\n        const chunkCount = Math.ceil(length / this.type.itemsPerChunk);\n        const leafNodes = persistent_merkle_tree_1.getNodesAtDepth(chunksNode, this.type.chunkDepth, 0, chunkCount);\n        const values = new Array(length);\n        const itemsPerChunk = this.type.itemsPerChunk; // Prevent many access in for loop below\n        const lenFullNodes = Math.floor(length / itemsPerChunk);\n        const remainder = length % itemsPerChunk;\n        for (let n = 0; n < lenFullNodes; n++) {\n            const leafNode = leafNodes[n];\n            // TODO: Implement add a fast bulk packed element reader in the elementType\n            // ```\n            // abstract getValuesFromPackedNode(leafNode: LeafNode, output: V[], indexOffset: number): void;\n            // ```\n            // if performance here is a problem\n            for (let i = 0; i < itemsPerChunk; i++) {\n                values[n * itemsPerChunk + i] = this.type.elementType.tree_getFromPackedNode(leafNode, i);\n            }\n        }\n        if (remainder > 0) {\n            const leafNode = leafNodes[lenFullNodes];\n            for (let i = 0; i < remainder; i++) {\n                values[lenFullNodes * itemsPerChunk + i] = this.type.elementType.tree_getFromPackedNode(leafNode, i);\n            }\n        }\n        return values;\n    }\n}\nexports.ArrayBasicTreeView = ArrayBasicTreeView;\n//# sourceMappingURL=arrayBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListBasicTreeView = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nclass ListBasicTreeView extends arrayBasic_1.ArrayBasicTreeView {\n    constructor(type, tree) {\n        super(type, tree);\n        this.type = type;\n        this.tree = tree;\n    }\n    /**\n     * Adds one value element at the end of the array and adds 1 to the current Tree length.\n     */\n    push(value) {\n        const length = this.length;\n        if (length >= this.type.limit) {\n            throw Error(\"Error pushing over limit\");\n        }\n        this.type.tree_setLength(this.tree, length + 1);\n        // If in new node..\n        if (length % this.type.itemsPerChunk === 0) {\n            // TODO: Optimize: This `inNewNode` could be ommitted but it would cause a full navigation in .set()\n            // Benchmark the cost of that navigation vs the extra math here\n            // TODO: Optimize: prevent double initialization\n            const leafNode = persistent_merkle_tree_1.LeafNode.fromZero();\n            this.type.elementType.tree_setToPackedNode(leafNode, length, value);\n            // Commit immediately\n            const chunkIndex = Math.floor(length / this.type.itemsPerChunk);\n            this.tree.setNodeAtDepth(this.type.depth, chunkIndex, leafNode);\n        }\n        else {\n            // Re-use .set() since no new node is added\n            this.set(length, value);\n        }\n    }\n}\nexports.ListBasicTreeView = ListBasicTreeView;\n//# sourceMappingURL=listBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayBasicTreeViewDU = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst abstract_1 = require(\"./abstract\");\nclass ArrayBasicTreeViewDU extends abstract_1.TreeViewDU {\n    constructor(type, _rootNode, cache) {\n        super();\n        this.type = type;\n        this._rootNode = _rootNode;\n        this.nodesChanged = new Set();\n        this.dirtyLength = false;\n        if (cache) {\n            this.nodes = cache.nodes;\n            this._length = cache.length;\n            this.nodesPopulated = cache.nodesPopulated;\n        }\n        else {\n            this.nodes = [];\n            this._length = this.type.tree_getLength(_rootNode);\n            this.nodesPopulated = false;\n        }\n    }\n    /**\n     * Number of elements in the array. Equal to un-commited length of the array\n     */\n    get length() {\n        return this._length;\n    }\n    get node() {\n        return this._rootNode;\n    }\n    get cache() {\n        return {\n            nodes: this.nodes,\n            length: this._length,\n            nodesPopulated: this.nodesPopulated,\n        };\n    }\n    /**\n     * Get element at `index`. Returns the Basic element type value directly\n     */\n    get(index) {\n        // First walk through the tree to get the root node for that index\n        const chunkIndex = Math.floor(index / this.type.itemsPerChunk);\n        let node = this.nodes[chunkIndex];\n        if (node === undefined) {\n            node = persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, chunkIndex);\n            this.nodes[chunkIndex] = node;\n        }\n        return this.type.elementType.tree_getFromPackedNode(node, index);\n    }\n    /**\n     * Set Basic element type `value` at `index`\n     */\n    set(index, value) {\n        if (index >= this._length) {\n            throw Error(`Error setting index over length ${index} > ${this._length}`);\n        }\n        const chunkIndex = Math.floor(index / this.type.itemsPerChunk);\n        // Create new node if current leafNode is not dirty\n        let nodeChanged;\n        if (this.nodesChanged.has(chunkIndex)) {\n            // TODO: This assumes that node has already been populated\n            nodeChanged = this.nodes[chunkIndex];\n        }\n        else {\n            const nodePrev = (this.nodes[chunkIndex] ??\n                persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, chunkIndex));\n            nodeChanged = nodePrev.clone();\n            // Store the changed node in the nodes cache\n            this.nodes[chunkIndex] = nodeChanged;\n            this.nodesChanged.add(chunkIndex);\n        }\n        this.type.elementType.tree_setToPackedNode(nodeChanged, index, value);\n    }\n    /**\n     * Get all values of this array as Basic element type values, from index zero to `this.length - 1`\n     */\n    getAll() {\n        if (!this.nodesPopulated) {\n            const nodesPrev = this.nodes;\n            const chunksNode = this.type.tree_getChunksNode(this.node);\n            const chunkCount = Math.ceil(this._length / this.type.itemsPerChunk);\n            this.nodes = persistent_merkle_tree_1.getNodesAtDepth(chunksNode, this.type.chunkDepth, 0, chunkCount);\n            // Re-apply changed nodes\n            for (const index of this.nodesChanged) {\n                this.nodes[index] = nodesPrev[index];\n            }\n            this.nodesPopulated = true;\n        }\n        const values = new Array(this._length);\n        const itemsPerChunk = this.type.itemsPerChunk; // Prevent many access in for loop below\n        const lenFullNodes = Math.floor(this._length / itemsPerChunk);\n        const remainder = this._length % itemsPerChunk;\n        // TODO Optimize: caching the variables used in the loop above it\n        for (let n = 0; n < lenFullNodes; n++) {\n            const leafNode = this.nodes[n];\n            // TODO: Implement add a fast bulk packed element reader in the elementType\n            // ```\n            // abstract getValuesFromPackedNode(leafNode: LeafNode, output: V[], indexOffset: number): void;\n            // ```\n            // if performance here is a problem\n            for (let i = 0; i < itemsPerChunk; i++) {\n                values[n * itemsPerChunk + i] = this.type.elementType.tree_getFromPackedNode(leafNode, i);\n            }\n        }\n        if (remainder > 0) {\n            const leafNode = this.nodes[lenFullNodes];\n            for (let i = 0; i < remainder; i++) {\n                values[lenFullNodes * itemsPerChunk + i] = this.type.elementType.tree_getFromPackedNode(leafNode, i);\n            }\n        }\n        return values;\n    }\n    commit() {\n        if (this.nodesChanged.size === 0) {\n            return;\n        }\n        // Numerical sort ascending\n        const indexes = Array.from(this.nodesChanged.keys()).sort((a, b) => a - b);\n        const nodes = new Array(indexes.length);\n        for (let i = 0; i < indexes.length; i++) {\n            nodes[i] = this.nodes[indexes[i]];\n        }\n        const chunksNode = this.type.tree_getChunksNode(this._rootNode);\n        // TODO: Ensure fast setNodesAtDepth() method is correct\n        const newChunksNode = persistent_merkle_tree_1.setNodesAtDepth(chunksNode, this.type.chunkDepth, indexes, nodes);\n        this._rootNode = this.type.tree_setChunksNode(this._rootNode, newChunksNode, this.dirtyLength ? this._length : undefined);\n        this.nodesChanged.clear();\n        this.dirtyLength = false;\n    }\n    clearCache() {\n        this.nodes = [];\n        this.nodesPopulated = false;\n        // Must clear nodesChanged, otherwise a subsequent commit call will break, because it assumes a node is there\n        this.nodesChanged.clear();\n        // Reset cached length only if it has been mutated\n        if (this.dirtyLength) {\n            this._length = this.type.tree_getLength(this._rootNode);\n            this.dirtyLength = false;\n        }\n    }\n}\nexports.ArrayBasicTreeViewDU = ArrayBasicTreeViewDU;\n//# sourceMappingURL=arrayBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListBasicTreeViewDU = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nclass ListBasicTreeViewDU extends arrayBasic_1.ArrayBasicTreeViewDU {\n    constructor(type, _rootNode, cache) {\n        super(type, _rootNode, cache);\n        this.type = type;\n        this._rootNode = _rootNode;\n    }\n    /**\n     * Adds one value element at the end of the array and adds 1 to the un-commited ViewDU length\n     */\n    push(value) {\n        if (this._length >= this.type.limit) {\n            throw Error(\"Error pushing over limit\");\n        }\n        // Mutate length before .set()\n        this.dirtyLength = true;\n        const index = this._length++;\n        // If in new node..\n        if (index % this.type.itemsPerChunk === 0) {\n            // Set a zero node to the nodes array to avoid a navigation downwards in .set()\n            const chunkIndex = Math.floor(index / this.type.itemsPerChunk);\n            this.nodes[chunkIndex] = persistent_merkle_tree_1.zeroNode(0);\n        }\n        this.set(index, value);\n    }\n}\nexports.ListBasicTreeViewDU = ListBasicTreeViewDU;\n//# sourceMappingURL=listBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst composite_1 = require(\"./composite\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/**\n * Array: ordered homogeneous collection\n */\nclass ArrayType extends composite_1.CompositeType {\n    constructor(elementType) {\n        super();\n        this.elementType = elementType;\n    }\n    defaultValue() {\n        return arrayBasic_1.value_defaultValueArray(this.elementType, this.defaultLen);\n    }\n    // Proofs\n    getPropertyType() {\n        return this.elementType;\n    }\n    getPropertyGindex(prop) {\n        if (typeof prop !== \"number\") {\n            throw Error(`Invalid array index: ${prop}`);\n        }\n        const chunkIdx = Math.floor(prop / this.itemsPerChunk);\n        return persistent_merkle_tree_1.toGindex(this.depth, BigInt(chunkIdx));\n    }\n    getIndexProperty(index) {\n        return index;\n    }\n    tree_getLeafGindices(rootGindex, rootNode) {\n        let length;\n        if (this.isList) {\n            if (!rootNode) {\n                throw new Error(\"List type requires tree argument to get leaves\");\n            }\n            length = this.tree_getLength(rootNode);\n        }\n        else {\n            // Vectors don't need a rootNode to return length\n            length = this.tree_getLength(null);\n        }\n        const gindices = [];\n        if (composite_1.isCompositeType(this.elementType)) {\n            // Underlying elements exist one per chunk\n            // Iterate through chunk gindices, recursively fetching leaf gindices from each chunk\n            const startIndex = persistent_merkle_tree_1.toGindex(this.depth, BigInt(0));\n            const endGindex = startIndex + BigInt(length);\n            const extendedStartIndex = persistent_merkle_tree_1.concatGindices([rootGindex, startIndex]);\n            if (this.elementType.fixedSize === null) {\n                if (!rootNode) {\n                    /* istanbul ignore next - unreachable code */\n                    throw new Error(\"Array of variable size requires tree argument to get leaves\");\n                }\n                // variable-length elements must pass the underlying subtrees to determine the length\n                for (let gindex = startIndex, extendedGindex = extendedStartIndex; gindex < endGindex; gindex++, extendedGindex++) {\n                    gindices.push(...this.elementType.tree_getLeafGindices(extendedGindex, persistent_merkle_tree_1.getNode(rootNode, gindex)));\n                }\n            }\n            else {\n                for (let i = 0, extendedGindex = extendedStartIndex; i < length; i++, extendedGindex++) {\n                    gindices.push(...this.elementType.tree_getLeafGindices(extendedGindex));\n                }\n            }\n        }\n        // Basic\n        else {\n            const chunkCount = Math.ceil(length / this.itemsPerChunk);\n            const startIndex = persistent_merkle_tree_1.concatGindices([rootGindex, persistent_merkle_tree_1.toGindex(this.depth, BigInt(0))]);\n            const endGindex = startIndex + BigInt(chunkCount);\n            for (let gindex = startIndex; gindex < endGindex; gindex++) {\n                gindices.push(gindex);\n            }\n        }\n        // include the length chunk\n        if (this.isList) {\n            gindices.push(persistent_merkle_tree_1.concatGindices([rootGindex, composite_1.LENGTH_GINDEX]));\n        }\n        return gindices;\n    }\n    // JSON\n    fromJson(json) {\n        // TODO: Do a better typesafe approach, all final classes of ArrayType implement ArrayProps\n        // There are multiple tests that cover this path for all clases\n        return arrayBasic_1.value_fromJsonArray(this.elementType, json, this);\n    }\n    toJson(value) {\n        return arrayBasic_1.value_toJsonArray(this.elementType, value, this);\n    }\n    clone(value) {\n        return arrayBasic_1.value_cloneArray(this.elementType, value);\n    }\n    equals(a, b) {\n        return arrayBasic_1.value_equals(this.elementType, a, b);\n    }\n}\nexports.ArrayType = ArrayType;\n//# sourceMappingURL=array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListBasicType = void 0;\nconst arrayBasic_1 = require(\"./arrayBasic\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst listBasic_1 = require(\"../view/listBasic\");\nconst listBasic_2 = require(\"../viewDU/listBasic\");\nconst array_1 = require(\"./array\");\n/**\n * List: ordered variable-length homogeneous collection, limited to N values\n *\n * Array of Basic type:\n * - Basic types are max 32 bytes long so multiple values may be packed in the same node.\n * - Basic types are never returned in a view wrapper, but their value representation\n */\nclass ListBasicType extends array_1.ArrayType {\n    constructor(elementType, limit, opts) {\n        super(elementType);\n        this.elementType = elementType;\n        this.limit = limit;\n        this.fixedSize = null;\n        this.isList = true;\n        this.isViewMutable = true;\n        this.defaultLen = 0;\n        if (!elementType.isBasic)\n            throw Error(\"elementType must be basic\");\n        if (limit === 0)\n            throw Error(\"List limit must be > 0\");\n        this.typeName = opts?.typeName ?? `List[${elementType.typeName}, ${limit}]`;\n        // TODO Check that itemsPerChunk is an integer\n        this.itemsPerChunk = 32 / elementType.byteLength;\n        this.maxChunkCount = Math.ceil((this.limit * elementType.byteLength) / 32);\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        // Depth includes the extra level for the length node\n        this.depth = this.chunkDepth + 1;\n        this.minSize = 0;\n        this.maxSize = this.limit * elementType.maxSize;\n    }\n    static named(elementType, limit, opts) {\n        return new (named_1.namedClass(ListBasicType, opts.typeName))(elementType, limit, opts);\n    }\n    getView(tree) {\n        return new listBasic_1.ListBasicTreeView(this, tree);\n    }\n    getViewDU(node, cache) {\n        // cache type should be validated (if applicate) in the view\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new listBasic_2.ListBasicTreeViewDU(this, node, cache);\n    }\n    commitView(view) {\n        return view.node;\n    }\n    commitViewDU(view) {\n        view.commit();\n        return view.node;\n    }\n    cacheOfViewDU(view) {\n        return view.cache;\n    }\n    // Serialization + deserialization\n    value_serializedSize(value) {\n        return value.length * this.elementType.byteLength;\n    }\n    value_serializeToBytes(output, offset, value) {\n        return arrayBasic_1.value_serializeToBytesArrayBasic(this.elementType, value.length, output, offset, value);\n    }\n    value_deserializeFromBytes(data, start, end) {\n        return arrayBasic_1.value_deserializeFromBytesArrayBasic(this.elementType, data, start, end, this);\n    }\n    tree_serializedSize(node) {\n        return this.tree_getLength(node) * this.elementType.byteLength;\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const chunksNode = this.tree_getChunksNode(node);\n        const length = this.tree_getLength(node);\n        return arrayBasic_1.tree_serializeToBytesArrayBasic(this.elementType, length, this.chunkDepth, output, offset, chunksNode);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        return arrayBasic_1.tree_deserializeFromBytesArrayBasic(this.elementType, this.chunkDepth, data, start, end, this);\n    }\n    // Helpers for TreeView\n    tree_getLength(node) {\n        return node.right.getUint(4, 0);\n    }\n    tree_setLength(tree, length) {\n        tree.rootNode = arrayBasic_1.addLengthNode(tree.rootNode.left, length);\n    }\n    tree_getChunksNode(node) {\n        return node.left;\n    }\n    tree_setChunksNode(rootNode, chunksNode, newLength) {\n        return arrayBasic_1.setChunksNode(rootNode, chunksNode, newLength);\n    }\n    // Merkleization\n    hashTreeRoot(value) {\n        return merkleize_1.mixInLength(super.hashTreeRoot(value), value.length);\n    }\n    getRoots(value) {\n        const uint8Array = new Uint8Array(this.value_serializedSize(value));\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        arrayBasic_1.value_serializeToBytesArrayBasic(this.elementType, value.length, { uint8Array, dataView }, 0, value);\n        return merkleize_1.splitIntoRootChunks(uint8Array);\n    }\n}\nexports.ListBasicType = ListBasicType;\n//# sourceMappingURL=listBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.value_getRootsArrayComposite = exports.tree_deserializeFromBytesArrayComposite = exports.tree_serializeToBytesArrayComposite = exports.tree_serializedSizeArrayComposite = exports.value_deserializeFromBytesArrayComposite = exports.value_serializeToBytesArrayComposite = exports.value_serializedSizeArrayComposite = exports.maxSizeArrayComposite = exports.minSizeArrayComposite = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nfunction minSizeArrayComposite(elementType, minCount) {\n    // Variable Length\n    if (elementType.fixedSize === null) {\n        return minCount * (4 + elementType.minSize);\n    }\n    // Fixed length\n    else {\n        return minCount * elementType.minSize;\n    }\n}\nexports.minSizeArrayComposite = minSizeArrayComposite;\nfunction maxSizeArrayComposite(elementType, maxCount) {\n    // Variable Length\n    if (elementType.fixedSize === null) {\n        return maxCount * (4 + elementType.maxSize);\n    }\n    // Fixed length\n    else {\n        return maxCount * elementType.maxSize;\n    }\n}\nexports.maxSizeArrayComposite = maxSizeArrayComposite;\nfunction value_serializedSizeArrayComposite(elementType, length, value) {\n    // Variable Length\n    if (elementType.fixedSize === null) {\n        let size = 0;\n        for (let i = 0; i < length; i++) {\n            size += 4 + elementType.value_serializedSize(value[i]);\n        }\n        return size;\n    }\n    // Fixed length\n    else {\n        return length * elementType.fixedSize;\n    }\n}\nexports.value_serializedSizeArrayComposite = value_serializedSizeArrayComposite;\n/**\n * @param length In List length = value.length, Vector length = fixed value\n */\nfunction value_serializeToBytesArrayComposite(elementType, length, output, offset, value) {\n    // Variable length\n    if (elementType.fixedSize === null) {\n        let variableIndex = offset + length * 4;\n        for (let i = 0; i < length; i++) {\n            // write offset\n            output.dataView.setUint32(offset + i * 4, variableIndex - offset, true);\n            // write serialized element to variable section\n            variableIndex = elementType.value_serializeToBytes(output, variableIndex, value[i]);\n        }\n        return variableIndex;\n    }\n    // Fixed length\n    else {\n        for (let i = 0; i < length; i++) {\n            elementType.value_serializeToBytes(output, offset + i * elementType.fixedSize, value[i]);\n        }\n        return offset + length * elementType.fixedSize;\n    }\n}\nexports.value_serializeToBytesArrayComposite = value_serializeToBytesArrayComposite;\nfunction value_deserializeFromBytesArrayComposite(elementType, data, start, end, arrayProps) {\n    const offsets = readOffsetsArrayComposite(elementType.fixedSize, data.dataView, start, end, arrayProps);\n    const length = offsets.length; // Capture length before pushing end offset\n    const values = new Array(length);\n    // offests include the last element end\n    for (let i = 0; i < length; i++) {\n        // The offsets are relative to the start\n        const startEl = start + offsets[i];\n        const endEl = i === length - 1 ? end : start + offsets[i + 1];\n        values[i] = elementType.value_deserializeFromBytes(data, startEl, endEl);\n    }\n    return values;\n}\nexports.value_deserializeFromBytesArrayComposite = value_deserializeFromBytesArrayComposite;\n/**\n * @param length In List length = value.length, Vector length = fixed value\n */\nfunction tree_serializedSizeArrayComposite(elementType, length, depth, node) {\n    // Variable Length\n    if (elementType.fixedSize === null) {\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, depth, 0, length);\n        let size = 0;\n        for (let i = 0; i < nodes.length; i++) {\n            size += 4 + elementType.tree_serializedSize(nodes[i]);\n        }\n        return size;\n    }\n    // Fixed length\n    else {\n        return length * elementType.fixedSize;\n    }\n}\nexports.tree_serializedSizeArrayComposite = tree_serializedSizeArrayComposite;\n/**\n * @param length In List length = value.length, Vector length = fixed value\n */\nfunction tree_serializeToBytesArrayComposite(elementType, length, depth, node, output, offset) {\n    const nodes = persistent_merkle_tree_1.getNodesAtDepth(node, depth, 0, length);\n    // Variable Length\n    // Indices contain offsets, which are indices deeper in the byte array\n    if (elementType.fixedSize === null) {\n        let variableIndex = offset + length * 4;\n        const { dataView } = output;\n        for (let i = 0; i < nodes.length; i++) {\n            // write offset\n            dataView.setUint32(offset + i * 4, variableIndex - offset, true);\n            // write serialized element to variable section\n            variableIndex = elementType.tree_serializeToBytes(output, variableIndex, nodes[i]);\n        }\n        return variableIndex;\n    }\n    // Fixed length\n    else {\n        for (let i = 0; i < nodes.length; i++) {\n            offset = elementType.tree_serializeToBytes(output, offset, nodes[i]);\n        }\n        return offset;\n    }\n}\nexports.tree_serializeToBytesArrayComposite = tree_serializeToBytesArrayComposite;\nfunction tree_deserializeFromBytesArrayComposite(elementType, chunkDepth, data, start, end, arrayProps) {\n    const offsets = readOffsetsArrayComposite(elementType.fixedSize, data.dataView, start, end, arrayProps);\n    const length = offsets.length; // Capture length before pushing end offset\n    const nodes = new Array(length);\n    // offests include the last element end\n    for (let i = 0; i < length; i++) {\n        // The offsets are relative to the start\n        const startEl = start + offsets[i];\n        const endEl = i === length - 1 ? end : start + offsets[i + 1];\n        nodes[i] = elementType.tree_deserializeFromBytes(data, startEl, endEl);\n    }\n    // Abstract converting data to LeafNode to allow for custom data representation, such as the hashObject\n    const chunksNode = persistent_merkle_tree_1.subtreeFillToContents(nodes, chunkDepth);\n    // TODO: Add LeafNode.fromUint()\n    if (arrayProps.isList) {\n        return arrayBasic_1.addLengthNode(chunksNode, length);\n    }\n    else {\n        return chunksNode;\n    }\n}\nexports.tree_deserializeFromBytesArrayComposite = tree_deserializeFromBytesArrayComposite;\n/**\n * @param length In List length = value.length, Vector length = fixed value\n */\nfunction value_getRootsArrayComposite(elementType, length, value) {\n    const roots = new Array(length);\n    for (let i = 0; i < length; i++) {\n        roots[i] = elementType.hashTreeRoot(value[i]);\n    }\n    return roots;\n}\nexports.value_getRootsArrayComposite = value_getRootsArrayComposite;\nfunction readOffsetsArrayComposite(elementFixedSize, data, start, end, arrayProps) {\n    const size = end - start;\n    let offsets;\n    // Variable Length\n    // Indices contain offsets, which are indices deeper in the byte array\n    if (elementFixedSize === null) {\n        offsets = readVariableOffsetsArrayComposite(data, start, size);\n    }\n    // Fixed length\n    else {\n        // There's no valid CompositeType with fixed size 0, it's un-rechable code. But prevents diving by zero\n        /* istanbul ignore if */\n        if (elementFixedSize === 0) {\n            throw Error(\"element fixed length is 0\");\n        }\n        if (size % elementFixedSize !== 0) {\n            throw Error(`size ${size} is not multiple of element fixedSize ${elementFixedSize}`);\n        }\n        const length = size / elementFixedSize;\n        offsets = new Uint32Array(length);\n        for (let i = 0; i < length; i++) {\n            offsets[i] = i * elementFixedSize;\n        }\n    }\n    // Vector + List length validation\n    arrayBasic_1.assertValidArrayLength(offsets.length, arrayProps);\n    return offsets;\n}\n/**\n * Reads the values of contiguous variable offsets. Provided buffer includes offsets that point to position\n * within `size`. This function also validates that all offsets are in range.\n */\nfunction readVariableOffsetsArrayComposite(dataView, start, size) {\n    if (size === 0) {\n        return new Uint32Array(0);\n    }\n    // all elements are variable-sized\n    // indices contain offsets, which are indices deeper in the byte array\n    // The serialized data will start with offsets of all the serialized objects (BYTES_PER_LENGTH_OFFSET bytes each)\n    const firstOffset = dataView.getUint32(start, true);\n    // Using the first offset, we can compute the length of the list (divide by BYTES_PER_LENGTH_OFFSET), as it gives\n    // us the total number of bytes in the offset data\n    const offsetDataLength = firstOffset;\n    if (firstOffset === 0) {\n        throw Error(\"First offset must be > 0\");\n    }\n    if (offsetDataLength % 4 !== 0) {\n        throw Error(\"Offset data length not multiple of 4\");\n    }\n    const offsetCount = offsetDataLength / 4;\n    const offsets = new Uint32Array(offsetCount);\n    offsets[0] = firstOffset;\n    // ArrayComposite has a contiguous section of offsets, then the data\n    //\n    //    [offset 1] [offset 2] [data 1 ..........] [data 2 ..]\n    // 0x 08000000   0e000000   010002000300        01000200\n    //\n    // Ensure that:\n    // - Offsets point to regions of > 0 bytes, i.e. are increasing\n    // - Offsets don't point to bytes outside of the array's size\n    //\n    // In the example above the first offset is 8, so 8 / 4 = 2 offsets.\n    // Then, read the rest of offsets to get offsets = [8, 14]\n    for (let offsetIdx = 1; offsetIdx < offsetCount; offsetIdx++) {\n        const offset = dataView.getUint32(start + offsetIdx * 4, true);\n        offsets[offsetIdx] = offset;\n        // Offsets must point to data within the Array bytes section\n        if (offset > size) {\n            throw new Error(`Offset out of bounds ${offset} > ${size}`);\n        }\n        if (offset < offsets[offsetIdx - 1]) {\n            throw new Error(`Offsets must be increasing ${offset} < ${offsets[offsetIdx - 1]}`);\n        }\n    }\n    return offsets;\n}\n//# sourceMappingURL=arrayComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayCompositeTreeView = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst abstract_1 = require(\"./abstract\");\nclass ArrayCompositeTreeView extends abstract_1.TreeView {\n    constructor(type, tree) {\n        super();\n        this.type = type;\n        this.tree = tree;\n    }\n    /**\n     * Number of elements in the array. Equal to the Uint32 value of the Tree's length node\n     */\n    get length() {\n        return this.type.tree_getLength(this.tree.rootNode);\n    }\n    /**\n     * Returns the View's Tree rootNode\n     */\n    get node() {\n        return this.tree.rootNode;\n    }\n    /**\n     * Get element at `index`. Returns a view of the Composite element type\n     */\n    get(index) {\n        // TODO: Optimize without bitstring\n        const gindex = persistent_merkle_tree_1.toGindexBitstring(this.type.depth, index);\n        const subtree = this.tree.getSubtree(gindex);\n        return this.type.elementType.getView(subtree);\n    }\n    /**\n     * Get element at `index`. Returns a view of the Composite element type.\n     * DOES NOT PROPAGATE CHANGES: use only for reads and to skip parent references.\n     */\n    getReadonly(index) {\n        // TODO: Optimize without bitstring\n        const gindex = persistent_merkle_tree_1.toGindexBitstring(this.type.depth, index);\n        // tree.getSubtree but without the hook\n        const subtree = new persistent_merkle_tree_1.Tree(this.tree.getNode(gindex));\n        return this.type.elementType.getView(subtree);\n    }\n    /**\n     * Set Composite element type `view` at `index`\n     */\n    set(index, view) {\n        const length = this.length;\n        if (index >= length) {\n            throw Error(`Error setting index over length ${index} > ${length}`);\n        }\n        const node = this.type.elementType.commitView(view);\n        this.tree.setNodeAtDepth(this.type.depth, index, node);\n    }\n    /**\n     * Returns an array of views of all elements in the array, from index zero to `this.length - 1`.\n     * The returned views don't have a parent hook to this View's Tree, so changes in the returned views won't be\n     * propagated upwards. To get linked element Views use `this.get()`\n     */\n    getAllReadonly() {\n        const length = this.length;\n        const chunksNode = this.type.tree_getChunksNode(this.node);\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(chunksNode, this.type.chunkDepth, 0, length);\n        const views = new Array(length);\n        for (let i = 0; i < length; i++) {\n            // TODO: Optimize\n            views[i] = this.type.elementType.getView(new persistent_merkle_tree_1.Tree(nodes[i]));\n        }\n        return views;\n    }\n    /**\n     * Returns an array of values of all elements in the array, from index zero to `this.length - 1`.\n     * The returned values are not Views so any changes won't be propagated upwards.\n     * To get linked element Views use `this.get()`\n     */\n    getAllReadonlyValues() {\n        const length = this.length;\n        const chunksNode = this.type.tree_getChunksNode(this.node);\n        const nodes = persistent_merkle_tree_1.getNodesAtDepth(chunksNode, this.type.chunkDepth, 0, length);\n        const values = new Array(length);\n        for (let i = 0; i < length; i++) {\n            values[i] = this.type.elementType.tree_toValue(nodes[i]);\n        }\n        return values;\n    }\n}\nexports.ArrayCompositeTreeView = ArrayCompositeTreeView;\n//# sourceMappingURL=arrayComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListCompositeTreeView = void 0;\nconst arrayComposite_1 = require(\"./arrayComposite\");\nclass ListCompositeTreeView extends arrayComposite_1.ArrayCompositeTreeView {\n    constructor(type, tree) {\n        super(type, tree);\n        this.type = type;\n        this.tree = tree;\n    }\n    /**\n     * Adds one view element at the end of the array and adds 1 to the current Tree length.\n     */\n    push(view) {\n        const length = this.length;\n        if (length >= this.type.limit) {\n            throw Error(\"Error pushing over limit\");\n        }\n        this.type.tree_setLength(this.tree, length + 1);\n        // No need for pre-initialization like in ListBasic.push since ArrayCompositeTreeView.set() doesn't do a get node\n        this.set(length, view);\n    }\n}\nexports.ListCompositeTreeView = ListCompositeTreeView;\n//# sourceMappingURL=listComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayCompositeTreeViewDU = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst abstract_1 = require(\"./abstract\");\nclass ArrayCompositeTreeViewDU extends abstract_1.TreeViewDU {\n    constructor(type, _rootNode, cache) {\n        super();\n        this.type = type;\n        this._rootNode = _rootNode;\n        this.viewsChanged = new Map();\n        // TODO: Consider these properties are not accessible in the cache object persisted in the parent's cache.\n        // nodes, caches, _length, and nodesPopulated are mutated. Consider having them in a _cache object such that\n        // mutations affect the cache already found in the parent object\n        this.dirtyLength = false;\n        if (cache) {\n            this.nodes = cache.nodes;\n            this.caches = cache.caches;\n            this._length = cache.length;\n            this.nodesPopulated = cache.nodesPopulated;\n        }\n        else {\n            this.nodes = [];\n            this.caches = [];\n            this._length = this.type.tree_getLength(_rootNode);\n            // If there are exactly 0 nodes, nodesPopulated = true because 0 / 0 are in the nodes array\n            this.nodesPopulated = this._length === 0;\n        }\n    }\n    /**\n     * Number of elements in the array. Equal to un-commited length of the array\n     */\n    get length() {\n        return this._length;\n    }\n    get node() {\n        return this._rootNode;\n    }\n    get cache() {\n        return {\n            nodes: this.nodes,\n            caches: this.caches,\n            length: this._length,\n            nodesPopulated: this.nodesPopulated,\n        };\n    }\n    /**\n     * Get element at `index`. Returns a view of the Composite element type.\n     *\n     * NOTE: Assumes that any view created here will change and will call .commit() on it.\n     * .get() should be used only for cases when something may mutate. To get all items without\n     * triggering a .commit() in all them use .getAllReadOnly().\n     */\n    get(index) {\n        const viewChanged = this.viewsChanged.get(index);\n        if (viewChanged) {\n            return viewChanged;\n        }\n        let node = this.nodes[index];\n        if (node === undefined) {\n            node = persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, index);\n            this.nodes[index] = node;\n        }\n        // Keep a reference to the new view to call .commit on it latter, only if mutable\n        const view = this.type.elementType.getViewDU(node, this.caches[index]);\n        if (this.type.elementType.isViewMutable) {\n            this.viewsChanged.set(index, view);\n        }\n        // No need to persist the child's view cache since a second get returns this view instance.\n        // The cache is only persisted on commit where the viewsChanged map is dropped.\n        return view;\n    }\n    /**\n     * Get element at `index`. Returns a view of the Composite element type.\n     * DOES NOT PROPAGATE CHANGES: use only for reads and to skip parent references.\n     */\n    getReadonly(index) {\n        const viewChanged = this.viewsChanged.get(index);\n        if (viewChanged) {\n            return viewChanged;\n        }\n        let node = this.nodes[index];\n        if (node === undefined) {\n            node = persistent_merkle_tree_1.getNodeAtDepth(this._rootNode, this.type.depth, index);\n            this.nodes[index] = node;\n        }\n        return this.type.elementType.getViewDU(node, this.caches[index]);\n    }\n    // Did not implemented\n    // `getReadonlyValue(index: number): ValueOf<ElementType>`\n    // because it can break in unexpected ways if there are pending changes in this.viewsChanged.\n    // This function could first check if `this.viewsChanged` has a view for `index` and commit it,\n    // but that would be pretty slow, and the same result can be achieved with\n    // `this.getReadonly(index).toValue()`\n    /**\n     * Set Composite element type `view` at `index`\n     */\n    set(index, view) {\n        if (index >= this._length) {\n            throw Error(`Error setting index over length ${index} > ${this._length}`);\n        }\n        // When setting a view:\n        // - Not necessary to commit node\n        // - Not necessary to persist cache\n        // Just keeping a reference to the view in this.viewsChanged ensures consistency\n        this.viewsChanged.set(index, view);\n    }\n    /**\n     * WARNING: Returns all commited changes, if there are any pending changes commit them beforehand\n     */\n    getAllReadonly() {\n        this.populateAllNodes();\n        const views = new Array(this._length);\n        for (let i = 0; i < this._length; i++) {\n            views[i] = this.type.elementType.getViewDU(this.nodes[i], this.caches[i]);\n        }\n        return views;\n    }\n    /**\n     * WARNING: Returns all commited changes, if there are any pending changes commit them beforehand\n     */\n    getAllReadonlyValues() {\n        this.populateAllNodes();\n        const values = new Array(this._length);\n        for (let i = 0; i < this._length; i++) {\n            values[i] = this.type.elementType.tree_toValue(this.nodes[i]);\n        }\n        return values;\n    }\n    commit() {\n        if (this.viewsChanged.size === 0) {\n            return;\n        }\n        const nodesChanged = [];\n        for (const [index, view] of this.viewsChanged) {\n            const node = this.type.elementType.commitViewDU(view);\n            // Set new node in nodes array to ensure data represented in the tree and fast nodes access is equal\n            this.nodes[index] = node;\n            nodesChanged.push({ index, node });\n            // Cache the view's caches to preserve it's data after 'this.viewsChanged.clear()'\n            const cache = this.type.elementType.cacheOfViewDU(view);\n            if (cache)\n                this.caches[index] = cache;\n        }\n        // TODO: Optimize to loop only once, Numerical sort ascending\n        const nodesChangedSorted = nodesChanged.sort((a, b) => a.index - b.index);\n        const indexes = nodesChangedSorted.map((entry) => entry.index);\n        const nodes = nodesChangedSorted.map((entry) => entry.node);\n        const chunksNode = this.type.tree_getChunksNode(this._rootNode);\n        // TODO: Ensure fast setNodesAtDepth() method is correct\n        const newChunksNode = persistent_merkle_tree_1.setNodesAtDepth(chunksNode, this.type.chunkDepth, indexes, nodes);\n        this._rootNode = this.type.tree_setChunksNode(this._rootNode, newChunksNode, this.dirtyLength ? this._length : undefined);\n        this.viewsChanged.clear();\n        this.dirtyLength = false;\n    }\n    clearCache() {\n        this.nodes = [];\n        this.caches = [];\n        this.nodesPopulated = false;\n        // It's not necessary to clear this.viewsChanged since they have no effect on the cache.\n        // However preserving _SOME_ caches results in a very unpredictable experience.\n        this.viewsChanged.clear();\n        // Reset cached length only if it has been mutated\n        if (this.dirtyLength) {\n            this._length = this.type.tree_getLength(this._rootNode);\n            this.dirtyLength = false;\n        }\n    }\n    populateAllNodes() {\n        // If there's uncommited changes it may break.\n        // this.length can be increased but this._rootNode doesn't have that item\n        if (this.viewsChanged.size > 0) {\n            throw Error(\"Must commit changes before reading all nodes\");\n        }\n        if (!this.nodesPopulated) {\n            this.nodes = persistent_merkle_tree_1.getNodesAtDepth(this._rootNode, this.type.depth, 0, this.length);\n            this.nodesPopulated = true;\n        }\n    }\n}\nexports.ArrayCompositeTreeViewDU = ArrayCompositeTreeViewDU;\n//# sourceMappingURL=arrayComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListCompositeTreeViewDU = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst arrayComposite_1 = require(\"./arrayComposite\");\nclass ListCompositeTreeViewDU extends arrayComposite_1.ArrayCompositeTreeViewDU {\n    constructor(type, _rootNode, cache) {\n        super(type, _rootNode, cache);\n        this.type = type;\n        this._rootNode = _rootNode;\n    }\n    /**\n     * Adds one value element at the end of the array and adds 1 to the un-commited ViewDU length\n     */\n    push(view) {\n        if (this._length >= this.type.limit) {\n            throw Error(\"Error pushing over limit\");\n        }\n        this.dirtyLength = true;\n        const index = this._length++;\n        // No need for pre-initialization like in ListBasic.push since ArrayCompositeTreeViewDU.set() doesn't do a get node\n        this.set(index, view);\n    }\n    /**\n     * Returns a new ListCompositeTreeViewDU instance with the values from 0 to `index`.\n     * The new list is equivalent to (pseudo-code):\n     *\n     * ```ts\n     * const nodes = getChunkNodes()\n     * return listFromChunkNodes(nodes.slice(0, index + 1))\n     * ```\n     *\n     * To achieve it, rebinds the underlying tree zero-ing all nodes right of `index`.\n     *\n     * Note: Using index = -1, returns an empty list of length 0.\n     */\n    sliceTo(index) {\n        // Commit before getting rootNode to ensure all pending data is in the rootNode\n        this.commit();\n        const rootNode = this._rootNode;\n        const length = this.type.tree_getLength(rootNode);\n        // All nodes beyond length are already zero\n        // Array of length 2: [X,X,0,0], for index >= 1 no action needed\n        if (index >= length - 1) {\n            return this;\n        }\n        // Since this is a List, do the treeZeroAfterIndex operation on the chunks tree\n        const chunksNode = this.type.tree_getChunksNode(rootNode);\n        const newChunksNode = persistent_merkle_tree_1.treeZeroAfterIndex(chunksNode, this.type.chunkDepth, index);\n        // Must set new length and commit to tree to restore the same tree at that index\n        const newLength = index + 1;\n        const newRootNode = this.type.tree_setChunksNode(rootNode, newChunksNode, newLength);\n        return this.type.getViewDU(newRootNode);\n    }\n}\nexports.ListCompositeTreeViewDU = ListCompositeTreeViewDU;\n//# sourceMappingURL=listComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListCompositeType = void 0;\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nconst arrayComposite_1 = require(\"./arrayComposite\");\nconst listComposite_1 = require(\"../view/listComposite\");\nconst listComposite_2 = require(\"../viewDU/listComposite\");\nconst array_1 = require(\"./array\");\n/**\n * List: ordered variable-length homogeneous collection, limited to N values\n *\n * Array of Composite type:\n * - Composite types always take at least one chunk\n * - Composite types are always returned as views\n */\nclass ListCompositeType extends array_1.ArrayType {\n    constructor(elementType, limit, opts) {\n        super(elementType);\n        this.elementType = elementType;\n        this.limit = limit;\n        this.itemsPerChunk = 1;\n        this.fixedSize = null;\n        this.isList = true;\n        this.isViewMutable = true;\n        this.defaultLen = 0;\n        if (elementType.isBasic)\n            throw Error(\"elementType must not be basic\");\n        if (limit === 0)\n            throw Error(\"List limit must be > 0\");\n        this.typeName = opts?.typeName ?? `List[${elementType.typeName}, ${limit}]`;\n        this.maxChunkCount = this.limit;\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        // Depth includes the extra level for the length node\n        this.depth = this.chunkDepth + 1;\n        this.minSize = 0;\n        this.maxSize = arrayComposite_1.maxSizeArrayComposite(elementType, this.limit);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static named(elementType, limit, opts) {\n        return new (named_1.namedClass(ListCompositeType, opts.typeName))(elementType, limit, opts);\n    }\n    getView(tree) {\n        return new listComposite_1.ListCompositeTreeView(this, tree);\n    }\n    getViewDU(node, cache) {\n        // cache type should be validated (if applicate) in the view\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new listComposite_2.ListCompositeTreeViewDU(this, node, cache);\n    }\n    commitView(view) {\n        return view.node;\n    }\n    commitViewDU(view) {\n        view.commit();\n        return view.node;\n    }\n    cacheOfViewDU(view) {\n        return view.cache;\n    }\n    // Serialization + deserialization\n    value_serializedSize(value) {\n        return arrayComposite_1.value_serializedSizeArrayComposite(this.elementType, value.length, value);\n    }\n    value_serializeToBytes(output, offset, value) {\n        return arrayComposite_1.value_serializeToBytesArrayComposite(this.elementType, value.length, output, offset, value);\n    }\n    value_deserializeFromBytes(data, start, end) {\n        return arrayComposite_1.value_deserializeFromBytesArrayComposite(this.elementType, data, start, end, this);\n    }\n    tree_serializedSize(node) {\n        const chunksNode = this.tree_getChunksNode(node);\n        const length = this.tree_getLength(node);\n        return arrayComposite_1.tree_serializedSizeArrayComposite(this.elementType, length, this.chunkDepth, chunksNode);\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const chunksNode = this.tree_getChunksNode(node);\n        const length = this.tree_getLength(node);\n        return arrayComposite_1.tree_serializeToBytesArrayComposite(this.elementType, length, this.chunkDepth, chunksNode, output, offset);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        return arrayComposite_1.tree_deserializeFromBytesArrayComposite(this.elementType, this.chunkDepth, data, start, end, this);\n    }\n    // Helpers for TreeView\n    tree_getLength(node) {\n        return arrayBasic_1.getLengthFromRootNode(node);\n    }\n    tree_setLength(tree, length) {\n        tree.rootNode = arrayBasic_1.addLengthNode(tree.rootNode.left, length);\n    }\n    tree_getChunksNode(node) {\n        return node.left;\n    }\n    tree_setChunksNode(rootNode, chunksNode, newLength) {\n        return arrayBasic_1.setChunksNode(rootNode, chunksNode, newLength);\n    }\n    // Merkleization\n    hashTreeRoot(value) {\n        return merkleize_1.mixInLength(super.hashTreeRoot(value), value.length);\n    }\n    getRoots(value) {\n        return arrayComposite_1.value_getRootsArrayComposite(this.elementType, value.length, value);\n    }\n}\nexports.ListCompositeType = ListCompositeType;\n//# sourceMappingURL=listComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NoneType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst basic_1 = require(\"./basic\");\n/* eslint-disable @typescript-eslint/member-ordering */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nclass NoneType extends basic_1.BasicType {\n    constructor() {\n        super(...arguments);\n        this.typeName = \"none\";\n        this.byteLength = 0;\n        this.itemsPerChunk = 32;\n        this.fixedSize = 0;\n        this.minSize = 0;\n        this.maxSize = 0;\n    }\n    defaultValue() {\n        return null;\n    }\n    // bytes serdes\n    value_serializeToBytes(output, offset, value) {\n        return offset;\n    }\n    value_deserializeFromBytes(data, start) {\n        return null;\n    }\n    tree_serializeToBytes(output, offset, node) {\n        return offset;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        return persistent_merkle_tree_1.zeroNode(0);\n    }\n    // Fast tree opts\n    tree_getFromNode(leafNode) {\n        return null;\n    }\n    tree_setToNode(leafNode, value) {\n        return;\n    }\n    tree_getFromPackedNode(leafNode, index) {\n        return null;\n    }\n    tree_setToPackedNode(leafNode, index, value) {\n        return;\n    }\n    // JSON\n    fromJson(json) {\n        if (json !== null) {\n            throw Error(\"JSON invalid type none must be null\");\n        }\n        return null;\n    }\n    toJson(value) {\n        return null;\n    }\n}\nexports.NoneType = NoneType;\n//# sourceMappingURL=none.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UintBigintType = exports.UintNumberType = exports.uintBigintByteLens = exports.uintNumberByteLens = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst named_1 = require(\"../util/named\");\nconst basic_1 = require(\"./basic\");\n/* eslint-disable @typescript-eslint/member-ordering */\nconst MAX_SAFE_INTEGER_BN = BigInt(Number.MAX_SAFE_INTEGER);\nconst BIGINT_2_POW_64 = BigInt(2) ** BigInt(64);\nconst BIGINT_2_POW_128 = BigInt(2) ** BigInt(128);\nconst BIGINT_2_POW_192 = BigInt(2) ** BigInt(192);\n// const BIGINT_64_MAX = BigInt(\"0xffffffffffffffff\");\nconst NUMBER_2_POW_32 = 2 ** 32;\nconst NUMBER_32_MAX = 0xffffffff;\nexports.uintNumberByteLens = [1, 2, 4, 8];\nexports.uintBigintByteLens = [1, 2, 4, 8, 16, 32];\n/**\n * Uint: N-bit unsigned integer (where N in [8, 16, 32, 64, 128, 256])\n * - Notation: uintN\n *\n * UintNumber is represented as the Javascript primitive value 'Number'.\n *\n * The Number type is a double-precision 64-bit binary format IEEE 754 value (numbers between -(2^53  1) and\n * 2^53  1). It also has the symbolic value: +Infinity.\n *\n * As of 2021 performance of 'Number' is extremely faster than 'BigInt'. Some values are spec'ed as Uint64 but\n * practically they will never exceed 53 bits, such as any unit time or simple counters. This type is an optimization\n * for these cases, as UintNumber64 can represent any value between 0 and 2^531 as well as the max value 2^64-1.\n */\nclass UintNumberType extends basic_1.BasicType {\n    constructor(byteLength, opts) {\n        super();\n        this.byteLength = byteLength;\n        if (byteLength > 8) {\n            throw Error(\"UintNumber byteLength limit is 8\");\n        }\n        if (Math.log2(byteLength) % 1 !== 0) {\n            throw Error(\"byteLength must be a power of 2\");\n        }\n        this.typeName = opts?.typeName ?? `uint${byteLength * 8}`;\n        if (opts?.clipInfinity)\n            this.typeName += \"Inf\";\n        if (opts?.setBitwiseOR)\n            this.typeName += \"OR\";\n        this.itemsPerChunk = 32 / this.byteLength;\n        this.fixedSize = byteLength;\n        this.minSize = byteLength;\n        this.maxSize = byteLength;\n        this.maxDecimalStr = (BigInt(2) ** BigInt(this.byteLength * 8) - BigInt(1)).toString(10);\n        this.clipInfinity = opts?.clipInfinity === true;\n        this.setBitwiseOR = opts?.setBitwiseOR === true;\n    }\n    static named(byteLength, opts) {\n        return new (named_1.namedClass(UintNumberType, opts.typeName))(byteLength, opts);\n    }\n    defaultValue() {\n        return 0;\n    }\n    // Serialization + deserialization\n    value_serializeToBytes({ dataView }, offset, value) {\n        switch (this.byteLength) {\n            case 1:\n                dataView.setInt8(offset, value);\n                break;\n            case 2:\n                dataView.setUint16(offset, value, true);\n                break;\n            case 4:\n                dataView.setUint32(offset, value, true);\n                break;\n            case 8:\n                if (value === Infinity) {\n                    // TODO: Benchmark if it's faster to set BIGINT_64_MAX once\n                    dataView.setUint32(offset, 0xffffffff);\n                    dataView.setUint32(offset + 4, 0xffffffff);\n                }\n                else {\n                    dataView.setUint32(offset, value & 0xffffffff, true);\n                    dataView.setUint32(offset + 4, (value / NUMBER_2_POW_32) & 0xffffffff, true);\n                }\n                break;\n        }\n        return offset + this.byteLength;\n    }\n    value_deserializeFromBytes({ dataView }, start, end) {\n        this.assertValidSize(end - start);\n        switch (this.byteLength) {\n            case 1:\n                return dataView.getUint8(start);\n            case 2:\n                return dataView.getUint16(start, true);\n            case 4:\n                return dataView.getUint32(start, true);\n            case 8: {\n                const a = dataView.getUint32(start, true);\n                const b = dataView.getUint32(start + 4, true);\n                if (b === NUMBER_32_MAX && a === NUMBER_32_MAX && this.clipInfinity) {\n                    return Infinity;\n                }\n                else {\n                    return b * NUMBER_2_POW_32 + a;\n                }\n            }\n        }\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const value = node.getUint(this.byteLength, 0, this.clipInfinity);\n        this.value_serializeToBytes(output, offset, value);\n        return offset + this.byteLength;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        this.assertValidSize(end - start);\n        const value = this.value_deserializeFromBytes(data, start, end);\n        const node = persistent_merkle_tree_1.LeafNode.fromZero();\n        node.setUint(this.byteLength, 0, value, this.clipInfinity);\n        return node;\n    }\n    // Fast Tree access\n    tree_getFromNode(leafNode) {\n        return leafNode.getUint(this.byteLength, 0, this.clipInfinity);\n    }\n    tree_setToNode(leafNode, value) {\n        this.tree_setToPackedNode(leafNode, 0, value);\n    }\n    tree_getFromPackedNode(leafNode, index) {\n        const offsetBytes = this.byteLength * (index % this.itemsPerChunk);\n        return leafNode.getUint(this.byteLength, offsetBytes, this.clipInfinity);\n    }\n    tree_setToPackedNode(leafNode, index, value) {\n        const offsetBytes = this.byteLength * (index % this.itemsPerChunk);\n        // TODO: Benchmark the cost of this if, and consider using a different class\n        if (this.setBitwiseOR) {\n            leafNode.bitwiseOrUint(this.byteLength, offsetBytes, value);\n        }\n        else {\n            leafNode.setUint(this.byteLength, offsetBytes, value, this.clipInfinity);\n        }\n    }\n    // JSON\n    fromJson(json) {\n        if (typeof json === \"number\") {\n            return json;\n        }\n        else if (typeof json === \"string\") {\n            if (this.clipInfinity && json === this.maxDecimalStr) {\n                // Allow to handle max possible number\n                return Infinity;\n            }\n            else {\n                const num = parseInt(json, 10);\n                if (isNaN(num)) {\n                    throw Error(\"JSON invalid number isNaN\");\n                }\n                else if (num > Number.MAX_SAFE_INTEGER) {\n                    // Throw to prevent decimal precision errors downstream\n                    throw Error(\"JSON invalid number > MAX_SAFE_INTEGER\");\n                }\n                else {\n                    return num;\n                }\n            }\n        }\n        else if (typeof json === \"bigint\") {\n            if (json > MAX_SAFE_INTEGER_BN) {\n                // Throw to prevent decimal precision errors downstream\n                throw Error(\"JSON invalid number > MAX_SAFE_INTEGER_BN\");\n            }\n            else {\n                return Number(json);\n            }\n        }\n        else {\n            throw Error(`JSON invalid type ${typeof json} expected number`);\n        }\n    }\n    toJson(value) {\n        if (value === Infinity) {\n            return this.maxDecimalStr;\n        }\n        else {\n            return value.toString(10);\n        }\n    }\n}\nexports.UintNumberType = UintNumberType;\n/**\n * Uint: N-bit unsigned integer (where N in [8, 16, 32, 64, 128, 256])\n * - Notation: uintN\n *\n * UintBigint is represented as the Javascript primitive value 'BigInt'.\n *\n * The BigInt type is a numeric primitive in JavaScript that can represent integers with arbitrary precision.\n * With BigInts, you can safely store and operate on large integers even beyond the safe integer limit for Numbers.\n *\n * As of 2021 performance of 'Number' is extremely faster than 'BigInt'. For Uint values under 53 bits use UintNumber.\n * For other values that may exceed 53 bits, use UintBigint.\n */\nclass UintBigintType extends basic_1.BasicType {\n    constructor(byteLength, opts) {\n        super();\n        this.byteLength = byteLength;\n        if (byteLength > 32) {\n            throw Error(\"UintBigint byteLength limit is 32\");\n        }\n        if (Math.log2(byteLength) % 1 !== 0) {\n            throw Error(\"byteLength must be a power of 2\");\n        }\n        this.typeName = opts?.typeName ?? `uintBigint${byteLength * 8}`;\n        this.byteLength = byteLength;\n        this.itemsPerChunk = 32 / this.byteLength;\n        this.fixedSize = byteLength;\n        this.minSize = byteLength;\n        this.maxSize = byteLength;\n    }\n    static named(byteLength, opts) {\n        return new (named_1.namedClass(UintBigintType, opts.typeName))(byteLength, opts);\n    }\n    defaultValue() {\n        return BigInt(0);\n    }\n    // Serialization + deserialization\n    value_serializeToBytes({ dataView }, offset, value) {\n        switch (this.byteLength) {\n            case 1:\n                dataView.setInt8(offset, Number(value));\n                break;\n            case 2:\n                dataView.setUint16(offset, Number(value), true);\n                break;\n            case 4:\n                dataView.setUint32(offset, Number(value), true);\n                break;\n            case 8:\n                dataView.setBigUint64(offset, value, true);\n                break;\n            default: {\n                for (let i = 0; i < this.byteLength; i += 8) {\n                    if (i > 0)\n                        value = value / BIGINT_2_POW_64;\n                    const lo = BigInt.asUintN(64, value);\n                    dataView.setBigUint64(offset + i, lo, true);\n                }\n            }\n        }\n        return offset + this.byteLength;\n    }\n    value_deserializeFromBytes({ dataView }, start, end) {\n        const size = end - start;\n        if (size !== this.byteLength) {\n            throw Error(`Invalid size ${size} expected ${this.byteLength}`);\n        }\n        // Note: pre-assigning the right function at the constructor to avoid this switch is not faster\n        switch (this.byteLength) {\n            case 1:\n                return BigInt(dataView.getUint8(start));\n            case 2:\n                return BigInt(dataView.getUint16(start, true));\n            case 4:\n                return BigInt(dataView.getUint32(start, true));\n            case 8:\n                return dataView.getBigUint64(start, true);\n            case 16: {\n                const a = dataView.getBigUint64(start, true);\n                const b = dataView.getBigUint64(start + 8, true);\n                return b * BIGINT_2_POW_64 + a;\n            }\n            case 32: {\n                const a = dataView.getBigUint64(start, true);\n                const b = dataView.getBigUint64(start + 8, true);\n                const c = dataView.getBigUint64(start + 16, true);\n                const d = dataView.getBigUint64(start + 24, true);\n                return d * BIGINT_2_POW_192 + c * BIGINT_2_POW_128 + b * BIGINT_2_POW_64 + a;\n            }\n        }\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const value = node.getUintBigint(this.byteLength, 0);\n        this.value_serializeToBytes(output, offset, value);\n        return offset + this.byteLength;\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        const size = end - start;\n        if (size !== this.byteLength) {\n            throw Error(`Invalid size ${size} expected ${this.byteLength}`);\n        }\n        const value = this.value_deserializeFromBytes(data, start, end);\n        const node = persistent_merkle_tree_1.LeafNode.fromZero();\n        node.setUintBigint(this.byteLength, 0, value);\n        return node;\n    }\n    // Fast Tree access\n    tree_getFromNode(leafNode) {\n        return leafNode.getUintBigint(this.byteLength, 0);\n    }\n    /** Mutates node to set value */\n    tree_setToNode(leafNode, value) {\n        this.tree_setToPackedNode(leafNode, 0, value);\n    }\n    /** EXAMPLE of `tree_getFromNode` */\n    tree_getFromPackedNode(leafNode, index) {\n        const offsetBytes = this.byteLength * (index % this.itemsPerChunk);\n        return leafNode.getUintBigint(this.byteLength, offsetBytes);\n    }\n    /** Mutates node to set value */\n    tree_setToPackedNode(leafNode, index, value) {\n        const offsetBytes = this.byteLength * (index % this.itemsPerChunk);\n        // TODO: Not-optimized, copy pasted from UintNumberType\n        leafNode.setUintBigint(this.byteLength, offsetBytes, value);\n    }\n    // JSON\n    fromJson(json) {\n        if (typeof json === \"bigint\") {\n            return json;\n        }\n        else if (typeof json === \"string\" || typeof json === \"number\") {\n            return BigInt(json);\n        }\n        else {\n            throw Error(`JSON invalid type ${typeof json} expected bigint`);\n        }\n    }\n    toJson(value) {\n        return value.toString(10);\n    }\n}\nexports.UintBigintType = UintBigintType;\n//# sourceMappingURL=uint.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnionType = void 0;\nconst persistent_merkle_tree_1 = require(\"@chainsafe/persistent-merkle-tree\");\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst composite_1 = require(\"./composite\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nconst none_1 = require(\"./none\");\nconst VALUE_GINDEX = BigInt(2);\nconst SELECTOR_GINDEX = BigInt(3);\n/**\n * Union: union type containing one of the given subtypes\n * - Notation: Union[type_0, type_1, ...], e.g. union[None, uint64, uint32]\n */\nclass UnionType extends composite_1.CompositeType {\n    constructor(types, opts) {\n        super();\n        this.types = types;\n        this.depth = 1;\n        this.maxChunkCount = 1;\n        this.fixedSize = null;\n        this.isList = true;\n        this.isViewMutable = true;\n        if (types.length >= 128) {\n            throw Error(\"Must have less than 128 types\");\n        }\n        if (types.length === 0) {\n            throw Error(\"Must have at least 1 type option\");\n        }\n        if (types[0] instanceof none_1.NoneType && types.length < 2) {\n            throw Error(\"Must have at least 2 type options if the first is None\");\n        }\n        for (let i = 1; i < types.length; i++) {\n            if (types[i] instanceof none_1.NoneType) {\n                throw Error(\"None may only be the first option\");\n            }\n        }\n        this.typeName = opts?.typeName ?? `Union[${types.map((t) => t.typeName).join(\",\")}]`;\n        const minLens = [];\n        const maxLens = [];\n        for (const _type of types) {\n            minLens.push(_type.minSize);\n            maxLens.push(_type.maxSize);\n        }\n        this.minSize = 1 + Math.min(...minLens);\n        this.maxSize = 1 + Math.max(...maxLens);\n        this.maxSelector = this.types.length - 1;\n    }\n    static named(types, opts) {\n        return new (named_1.namedClass(UnionType, opts.typeName))(types, opts);\n    }\n    defaultValue() {\n        return {\n            selector: 0,\n            value: this.types[0].defaultValue(),\n        };\n    }\n    getView(tree) {\n        return this.tree_toValue(tree.rootNode);\n    }\n    getViewDU(node) {\n        return this.tree_toValue(node);\n    }\n    cacheOfViewDU() {\n        return;\n    }\n    commitView(view) {\n        return this.value_toTree(view);\n    }\n    commitViewDU(view) {\n        return this.value_toTree(view);\n    }\n    value_serializedSize(value) {\n        return 1 + this.types[value.selector].value_serializedSize(value.value);\n    }\n    value_serializeToBytes(output, offset, value) {\n        output.uint8Array[offset] = value.selector;\n        return this.types[value.selector].value_serializeToBytes(output, offset + 1, value.value);\n    }\n    value_deserializeFromBytes(data, start, end) {\n        const selector = data.uint8Array[start];\n        if (selector > this.maxSelector) {\n            throw Error(`Invalid selector ${selector}`);\n        }\n        return {\n            selector,\n            value: this.types[selector].value_deserializeFromBytes(data, start + 1, end),\n        };\n    }\n    tree_serializedSize(node) {\n        const selector = arrayBasic_1.getLengthFromRootNode(node);\n        const valueNode = node.left;\n        return 1 + this.types[selector].value_serializedSize(valueNode);\n    }\n    tree_serializeToBytes(output, offset, node) {\n        const selector = arrayBasic_1.getLengthFromRootNode(node);\n        const valueNode = node.left;\n        output.uint8Array[offset] = selector;\n        return this.types[selector].tree_serializeToBytes(output, offset + 1, valueNode);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        const selector = data.uint8Array[start];\n        if (selector > this.maxSelector) {\n            throw Error(`Invalid selector ${selector}`);\n        }\n        const valueNode = this.types[selector].tree_deserializeFromBytes(data, start + 1, end);\n        return arrayBasic_1.addLengthNode(valueNode, selector);\n    }\n    // Merkleization\n    hashTreeRoot(value) {\n        return merkleize_1.mixInLength(super.hashTreeRoot(value), value.selector);\n    }\n    getRoots(value) {\n        const valueRoot = this.types[value.selector].hashTreeRoot(value.value);\n        return [valueRoot];\n    }\n    // Proofs\n    getPropertyGindex(prop) {\n        switch (prop) {\n            case \"value\":\n                return VALUE_GINDEX;\n            case \"selector\":\n                return SELECTOR_GINDEX;\n            default:\n                throw new Error(`Invalid Union type property ${prop}`);\n        }\n    }\n    getPropertyType() {\n        // a Union has multiple types\n        throw new Error(\"Not applicable for Union type\");\n    }\n    getIndexProperty(index) {\n        if (index === 0)\n            return \"value\";\n        if (index === 1)\n            return \"selector\";\n        throw Error(\"Union index of out bounds\");\n    }\n    tree_getLeafGindices(rootGindex, rootNode) {\n        if (!rootNode) {\n            throw Error(\"rootNode required\");\n        }\n        const gindices = [persistent_merkle_tree_1.concatGindices([rootGindex, SELECTOR_GINDEX])];\n        const selector = arrayBasic_1.getLengthFromRootNode(rootNode);\n        const type = this.types[selector];\n        const extendedFieldGindex = persistent_merkle_tree_1.concatGindices([rootGindex, VALUE_GINDEX]);\n        if (composite_1.isCompositeType(type)) {\n            gindices.push(...type.tree_getLeafGindices(extendedFieldGindex, persistent_merkle_tree_1.getNode(rootNode, VALUE_GINDEX)));\n        }\n        else {\n            gindices.push(extendedFieldGindex);\n        }\n        return gindices;\n    }\n    // JSON\n    fromJson(json) {\n        if (typeof json !== \"object\") {\n            throw new Error(\"JSON must be of type object\");\n        }\n        const union = json;\n        if (typeof union.selector !== \"number\") {\n            throw new Error(\"Invalid JSON Union selector must be number\");\n        }\n        const type = this.types[union.selector];\n        if (!type) {\n            throw new Error(\"Invalid JSON Union selector out of range\");\n        }\n        return {\n            selector: union.selector,\n            value: type.toJson(union.value),\n        };\n    }\n    toJson(value) {\n        return {\n            selector: value.selector,\n            value: this.types[value.selector].toJson(value.value),\n        };\n    }\n    clone(value) {\n        return {\n            selector: value.selector,\n            value: this.types[value.selector].clone(value.value),\n        };\n    }\n    equals(a, b) {\n        if (a.selector !== b.selector) {\n            return false;\n        }\n        return this.types[a.selector].equals(a.value, b.value);\n    }\n}\nexports.UnionType = UnionType;\n//# sourceMappingURL=union.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VectorBasicType = void 0;\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst arrayBasic_1 = require(\"./arrayBasic\");\nconst arrayBasic_2 = require(\"../view/arrayBasic\");\nconst arrayBasic_3 = require(\"../viewDU/arrayBasic\");\nconst array_1 = require(\"./array\");\n/**\n * Vector: Ordered fixed-length homogeneous collection, with N values\n *\n * Array of Basic type:\n * - Basic types are max 32 bytes long so multiple values may be packed in the same node.\n * - Basic types are never returned in a view wrapper, but their value representation\n */\nclass VectorBasicType extends array_1.ArrayType {\n    constructor(elementType, length, opts) {\n        super(elementType);\n        this.elementType = elementType;\n        this.length = length;\n        this.isList = false;\n        this.isViewMutable = true;\n        if (!elementType.isBasic)\n            throw Error(\"elementType must be basic\");\n        if (length === 0)\n            throw Error(\"Vector length must be > 0\");\n        this.typeName = opts?.typeName ?? `Vector[${elementType.typeName}, ${length}]`;\n        // TODO Check that itemsPerChunk is an integer\n        this.itemsPerChunk = 32 / elementType.byteLength;\n        this.maxChunkCount = Math.ceil((length * elementType.byteLength) / 32);\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        this.depth = this.chunkDepth;\n        this.fixedSize = length * elementType.byteLength;\n        this.minSize = this.fixedSize;\n        this.maxSize = this.fixedSize;\n        this.defaultLen = length;\n    }\n    static named(elementType, limit, opts) {\n        return new (named_1.namedClass(VectorBasicType, opts.typeName))(elementType, limit, opts);\n    }\n    getView(tree) {\n        return new arrayBasic_2.ArrayBasicTreeView(this, tree);\n    }\n    getViewDU(node, cache) {\n        // cache type should be validated (if applicate) in the view\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new arrayBasic_3.ArrayBasicTreeViewDU(this, node, cache);\n    }\n    commitView(view) {\n        return view.node;\n    }\n    commitViewDU(view) {\n        view.commit();\n        return view.node;\n    }\n    cacheOfViewDU(view) {\n        return view.cache;\n    }\n    // Serialization + deserialization\n    value_serializedSize() {\n        return this.fixedSize;\n    }\n    value_serializeToBytes(output, offset, value) {\n        return arrayBasic_1.value_serializeToBytesArrayBasic(this.elementType, this.length, output, offset, value);\n    }\n    value_deserializeFromBytes(data, start, end) {\n        return arrayBasic_1.value_deserializeFromBytesArrayBasic(this.elementType, data, start, end, this);\n    }\n    tree_serializedSize() {\n        return this.fixedSize;\n    }\n    tree_serializeToBytes(output, offset, node) {\n        return arrayBasic_1.tree_serializeToBytesArrayBasic(this.elementType, this.length, this.depth, output, offset, node);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        return arrayBasic_1.tree_deserializeFromBytesArrayBasic(this.elementType, this.depth, data, start, end, this);\n    }\n    // Helpers for TreeView\n    tree_getLength() {\n        return this.length;\n    }\n    tree_setLength() {\n        // Vector's length is immutable, ignore this call\n    }\n    tree_getChunksNode(node) {\n        return node;\n    }\n    tree_setChunksNode(rootNode, chunksNode) {\n        return chunksNode;\n    }\n    // Merkleization\n    getRoots(value) {\n        const uint8Array = new Uint8Array(this.fixedSize);\n        const dataView = new DataView(uint8Array.buffer, uint8Array.byteOffset, uint8Array.byteLength);\n        arrayBasic_1.value_serializeToBytesArrayBasic(this.elementType, this.length, { uint8Array, dataView }, 0, value);\n        return merkleize_1.splitIntoRootChunks(uint8Array);\n    }\n}\nexports.VectorBasicType = VectorBasicType;\n//# sourceMappingURL=vectorBasic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VectorCompositeType = void 0;\nconst merkleize_1 = require(\"../util/merkleize\");\nconst named_1 = require(\"../util/named\");\nconst arrayComposite_1 = require(\"./arrayComposite\");\nconst arrayComposite_2 = require(\"../view/arrayComposite\");\nconst arrayComposite_3 = require(\"../viewDU/arrayComposite\");\nconst array_1 = require(\"./array\");\n/**\n * Vector: Ordered fixed-length homogeneous collection, with N values\n *\n * Array of Composite type:\n * - Composite types always take at least one chunk\n * - Composite types are always returned as views\n */\nclass VectorCompositeType extends array_1.ArrayType {\n    constructor(elementType, length, opts) {\n        super(elementType);\n        this.elementType = elementType;\n        this.length = length;\n        this.itemsPerChunk = 1;\n        this.isList = false;\n        this.isViewMutable = true;\n        if (elementType.isBasic)\n            throw Error(\"elementType must not be basic\");\n        if (length === 0)\n            throw Error(\"Vector length must be > 0\");\n        this.typeName = opts?.typeName ?? `Vector[${elementType.typeName}, ${length}]`;\n        this.maxChunkCount = length;\n        this.chunkDepth = merkleize_1.maxChunksToDepth(this.maxChunkCount);\n        this.depth = this.chunkDepth;\n        this.fixedSize = elementType.fixedSize === null ? null : length * elementType.fixedSize;\n        this.minSize = arrayComposite_1.minSizeArrayComposite(elementType, length);\n        this.maxSize = arrayComposite_1.maxSizeArrayComposite(elementType, length);\n        this.defaultLen = length;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static named(elementType, limit, opts) {\n        return new (named_1.namedClass(VectorCompositeType, opts.typeName))(elementType, limit, opts);\n    }\n    getView(tree) {\n        return new arrayComposite_2.ArrayCompositeTreeView(this, tree);\n    }\n    getViewDU(node, cache) {\n        // cache type should be validated (if applicate) in the view\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new arrayComposite_3.ArrayCompositeTreeViewDU(this, node, cache);\n    }\n    commitView(view) {\n        return view.node;\n    }\n    commitViewDU(view) {\n        view.commit();\n        return view.node;\n    }\n    cacheOfViewDU(view) {\n        return view.cache;\n    }\n    // Serialization + deserialization\n    value_serializedSize(value) {\n        return arrayComposite_1.value_serializedSizeArrayComposite(this.elementType, this.length, value);\n    }\n    value_serializeToBytes(output, offset, value) {\n        return arrayComposite_1.value_serializeToBytesArrayComposite(this.elementType, this.length, output, offset, value);\n    }\n    value_deserializeFromBytes(data, start, end) {\n        return arrayComposite_1.value_deserializeFromBytesArrayComposite(this.elementType, data, start, end, this);\n    }\n    tree_serializedSize(node) {\n        return arrayComposite_1.tree_serializedSizeArrayComposite(this.elementType, this.length, this.depth, node);\n    }\n    tree_serializeToBytes(output, offset, node) {\n        return arrayComposite_1.tree_serializeToBytesArrayComposite(this.elementType, this.length, this.depth, node, output, offset);\n    }\n    tree_deserializeFromBytes(data, start, end) {\n        return arrayComposite_1.tree_deserializeFromBytesArrayComposite(this.elementType, this.depth, data, start, end, this);\n    }\n    // Helpers for TreeView\n    tree_getLength() {\n        return this.length;\n    }\n    tree_setLength() {\n        // Vector's length is immutable, ignore this call\n    }\n    tree_getChunksNode(node) {\n        return node;\n    }\n    tree_setChunksNode(rootNode, chunksNode) {\n        return chunksNode;\n    }\n    // Merkleization\n    getRoots(value) {\n        return arrayComposite_1.value_getRootsArrayComposite(this.elementType, this.length, value);\n    }\n}\nexports.VectorCompositeType = VectorCompositeType;\n//# sourceMappingURL=vectorComposite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hash64 = exports.byteArrayEquals = exports.toHexString = exports.fromHexString = exports.getUint8ByteToBitBooleanArray = exports.BitArray = exports.TreeViewDU = exports.TreeView = exports.isCompositeType = exports.CompositeType = exports.isBasicType = exports.BasicType = exports.Type = exports.ByteArrayType = exports.BitArrayType = exports.ArrayType = exports.VectorCompositeType = exports.VectorBasicType = exports.UnionType = exports.UintNumberType = exports.UintBigintType = exports.NoneType = exports.ListCompositeType = exports.ListBasicType = exports.ContainerNodeStructType = exports.ContainerType = exports.ByteVectorType = exports.ByteListType = exports.BooleanType = exports.BitVectorType = exports.BitListType = void 0;\n// Types\nvar bitList_1 = require(\"./type/bitList\");\nObject.defineProperty(exports, \"BitListType\", { enumerable: true, get: function () { return bitList_1.BitListType; } });\nvar bitVector_1 = require(\"./type/bitVector\");\nObject.defineProperty(exports, \"BitVectorType\", { enumerable: true, get: function () { return bitVector_1.BitVectorType; } });\nvar boolean_1 = require(\"./type/boolean\");\nObject.defineProperty(exports, \"BooleanType\", { enumerable: true, get: function () { return boolean_1.BooleanType; } });\nvar byteList_1 = require(\"./type/byteList\");\nObject.defineProperty(exports, \"ByteListType\", { enumerable: true, get: function () { return byteList_1.ByteListType; } });\nvar byteVector_1 = require(\"./type/byteVector\");\nObject.defineProperty(exports, \"ByteVectorType\", { enumerable: true, get: function () { return byteVector_1.ByteVectorType; } });\nvar container_1 = require(\"./type/container\");\nObject.defineProperty(exports, \"ContainerType\", { enumerable: true, get: function () { return container_1.ContainerType; } });\nvar containerNodeStruct_1 = require(\"./type/containerNodeStruct\");\nObject.defineProperty(exports, \"ContainerNodeStructType\", { enumerable: true, get: function () { return containerNodeStruct_1.ContainerNodeStructType; } });\nvar listBasic_1 = require(\"./type/listBasic\");\nObject.defineProperty(exports, \"ListBasicType\", { enumerable: true, get: function () { return listBasic_1.ListBasicType; } });\nvar listComposite_1 = require(\"./type/listComposite\");\nObject.defineProperty(exports, \"ListCompositeType\", { enumerable: true, get: function () { return listComposite_1.ListCompositeType; } });\nvar none_1 = require(\"./type/none\");\nObject.defineProperty(exports, \"NoneType\", { enumerable: true, get: function () { return none_1.NoneType; } });\nvar uint_1 = require(\"./type/uint\");\nObject.defineProperty(exports, \"UintBigintType\", { enumerable: true, get: function () { return uint_1.UintBigintType; } });\nObject.defineProperty(exports, \"UintNumberType\", { enumerable: true, get: function () { return uint_1.UintNumberType; } });\nvar union_1 = require(\"./type/union\");\nObject.defineProperty(exports, \"UnionType\", { enumerable: true, get: function () { return union_1.UnionType; } });\nvar vectorBasic_1 = require(\"./type/vectorBasic\");\nObject.defineProperty(exports, \"VectorBasicType\", { enumerable: true, get: function () { return vectorBasic_1.VectorBasicType; } });\nvar vectorComposite_1 = require(\"./type/vectorComposite\");\nObject.defineProperty(exports, \"VectorCompositeType\", { enumerable: true, get: function () { return vectorComposite_1.VectorCompositeType; } });\n// Base types\nvar array_1 = require(\"./type/array\");\nObject.defineProperty(exports, \"ArrayType\", { enumerable: true, get: function () { return array_1.ArrayType; } });\nvar bitArray_1 = require(\"./type/bitArray\");\nObject.defineProperty(exports, \"BitArrayType\", { enumerable: true, get: function () { return bitArray_1.BitArrayType; } });\nvar byteArray_1 = require(\"./type/byteArray\");\nObject.defineProperty(exports, \"ByteArrayType\", { enumerable: true, get: function () { return byteArray_1.ByteArrayType; } });\n// Base type clases\nvar abstract_1 = require(\"./type/abstract\");\nObject.defineProperty(exports, \"Type\", { enumerable: true, get: function () { return abstract_1.Type; } });\nvar basic_1 = require(\"./type/basic\");\nObject.defineProperty(exports, \"BasicType\", { enumerable: true, get: function () { return basic_1.BasicType; } });\nObject.defineProperty(exports, \"isBasicType\", { enumerable: true, get: function () { return basic_1.isBasicType; } });\nvar composite_1 = require(\"./type/composite\");\nObject.defineProperty(exports, \"CompositeType\", { enumerable: true, get: function () { return composite_1.CompositeType; } });\nObject.defineProperty(exports, \"isCompositeType\", { enumerable: true, get: function () { return composite_1.isCompositeType; } });\nvar abstract_2 = require(\"./view/abstract\");\nObject.defineProperty(exports, \"TreeView\", { enumerable: true, get: function () { return abstract_2.TreeView; } });\nvar abstract_3 = require(\"./viewDU/abstract\");\nObject.defineProperty(exports, \"TreeViewDU\", { enumerable: true, get: function () { return abstract_3.TreeViewDU; } });\n// Values\nvar bitArray_2 = require(\"./value/bitArray\");\nObject.defineProperty(exports, \"BitArray\", { enumerable: true, get: function () { return bitArray_2.BitArray; } });\nObject.defineProperty(exports, \"getUint8ByteToBitBooleanArray\", { enumerable: true, get: function () { return bitArray_2.getUint8ByteToBitBooleanArray; } });\n// Utils\nvar byteArray_2 = require(\"./util/byteArray\");\nObject.defineProperty(exports, \"fromHexString\", { enumerable: true, get: function () { return byteArray_2.fromHexString; } });\nObject.defineProperty(exports, \"toHexString\", { enumerable: true, get: function () { return byteArray_2.toHexString; } });\nObject.defineProperty(exports, \"byteArrayEquals\", { enumerable: true, get: function () { return byteArray_2.byteArrayEquals; } });\nvar merkleize_1 = require(\"./util/merkleize\");\nObject.defineProperty(exports, \"hash64\", { enumerable: true, get: function () { return merkleize_1.hash64; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Withdrawals = exports.Withdrawal = exports.Bytes20 = exports.UintBigInt64 = exports.UintNum64 = void 0;\nconst ssz_1 = require(\"@chainsafe/ssz\");\nconst constants_1 = require(\"./constants\");\nexports.UintNum64 = new ssz_1.UintNumberType(8);\nexports.UintBigInt64 = new ssz_1.UintBigintType(8);\nexports.Bytes20 = new ssz_1.ByteVectorType(20);\nexports.Withdrawal = new ssz_1.ContainerType({\n    index: exports.UintBigInt64,\n    validatorIndex: exports.UintBigInt64,\n    address: exports.Bytes20,\n    amount: exports.UintBigInt64,\n}, { typeName: 'Withdrawal', jsonCase: 'eth2' });\nexports.Withdrawals = new ssz_1.ListCompositeType(exports.Withdrawal, constants_1.MAX_WITHDRAWALS_PER_PAYLOAD);\n//# sourceMappingURL=ssz.js.map","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_base.proto\" (package \"db3_base_proto\", syntax proto3)\n// tslint:disable\n//\n//\n//\n// db3_base.proto\n// Copyright (C) 2022 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//\nimport { MessageType } from \"@protobuf-ts/runtime\";\n/**\n * @generated from protobuf message db3_base_proto.BroadcastMeta\n */\nexport interface BroadcastMeta {\n    /**\n     * @generated from protobuf field: uint64 nonce = 1;\n     */\n    nonce: string;\n    /**\n     * the chain id of db3\n     *\n     * @generated from protobuf field: db3_base_proto.ChainId chain_id = 2;\n     */\n    chainId: ChainId;\n    /**\n     * the chain role of db3\n     *\n     * @generated from protobuf field: db3_base_proto.ChainRole chain_role = 3;\n     */\n    chainRole: ChainRole;\n}\n/**\n * @generated from protobuf enum db3_base_proto.ChainRole\n */\nexport enum ChainRole {\n    /**\n     * @generated from protobuf enum value: SettlementChain = 0;\n     */\n    SettlementChain = 0,\n    /**\n     * @generated from protobuf enum value: StorageShardChain = 10;\n     */\n    StorageShardChain = 10,\n    /**\n     * @generated from protobuf enum value: DvmComputingChain = 20;\n     */\n    DvmComputingChain = 20\n}\n/**\n * @generated from protobuf enum db3_base_proto.ChainId\n */\nexport enum ChainId {\n    /**\n     * @generated from protobuf enum value: MainNet = 0;\n     */\n    MainNet = 0,\n    /**\n     * @generated from protobuf enum value: TestNet = 10;\n     */\n    TestNet = 10,\n    /**\n     * @generated from protobuf enum value: DevNet = 20;\n     */\n    DevNet = 20\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass BroadcastMeta$Type extends MessageType<BroadcastMeta> {\n    constructor() {\n        super(\"db3_base_proto.BroadcastMeta\", [\n            { no: 1, name: \"nonce\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 2, name: \"chain_id\", kind: \"enum\", T: () => [\"db3_base_proto.ChainId\", ChainId] },\n            { no: 3, name: \"chain_role\", kind: \"enum\", T: () => [\"db3_base_proto.ChainRole\", ChainRole] }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_base_proto.BroadcastMeta\n */\nexport const BroadcastMeta = new BroadcastMeta$Type();\n","\"use strict\";\n/**\n * Ported to Typescript from original implementation below:\n * https://github.com/ahultgren/async-eventemitter -- MIT licensed\n *\n * Type Definitions based on work by: patarapolw <https://github.com/patarapolw> -- MIT licensed\n * that was contributed to Definitely Typed below:\n * https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/async-eventemitter\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncEventEmitter = void 0;\nconst events_1 = require(\"events\");\nasync function runInSeries(context, tasks, data) {\n    let error;\n    for await (const task of tasks) {\n        try {\n            if (task.length < 2) {\n                //sync\n                task.call(context, data);\n            }\n            else {\n                await new Promise((resolve, reject) => {\n                    task.call(context, data, (error) => {\n                        if (error) {\n                            reject(error);\n                        }\n                        else {\n                            resolve();\n                        }\n                    });\n                });\n            }\n        }\n        catch (e) {\n            error = e;\n        }\n    }\n    if (error) {\n        throw error;\n    }\n}\nclass AsyncEventEmitter extends events_1.EventEmitter {\n    emit(event, ...args) {\n        let [data, callback] = args;\n        const self = this;\n        let listeners = self._events[event] ?? [];\n        // Optional data argument\n        if (callback === undefined && typeof data === 'function') {\n            callback = data;\n            data = undefined;\n        }\n        // Special treatment of internal newListener and removeListener events\n        if (event === 'newListener' || event === 'removeListener') {\n            data = {\n                event: data,\n                fn: callback,\n            };\n            callback = undefined;\n        }\n        // A single listener is just a function not an array...\n        listeners = Array.isArray(listeners) ? listeners : [listeners];\n        runInSeries(self, listeners.slice(), data).then(callback).catch(callback);\n        return self.listenerCount(event) > 0;\n    }\n    once(event, listener) {\n        const self = this;\n        let g;\n        if (typeof listener !== 'function') {\n            throw new TypeError('listener must be a function');\n        }\n        // Hack to support set arity\n        if (listener.length >= 2) {\n            g = function (e, next) {\n                self.removeListener(event, g);\n                void listener(e, next);\n            };\n        }\n        else {\n            g = function (e) {\n                self.removeListener(event, g);\n                void listener(e, g);\n            };\n        }\n        self.on(event, g);\n        return self;\n    }\n    first(event, listener) {\n        let listeners = this._events[event] ?? [];\n        // Contract\n        if (typeof listener !== 'function') {\n            throw new TypeError('listener must be a function');\n        }\n        // Listeners are not always an array\n        if (!Array.isArray(listeners)) {\n            ;\n            this._events[event] = listeners = [listeners];\n        }\n        listeners.unshift(listener);\n        return this;\n    }\n    before(event, target, listener) {\n        return this.beforeOrAfter(event, target, listener);\n    }\n    after(event, target, listener) {\n        return this.beforeOrAfter(event, target, listener, 'after');\n    }\n    beforeOrAfter(event, target, listener, beforeOrAfter) {\n        let listeners = this._events[event] ?? [];\n        let i;\n        let index;\n        const add = beforeOrAfter === 'after' ? 1 : 0;\n        // Contract\n        if (typeof listener !== 'function') {\n            throw new TypeError('listener must be a function');\n        }\n        if (typeof target !== 'function') {\n            throw new TypeError('target must be a function');\n        }\n        // Listeners are not always an array\n        if (!Array.isArray(listeners)) {\n            ;\n            this._events[event] = listeners = [listeners];\n        }\n        index = listeners.length;\n        for (i = listeners.length; i--;) {\n            if (listeners[i] === target) {\n                index = i + add;\n                break;\n            }\n        }\n        listeners.splice(index, 0, listener);\n        return this;\n    }\n    on(event, listener) {\n        return super.on(event, listener);\n    }\n    addListener(event, listener) {\n        return super.addListener(event, listener);\n    }\n    prependListener(event, listener) {\n        return super.prependListener(event, listener);\n    }\n    prependOnceListener(event, listener) {\n        return super.prependOnceListener(event, listener);\n    }\n    removeAllListeners(event) {\n        return super.removeAllListeners(event);\n    }\n    removeListener(event, listener) {\n        return super.removeListener(event, listener);\n    }\n    eventNames() {\n        return super.eventNames();\n    }\n    listeners(event) {\n        return super.listeners(event);\n    }\n    listenerCount(event) {\n        return super.listenerCount(event);\n    }\n    getMaxListeners() {\n        return super.getMaxListeners();\n    }\n    setMaxListeners(maxListeners) {\n        return super.setMaxListeners(maxListeners);\n    }\n}\nexports.AsyncEventEmitter = AsyncEventEmitter;\n//# sourceMappingURL=asyncEventEmitter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lock = void 0;\n// Based on https://github.com/jsoendermann/semaphore-async-await/blob/master/src/Semaphore.ts\nclass Lock {\n    constructor() {\n        this.permits = 1;\n        this.promiseResolverQueue = [];\n    }\n    /**\n     * Returns a promise used to wait for a permit to become available. This method should be awaited on.\n     * @returns  A promise that gets resolved when execution is allowed to proceed.\n     */\n    async acquire() {\n        if (this.permits > 0) {\n            this.permits -= 1;\n            return Promise.resolve(true);\n        }\n        // If there is no permit available, we return a promise that resolves once the semaphore gets\n        // signaled enough times that permits is equal to one.\n        return new Promise((resolver) => this.promiseResolverQueue.push(resolver));\n    }\n    /**\n     * Increases the number of permits by one. If there are other functions waiting, one of them will\n     * continue to execute in a future iteration of the event loop.\n     */\n    release() {\n        this.permits += 1;\n        if (this.permits > 1 && this.promiseResolverQueue.length > 0) {\n            // eslint-disable-next-line no-console\n            console.warn('Lock.permits should never be > 0 when there is someone waiting.');\n        }\n        else if (this.permits === 1 && this.promiseResolverQueue.length > 0) {\n            // If there is someone else waiting, immediately consume the permit that was released\n            // at the beginning of this function and let the waiting function resume.\n            this.permits -= 1;\n            const nextResolver = this.promiseResolverQueue.shift();\n            if (nextResolver) {\n                nextResolver(true);\n            }\n        }\n    }\n}\nexports.Lock = Lock;\n//# sourceMappingURL=lock.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toAscii = exports.stripHexPrefix = exports.padToEven = exports.isHexString = exports.isHexPrefixed = exports.getKeys = exports.getBinarySize = exports.fromUtf8 = exports.fromAscii = exports.arrayContainsArray = exports.ssz = void 0;\n/**\n * Constants\n */\n__exportStar(require(\"./constants\"), exports);\n/**\n * Units helpers\n */\n__exportStar(require(\"./units\"), exports);\n/**\n * Account class and helper functions\n */\n__exportStar(require(\"./account\"), exports);\n/**\n * Address type\n */\n__exportStar(require(\"./address\"), exports);\n/**\n * Withdrawal type\n */\n__exportStar(require(\"./withdrawal\"), exports);\n/**\n * ECDSA signature\n */\n__exportStar(require(\"./signature\"), exports);\n/**\n * Utilities for manipulating Buffers, byte arrays, etc.\n */\n__exportStar(require(\"./bytes\"), exports);\n/**\n * SSZ containers\n */\nexports.ssz = require(\"./ssz\");\n/**\n * Helpful TypeScript types\n */\n__exportStar(require(\"./types\"), exports);\n/**\n * Export ethjs-util methods\n */\n__exportStar(require(\"./asyncEventEmitter\"), exports);\nvar internal_1 = require(\"./internal\");\nObject.defineProperty(exports, \"arrayContainsArray\", { enumerable: true, get: function () { return internal_1.arrayContainsArray; } });\nObject.defineProperty(exports, \"fromAscii\", { enumerable: true, get: function () { return internal_1.fromAscii; } });\nObject.defineProperty(exports, \"fromUtf8\", { enumerable: true, get: function () { return internal_1.fromUtf8; } });\nObject.defineProperty(exports, \"getBinarySize\", { enumerable: true, get: function () { return internal_1.getBinarySize; } });\nObject.defineProperty(exports, \"getKeys\", { enumerable: true, get: function () { return internal_1.getKeys; } });\nObject.defineProperty(exports, \"isHexPrefixed\", { enumerable: true, get: function () { return internal_1.isHexPrefixed; } });\nObject.defineProperty(exports, \"isHexString\", { enumerable: true, get: function () { return internal_1.isHexString; } });\nObject.defineProperty(exports, \"padToEven\", { enumerable: true, get: function () { return internal_1.padToEven; } });\nObject.defineProperty(exports, \"stripHexPrefix\", { enumerable: true, get: function () { return internal_1.stripHexPrefix; } });\nObject.defineProperty(exports, \"toAscii\", { enumerable: true, get: function () { return internal_1.toAscii; } });\n__exportStar(require(\"./lock\"), exports);\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar isHexPrefixed = require('is-hex-prefixed');\nvar stripHexPrefix = require('strip-hex-prefix');\n\n/**\n * Pads a `String` to have an even length\n * @param {String} value\n * @return {String} output\n */\nfunction padToEven(value) {\n  var a = value; // eslint-disable-line\n\n  if (typeof a !== 'string') {\n    throw new Error('[ethjs-util] while padding to even, value must be string, is currently ' + typeof a + ', while padToEven.');\n  }\n\n  if (a.length % 2) {\n    a = '0' + a;\n  }\n\n  return a;\n}\n\n/**\n * Converts a `Number` into a hex `String`\n * @param {Number} i\n * @return {String}\n */\nfunction intToHex(i) {\n  var hex = i.toString(16); // eslint-disable-line\n\n  return '0x' + hex;\n}\n\n/**\n * Converts an `Number` to a `Buffer`\n * @param {Number} i\n * @return {Buffer}\n */\nfunction intToBuffer(i) {\n  var hex = intToHex(i);\n\n  return new Buffer(padToEven(hex.slice(2)), 'hex');\n}\n\n/**\n * Get the binary size of a string\n * @param {String} str\n * @return {Number}\n */\nfunction getBinarySize(str) {\n  if (typeof str !== 'string') {\n    throw new Error('[ethjs-util] while getting binary size, method getBinarySize requires input \\'str\\' to be type String, got \\'' + typeof str + '\\'.');\n  }\n\n  return Buffer.byteLength(str, 'utf8');\n}\n\n/**\n * Returns TRUE if the first specified array contains all elements\n * from the second one. FALSE otherwise.\n *\n * @param {array} superset\n * @param {array} subset\n *\n * @returns {boolean}\n */\nfunction arrayContainsArray(superset, subset, some) {\n  if (Array.isArray(superset) !== true) {\n    throw new Error('[ethjs-util] method arrayContainsArray requires input \\'superset\\' to be an array got type \\'' + typeof superset + '\\'');\n  }\n  if (Array.isArray(subset) !== true) {\n    throw new Error('[ethjs-util] method arrayContainsArray requires input \\'subset\\' to be an array got type \\'' + typeof subset + '\\'');\n  }\n\n  return subset[Boolean(some) && 'some' || 'every'](function (value) {\n    return superset.indexOf(value) >= 0;\n  });\n}\n\n/**\n * Should be called to get utf8 from it's hex representation\n *\n * @method toUtf8\n * @param {String} string in hex\n * @returns {String} ascii string representation of hex value\n */\nfunction toUtf8(hex) {\n  var bufferValue = new Buffer(padToEven(stripHexPrefix(hex).replace(/^0+|0+$/g, '')), 'hex');\n\n  return bufferValue.toString('utf8');\n}\n\n/**\n * Should be called to get ascii from it's hex representation\n *\n * @method toAscii\n * @param {String} string in hex\n * @returns {String} ascii string representation of hex value\n */\nfunction toAscii(hex) {\n  var str = ''; // eslint-disable-line\n  var i = 0,\n      l = hex.length; // eslint-disable-line\n\n  if (hex.substring(0, 2) === '0x') {\n    i = 2;\n  }\n\n  for (; i < l; i += 2) {\n    var code = parseInt(hex.substr(i, 2), 16);\n    str += String.fromCharCode(code);\n  }\n\n  return str;\n}\n\n/**\n * Should be called to get hex representation (prefixed by 0x) of utf8 string\n *\n * @method fromUtf8\n * @param {String} string\n * @param {Number} optional padding\n * @returns {String} hex representation of input string\n */\nfunction fromUtf8(stringValue) {\n  var str = new Buffer(stringValue, 'utf8');\n\n  return '0x' + padToEven(str.toString('hex')).replace(/^0+|0+$/g, '');\n}\n\n/**\n * Should be called to get hex representation (prefixed by 0x) of ascii string\n *\n * @method fromAscii\n * @param {String} string\n * @param {Number} optional padding\n * @returns {String} hex representation of input string\n */\nfunction fromAscii(stringValue) {\n  var hex = ''; // eslint-disable-line\n  for (var i = 0; i < stringValue.length; i++) {\n    // eslint-disable-line\n    var code = stringValue.charCodeAt(i);\n    var n = code.toString(16);\n    hex += n.length < 2 ? '0' + n : n;\n  }\n\n  return '0x' + hex;\n}\n\n/**\n * getKeys([{a: 1, b: 2}, {a: 3, b: 4}], 'a') => [1, 3]\n *\n * @method getKeys get specific key from inner object array of objects\n * @param {String} params\n * @param {String} key\n * @param {Boolean} allowEmpty\n * @returns {Array} output just a simple array of output keys\n */\nfunction getKeys(params, key, allowEmpty) {\n  if (!Array.isArray(params)) {\n    throw new Error('[ethjs-util] method getKeys expecting type Array as \\'params\\' input, got \\'' + typeof params + '\\'');\n  }\n  if (typeof key !== 'string') {\n    throw new Error('[ethjs-util] method getKeys expecting type String for input \\'key\\' got \\'' + typeof key + '\\'.');\n  }\n\n  var result = []; // eslint-disable-line\n\n  for (var i = 0; i < params.length; i++) {\n    // eslint-disable-line\n    var value = params[i][key]; // eslint-disable-line\n    if (allowEmpty && !value) {\n      value = '';\n    } else if (typeof value !== 'string') {\n      throw new Error('invalid abi');\n    }\n    result.push(value);\n  }\n\n  return result;\n}\n\n/**\n * Is the string a hex string.\n *\n * @method check if string is hex string of specific length\n * @param {String} value\n * @param {Number} length\n * @returns {Boolean} output the string is a hex string\n */\nfunction isHexString(value, length) {\n  if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n    return false;\n  }\n\n  if (length && value.length !== 2 + 2 * length) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  arrayContainsArray: arrayContainsArray,\n  intToBuffer: intToBuffer,\n  getBinarySize: getBinarySize,\n  isHexPrefixed: isHexPrefixed,\n  stripHexPrefix: stripHexPrefix,\n  padToEven: padToEven,\n  intToHex: intToHex,\n  fromAscii: fromAscii,\n  fromUtf8: fromUtf8,\n  toAscii: toAscii,\n  toUtf8: toUtf8,\n  getKeys: getKeys,\n  isHexString: isHexString\n};","var isHexPrefixed = require('is-hex-prefixed');\n\n/**\n * Removes '0x' from a given `String` is present\n * @param {String} str the string value\n * @return {String|Optional} a string by pass if necessary\n */\nmodule.exports = function stripHexPrefix(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return isHexPrefixed(str) ? str.slice(2) : str;\n}\n","/**\n * Returns a `Boolean` on whether or not the a `String` starts with '0x'\n * @param {String} str the string input value\n * @return {Boolean} a boolean if it is or is not hex prefixed\n * @throws if the str input is not a string\n */\nmodule.exports = function isHexPrefixed(str) {\n  if (typeof str !== 'string') {\n    throw new Error(\"[is-hex-prefixed] value must be type 'string', is currently type \" + (typeof str) + \", while checking isHexPrefixed.\");\n  }\n\n  return str.slice(0, 2) === '0x';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.numberToBuffer = exports.normalize = exports.recoverPublicKey = exports.concatSig = exports.legacyToBuffer = exports.isNullish = exports.padWithZeroes = void 0;\nconst util_1 = require(\"@ethereumjs/util\");\nconst ethjs_util_1 = require(\"ethjs-util\");\n/**\n * Pads the front of the given hex string with zeroes until it reaches the\n * target length. If the input string is already longer than or equal to the\n * target length, it is returned unmodified.\n *\n * If the input string is \"0x\"-prefixed or not a hex string, an error will be\n * thrown.\n *\n * @param hexString - The hexadecimal string to pad with zeroes.\n * @param targetLength - The target length of the hexadecimal string.\n * @returns The input string front-padded with zeroes, or the original string\n * if it was already greater than or equal to to the target length.\n */\nfunction padWithZeroes(hexString, targetLength) {\n    if (hexString !== '' && !/^[a-f0-9]+$/iu.test(hexString)) {\n        throw new Error(`Expected an unprefixed hex string. Received: ${hexString}`);\n    }\n    if (targetLength < 0) {\n        throw new Error(`Expected a non-negative integer target length. Received: ${targetLength}`);\n    }\n    return String.prototype.padStart.call(hexString, targetLength, '0');\n}\nexports.padWithZeroes = padWithZeroes;\n/**\n * Returns `true` if the given value is nullish.\n *\n * @param value - The value being checked.\n * @returns Whether the value is nullish.\n */\nfunction isNullish(value) {\n    return value === null || value === undefined;\n}\nexports.isNullish = isNullish;\n/**\n * Convert a value to a Buffer. This function should be equivalent to the `toBuffer` function in\n * `ethereumjs-util@5.2.1`.\n *\n * @param value - The value to convert to a Buffer.\n * @returns The given value as a Buffer.\n */\nfunction legacyToBuffer(value) {\n    return typeof value === 'string' && !(0, ethjs_util_1.isHexString)(value)\n        ? Buffer.from(value)\n        : (0, util_1.toBuffer)(value);\n}\nexports.legacyToBuffer = legacyToBuffer;\n/**\n * Concatenate an extended ECDSA signature into a single '0x'-prefixed hex string.\n *\n * @param v - The 'v' portion of the signature.\n * @param r - The 'r' portion of the signature.\n * @param s - The 's' portion of the signature.\n * @returns The concatenated ECDSA signature as a '0x'-prefixed string.\n */\nfunction concatSig(v, r, s) {\n    const rSig = (0, util_1.fromSigned)(r);\n    const sSig = (0, util_1.fromSigned)(s);\n    const vSig = (0, util_1.bufferToInt)(v);\n    const rStr = padWithZeroes((0, util_1.toUnsigned)(rSig).toString('hex'), 64);\n    const sStr = padWithZeroes((0, util_1.toUnsigned)(sSig).toString('hex'), 64);\n    const vStr = (0, ethjs_util_1.stripHexPrefix)((0, ethjs_util_1.intToHex)(vSig));\n    return (0, util_1.addHexPrefix)(rStr.concat(sStr, vStr));\n}\nexports.concatSig = concatSig;\n/**\n * Recover the public key from the given signature and message hash.\n *\n * @param messageHash - The hash of the signed message.\n * @param signature - The signature.\n * @returns The public key of the signer.\n */\nfunction recoverPublicKey(messageHash, signature) {\n    const sigParams = (0, util_1.fromRpcSig)(signature);\n    return (0, util_1.ecrecover)(messageHash, sigParams.v, sigParams.r, sigParams.s);\n}\nexports.recoverPublicKey = recoverPublicKey;\n/**\n * Normalize the input to a lower-cased '0x'-prefixed hex string.\n *\n * @param input - The value to normalize.\n * @returns The normalized value.\n */\nfunction normalize(input) {\n    if (!input) {\n        return undefined;\n    }\n    if (typeof input === 'number') {\n        if (input < 0) {\n            return '0x';\n        }\n        const buffer = (0, util_1.toBuffer)(input);\n        input = (0, util_1.bufferToHex)(buffer);\n    }\n    if (typeof input !== 'string') {\n        let msg = 'eth-sig-util.normalize() requires hex string or integer input.';\n        msg += ` received ${typeof input}: ${input}`;\n        throw new Error(msg);\n    }\n    return (0, util_1.addHexPrefix)(input.toLowerCase());\n}\nexports.normalize = normalize;\n/**\n * Node's Buffer.from() method does not seem to buffer numbers correctly out of the box.\n * This helper method formats the number correct for Buffer.from to return correct buffer.\n *\n * @param num - The number to convert to buffer.\n * @returns The number in buffer form.\n */\nfunction numberToBuffer(num) {\n    const hexVal = num.toString(16);\n    const prepend = hexVal.length % 2 ? '0' : '';\n    return Buffer.from(prepend + hexVal, 'hex');\n}\nexports.numberToBuffer = numberToBuffer;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractPublicKey = exports.recoverPersonalSignature = exports.personalSign = void 0;\nconst util_1 = require(\"@ethereumjs/util\");\nconst utils_1 = require(\"./utils\");\n/**\n * Create an Ethereum-specific signature for a message.\n *\n * This function is equivalent to the `eth_sign` Ethereum JSON-RPC method as specified in EIP-1417,\n * as well as the MetaMask's `personal_sign` method.\n *\n * @param options - The personal sign options.\n * @param options.privateKey - The key to sign with.\n * @param options.data - The hex data to sign.\n * @returns The '0x'-prefixed hex encoded signature.\n */\nfunction personalSign({ privateKey, data, }) {\n    if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(privateKey)) {\n        throw new Error('Missing privateKey parameter');\n    }\n    const message = (0, utils_1.legacyToBuffer)(data);\n    const msgHash = (0, util_1.hashPersonalMessage)(message);\n    const sig = (0, util_1.ecsign)(msgHash, privateKey);\n    const serialized = (0, utils_1.concatSig)((0, util_1.toBuffer)(sig.v), sig.r, sig.s);\n    return serialized;\n}\nexports.personalSign = personalSign;\n/**\n * Recover the address of the account used to create the given Ethereum signature. The message\n * must have been signed using the `personalSign` function, or an equivalent function.\n *\n * @param options - The signature recovery options.\n * @param options.data - The hex data that was signed.\n * @param options.signature - The '0x'-prefixed hex encoded message signature.\n * @returns The '0x'-prefixed hex encoded address of the message signer.\n */\nfunction recoverPersonalSignature({ data, signature, }) {\n    if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(signature)) {\n        throw new Error('Missing signature parameter');\n    }\n    const publicKey = getPublicKeyFor(data, signature);\n    const sender = (0, util_1.publicToAddress)(publicKey);\n    const senderHex = (0, util_1.bufferToHex)(sender);\n    return senderHex;\n}\nexports.recoverPersonalSignature = recoverPersonalSignature;\n/**\n * Recover the public key of the account used to create the given Ethereum signature. The message\n * must have been signed using the `personalSign` function, or an equivalent function.\n *\n * @param options - The public key recovery options.\n * @param options.data - The hex data that was signed.\n * @param options.signature - The '0x'-prefixed hex encoded message signature.\n * @returns The '0x'-prefixed hex encoded public key of the message signer.\n */\nfunction extractPublicKey({ data, signature, }) {\n    if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(signature)) {\n        throw new Error('Missing signature parameter');\n    }\n    const publicKey = getPublicKeyFor(data, signature);\n    return `0x${publicKey.toString('hex')}`;\n}\nexports.extractPublicKey = extractPublicKey;\n/**\n * Get the public key for the given signature and message.\n *\n * @param message - The message that was signed.\n * @param signature - The '0x'-prefixed hex encoded message signature.\n * @returns The public key of the signer.\n */\nfunction getPublicKeyFor(message, signature) {\n    const messageHash = (0, util_1.hashPersonalMessage)((0, utils_1.legacyToBuffer)(message));\n    return (0, utils_1.recoverPublicKey)(messageHash, signature);\n}\n//# sourceMappingURL=personal-sign.js.map","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [ number & 0x3ffffff ];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [ 0 ];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this.strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // 'A' - 'F'\n    if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    // '0' - '9'\n    } else {\n      return (c - 48) & 0xf;\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this.strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        r += c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        r += c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r += c;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [ 0 ];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this.strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype.strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  BN.prototype.inspect = function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  };\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16);\n  };\n\n  BN.prototype.toBuffer = function toBuffer (endian, length) {\n    assert(typeof Buffer !== 'undefined');\n    return this.toArrayLike(Buffer, endian, length);\n  };\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    this.strip();\n    var littleEndian = endian === 'le';\n    var res = new ArrayType(reqLength);\n\n    var b, i;\n    var q = this.clone();\n    if (!littleEndian) {\n      // Assume big-endian\n      for (i = 0; i < reqLength - byteLength; i++) {\n        res[i] = 0;\n      }\n\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[reqLength - i - 1] = b;\n      }\n    } else {\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[i] = b;\n      }\n\n      for (; i < reqLength; i++) {\n        res[i] = 0;\n      }\n    }\n\n    return res;\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this.strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this.strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this.strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    var fftm = new FFTM();\n    return fftm.mulp(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out.strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this.strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) < num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this.strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this.strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q.strip();\n    }\n    a.strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modn = function modn (num) {\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return acc;\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this.strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is BN v4 instance\n        r.strip();\n      } else {\n        // r is BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n    return a.umod(this.m)._forceRed(this);\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","\"use strict\";\n/* eslint jsdoc/require-description: 0 */\n/* eslint jsdoc/require-returns: 0 */\n/* eslint jsdoc/match-description: 0 */\n/* eslint jsdoc/require-param-description: 0 */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rawEncode = exports.parseNumber = exports.solidityPack = void 0;\nconst util_1 = require(\"@ethereumjs/util\");\nconst ethjs_util_1 = require(\"ethjs-util\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst utils_1 = require(\"./utils\");\n//\n// Methods borrowed and somewhat adapted from ethereumjs-abi@0.6.8:\n// https://npmfs.com/package/ethereumjs-abi/0.6.8/lib/index.js\n//\n/**\n * Packs non-standard encoded values packed according to their respective type in types in a buffer.\n *\n * @param types - Array of types of each value to encode.\n * @param values - Array of values to encode.\n * @returns A buffer containing the packed values.\n */\nfunction solidityPack(types, values) {\n    if (types.length !== values.length) {\n        throw new Error('Number of types are not matching the values');\n    }\n    const ret = [];\n    for (let i = 0; i < types.length; i++) {\n        const type = elementaryName(types[i]);\n        const value = values[i];\n        ret.push(solidityHexValue(type, value, null));\n    }\n    return Buffer.concat(ret);\n}\nexports.solidityPack = solidityPack;\n/**\n * Checks if a value is an array (represented as a string).\n *\n * @param type - The value to check whether it is an array.\n * @returns A boolean indicating whether the passed value is an array.\n */\nfunction isArray(type) {\n    return type.lastIndexOf(']') === type.length - 1;\n}\n/**\n * Parse array type for packing solidity values.\n *\n * @param type - A string that may be an array to parse.\n * @returns A parsed value from the array.\n */\nfunction parseTypeArray(type) {\n    const tmp = type.match(/(.*)\\[(.*?)\\]$/u);\n    if (tmp) {\n        return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10);\n    }\n    return null;\n}\n/**\n * Parse N from type<N>.\n *\n * @param type - Value to parse.\n * @returns Parsed value.\n */\nfunction parseTypeN(type) {\n    return parseInt(/^\\D+(\\d+)$/u.exec(type)[1], 10);\n}\n/**\n * Parse a number for determining a solidity hexvalue.\n *\n * @param arg - Number to parse.\n * @returns Parsed value.\n */\nfunction parseNumber(arg) {\n    const type = typeof arg;\n    if (type === 'string') {\n        if ((0, util_1.isHexPrefixed)(arg)) {\n            return new bn_js_1.default((0, ethjs_util_1.stripHexPrefix)(arg), 16);\n        }\n        return new bn_js_1.default(arg, 10);\n    }\n    else if (type === 'number') {\n        return new bn_js_1.default(arg);\n    }\n    else if (arg.toArray) {\n        // assume this is a BN for the moment, replace with BN.isBN soon\n        return arg;\n    }\n    throw new Error('Argument is not a number');\n}\nexports.parseNumber = parseNumber;\n/**\n * Get solidity hex value from type, value and bitsize inputs for packing these values in a buffer.\n *\n * @param type - The type of the value to encode.\n * @param value - The value to encode.\n * @param bitsize - The bitsize of the value to encode.\n * @returns The encoded soldity hex value.\n */\nfunction solidityHexValue(type, value, bitsize) {\n    // pass in bitsize = null if use default bitsize\n    let size, num;\n    if (isArray(type)) {\n        const subType = type.replace(/\\[.*?\\]/u, '');\n        if (!isArray(subType)) {\n            const arraySize = parseTypeArray(type);\n            if (arraySize !== 'dynamic' &&\n                arraySize !== 0 &&\n                value.length > arraySize) {\n                throw new Error(`Elements exceed array size: ${arraySize}`);\n            }\n        }\n        const arrayValues = value.map(function (v) {\n            return solidityHexValue(subType, v, 256);\n        });\n        return Buffer.concat(arrayValues);\n    }\n    else if (type === 'bytes') {\n        return value;\n    }\n    else if (type === 'string') {\n        return Buffer.from(value, 'utf8');\n    }\n    else if (type === 'bool') {\n        bitsize = bitsize || 8;\n        const padding = Array(bitsize / 4).join('0');\n        return Buffer.from(value ? `${padding}1` : `${padding}0`, 'hex');\n    }\n    else if (type === 'address') {\n        let bytesize = 20;\n        if (bitsize) {\n            bytesize = bitsize / 8;\n        }\n        return (0, util_1.setLengthLeft)((0, util_1.toBuffer)(value), bytesize);\n    }\n    else if (type.startsWith('bytes')) {\n        size = parseTypeN(type);\n        if (size < 1 || size > 32) {\n            throw new Error(`Invalid bytes<N> width: ${size}`);\n        }\n        if (typeof value === 'number') {\n            value = (0, utils_1.normalize)(value);\n        }\n        return (0, util_1.setLengthRight)((0, util_1.toBuffer)(value), size);\n    }\n    else if (type.startsWith('uint')) {\n        size = parseTypeN(type);\n        if (size % 8 || size < 8 || size > 256) {\n            throw new Error(`Invalid uint<N> width: ${size}`);\n        }\n        num = parseNumber(value);\n        if (num.bitLength() > size) {\n            throw new Error(`Supplied uint exceeds width: ${size} vs ${num.bitLength()}`);\n        }\n        bitsize = bitsize || size;\n        return num.toArrayLike(Buffer, 'be', bitsize / 8);\n    }\n    else if (type.startsWith('int')) {\n        size = parseTypeN(type);\n        if (size % 8 || size < 8 || size > 256) {\n            throw new Error(`Invalid int<N> width: ${size}`);\n        }\n        num = parseNumber(value);\n        if (num.bitLength() > size) {\n            throw new Error(`Supplied int exceeds width: ${size} vs ${num.bitLength()}`);\n        }\n        bitsize = bitsize || size;\n        return num.toTwos(size).toArrayLike(Buffer, 'be', bitsize / 8);\n    }\n    // FIXME: support all other types\n    throw new Error(`Unsupported or invalid type: ${type}`);\n}\n/**\n * Gets the correct solidity type name.\n *\n * @param name - The type name for which we want the corresponding solidity type name.\n * @returns The solidity type name for the input value.\n */\nfunction elementaryName(name) {\n    if (name.startsWith('int[')) {\n        return `int256${name.slice(3)}`;\n    }\n    else if (name === 'int') {\n        return 'int256';\n    }\n    else if (name.startsWith('uint[')) {\n        return `uint256${name.slice(4)}`;\n    }\n    else if (name === 'uint') {\n        return 'uint256';\n    }\n    else if (name.startsWith('fixed[')) {\n        return `fixed128x128${name.slice(5)}`;\n    }\n    else if (name === 'fixed') {\n        return 'fixed128x128';\n    }\n    else if (name.startsWith('ufixed[')) {\n        return `ufixed128x128${name.slice(6)}`;\n    }\n    else if (name === 'ufixed') {\n        return 'ufixed128x128';\n    }\n    return name;\n}\n/**\n * @param types\n * @param values\n */\nfunction rawEncode(types, values) {\n    const output = [];\n    const data = [];\n    let headLength = 0;\n    types.forEach(function (type) {\n        if (isArray(type)) {\n            const size = parseTypeArray(type);\n            // eslint-disable-next-line no-negated-condition\n            if (size !== 'dynamic') {\n                headLength += 32 * size;\n            }\n            else {\n                headLength += 32;\n            }\n        }\n        else {\n            headLength += 32;\n        }\n    });\n    for (let i = 0; i < types.length; i++) {\n        const type = elementaryName(types[i]);\n        const value = values[i];\n        const cur = encodeSingle(type, value);\n        // Use the head/tail method for storing dynamic data\n        if (isDynamic(type)) {\n            output.push(encodeSingle('uint256', headLength));\n            data.push(cur);\n            headLength += cur.length;\n        }\n        else {\n            output.push(cur);\n        }\n    }\n    return Buffer.concat(output.concat(data));\n}\nexports.rawEncode = rawEncode;\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\n/**\n * @param type\n * @param arg\n */\nfunction encodeSingle(type, arg) {\n    let size, num, ret, i;\n    if (type === 'address') {\n        return encodeSingle('uint160', parseNumber(arg));\n    }\n    else if (type === 'bool') {\n        return encodeSingle('uint8', arg ? 1 : 0);\n    }\n    else if (type === 'string') {\n        return encodeSingle('bytes', Buffer.from(arg, 'utf8'));\n    }\n    else if (isArray(type)) {\n        // this part handles fixed-length ([2]) and variable length ([]) arrays\n        // NOTE: we catch here all calls to arrays, that simplifies the rest\n        if (typeof arg.length === 'undefined') {\n            throw new Error('Not an array?');\n        }\n        size = parseTypeArray(type);\n        if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n            throw new Error(`Elements exceed array size: ${size}`);\n        }\n        ret = [];\n        type = type.slice(0, type.lastIndexOf('['));\n        if (typeof arg === 'string') {\n            arg = JSON.parse(arg);\n        }\n        for (i in arg) {\n            if (Object.prototype.hasOwnProperty.call(arg, i)) {\n                ret.push(encodeSingle(type, arg[i]));\n            }\n        }\n        if (size === 'dynamic') {\n            const length = encodeSingle('uint256', arg.length);\n            ret.unshift(length);\n        }\n        return Buffer.concat(ret);\n    }\n    else if (type === 'bytes') {\n        arg = Buffer.from(arg);\n        ret = Buffer.concat([encodeSingle('uint256', arg.length), arg]);\n        if (arg.length % 32 !== 0) {\n            ret = Buffer.concat([ret, (0, util_1.zeros)(32 - (arg.length % 32))]);\n        }\n        return ret;\n    }\n    else if (type.startsWith('bytes')) {\n        size = parseTypeN(type);\n        if (size < 1 || size > 32) {\n            throw new Error(`Invalid bytes<N> width: ${size}`);\n        }\n        if (typeof arg === 'number') {\n            arg = (0, utils_1.normalize)(arg);\n        }\n        return (0, util_1.setLengthRight)((0, util_1.toBuffer)(arg), 32);\n    }\n    else if (type.startsWith('uint')) {\n        size = parseTypeN(type);\n        if (size % 8 || size < 8 || size > 256) {\n            throw new Error(`Invalid uint<N> width: ${size}`);\n        }\n        num = parseNumber(arg);\n        if (num.bitLength() > size) {\n            throw new Error(`Supplied uint exceeds width: ${size} vs ${num.bitLength()}`);\n        }\n        if (num < 0) {\n            throw new Error('Supplied uint is negative');\n        }\n        return num.toArrayLike(Buffer, 'be', 32);\n    }\n    else if (type.startsWith('int')) {\n        size = parseTypeN(type);\n        if (size % 8 || size < 8 || size > 256) {\n            throw new Error(`Invalid int<N> width: ${size}`);\n        }\n        num = parseNumber(arg);\n        if (num.bitLength() > size) {\n            throw new Error(`Supplied int exceeds width: ${size} vs ${num.bitLength()}`);\n        }\n        return num.toTwos(256).toArrayLike(Buffer, 'be', 32);\n    }\n    else if (type.startsWith('ufixed')) {\n        size = parseTypeNxM(type);\n        num = parseNumber(arg);\n        if (num < 0) {\n            throw new Error('Supplied ufixed is negative');\n        }\n        return encodeSingle('uint256', num.mul(new bn_js_1.default(2).pow(new bn_js_1.default(size[1]))));\n    }\n    else if (type.startsWith('fixed')) {\n        size = parseTypeNxM(type);\n        return encodeSingle('int256', parseNumber(arg).mul(new bn_js_1.default(2).pow(new bn_js_1.default(size[1]))));\n    }\n    throw new Error(`Unsupported or invalid type: ${type}`);\n}\n// Is a type dynamic?\n/**\n * @param type\n */\nfunction isDynamic(type) {\n    // FIXME: handle all types? I don't think anything is missing now\n    return (type === 'string' || type === 'bytes' || parseTypeArray(type) === 'dynamic');\n}\n// Parse N,M from type<N>x<M>\n/**\n * @param type\n */\nfunction parseTypeNxM(type) {\n    const tmp = /^\\D+(\\d+)x(\\d+)$/u.exec(type);\n    return [parseInt(tmp[1], 10), parseInt(tmp[2], 10)];\n}\n//# sourceMappingURL=ethereumjs-abi-utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.recoverTypedSignature = exports.signTypedData = exports.typedSignatureHash = exports.TypedDataUtils = exports.TYPED_MESSAGE_SCHEMA = exports.SignTypedDataVersion = void 0;\nconst ethjs_util_1 = require(\"ethjs-util\");\nconst util_1 = require(\"@ethereumjs/util\");\nconst keccak_1 = require(\"ethereum-cryptography/keccak\");\nconst ethereumjs_abi_utils_1 = require(\"./ethereumjs-abi-utils\");\nconst utils_1 = require(\"./utils\");\n/**\n * Represents the version of `signTypedData` being used.\n *\n * V1 is based upon [an early version of EIP-712](https://github.com/ethereum/EIPs/pull/712/commits/21abe254fe0452d8583d5b132b1d7be87c0439ca)\n * that lacked some later security improvements, and should generally be neglected in favor of\n * later versions.\n *\n * V3 is based on EIP-712, except that arrays and recursive data structures are not supported.\n *\n * V4 is based on EIP-712, and includes full support of arrays and recursive data structures.\n */\nvar SignTypedDataVersion;\n(function (SignTypedDataVersion) {\n    SignTypedDataVersion[\"V1\"] = \"V1\";\n    SignTypedDataVersion[\"V3\"] = \"V3\";\n    SignTypedDataVersion[\"V4\"] = \"V4\";\n})(SignTypedDataVersion = exports.SignTypedDataVersion || (exports.SignTypedDataVersion = {}));\nexports.TYPED_MESSAGE_SCHEMA = {\n    type: 'object',\n    properties: {\n        types: {\n            type: 'object',\n            additionalProperties: {\n                type: 'array',\n                items: {\n                    type: 'object',\n                    properties: {\n                        name: { type: 'string' },\n                        type: { type: 'string' },\n                    },\n                    required: ['name', 'type'],\n                },\n            },\n        },\n        primaryType: { type: 'string' },\n        domain: { type: 'object' },\n        message: { type: 'object' },\n    },\n    required: ['types', 'primaryType', 'domain', 'message'],\n};\n/**\n * Validate that the given value is a valid version string.\n *\n * @param version - The version value to validate.\n * @param allowedVersions - A list of allowed versions. If omitted, all versions are assumed to be\n * allowed.\n */\nfunction validateVersion(version, allowedVersions) {\n    if (!Object.keys(SignTypedDataVersion).includes(version)) {\n        throw new Error(`Invalid version: '${version}'`);\n    }\n    else if (allowedVersions && !allowedVersions.includes(version)) {\n        throw new Error(`SignTypedDataVersion not allowed: '${version}'. Allowed versions are: ${allowedVersions.join(', ')}`);\n    }\n}\n/**\n * Encode a single field.\n *\n * @param types - All type definitions.\n * @param name - The name of the field to encode.\n * @param type - The type of the field being encoded.\n * @param value - The value to encode.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns Encoded representation of the field.\n */\nfunction encodeField(types, name, type, value, version) {\n    validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n    if (types[type] !== undefined) {\n        return [\n            'bytes32',\n            version === SignTypedDataVersion.V4 && value == null // eslint-disable-line no-eq-null\n                ? '0x0000000000000000000000000000000000000000000000000000000000000000'\n                : (0, util_1.arrToBufArr)((0, keccak_1.keccak256)(encodeData(type, value, types, version))),\n        ];\n    }\n    if (value === undefined) {\n        throw new Error(`missing value for field ${name} of type ${type}`);\n    }\n    if (type === 'bytes') {\n        if (typeof value === 'number') {\n            value = (0, utils_1.numberToBuffer)(value);\n        }\n        else if ((0, ethjs_util_1.isHexString)(value)) {\n            const prepend = value.length % 2 ? '0' : '';\n            value = Buffer.from(prepend + value.slice(2), 'hex');\n        }\n        else {\n            value = Buffer.from(value, 'utf8');\n        }\n        return ['bytes32', (0, util_1.arrToBufArr)((0, keccak_1.keccak256)(value))];\n    }\n    if (type === 'string') {\n        if (typeof value === 'number') {\n            value = (0, utils_1.numberToBuffer)(value);\n        }\n        else {\n            value = Buffer.from(value !== null && value !== void 0 ? value : '', 'utf8');\n        }\n        return ['bytes32', (0, util_1.arrToBufArr)((0, keccak_1.keccak256)(value))];\n    }\n    if (type.lastIndexOf(']') === type.length - 1) {\n        if (version === SignTypedDataVersion.V3) {\n            throw new Error('Arrays are unimplemented in encodeData; use V4 extension');\n        }\n        const parsedType = type.slice(0, type.lastIndexOf('['));\n        const typeValuePairs = value.map((item) => encodeField(types, name, parsedType, item, version));\n        return [\n            'bytes32',\n            (0, util_1.arrToBufArr)((0, keccak_1.keccak256)((0, ethereumjs_abi_utils_1.rawEncode)(typeValuePairs.map(([t]) => t), typeValuePairs.map(([, v]) => v)))),\n        ];\n    }\n    return [type, value];\n}\n/**\n * Encodes an object by encoding and concatenating each of its members.\n *\n * @param primaryType - The root type.\n * @param data - The object to encode.\n * @param types - Type definitions for all types included in the message.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns An encoded representation of an object.\n */\nfunction encodeData(primaryType, data, types, version) {\n    validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n    const encodedTypes = ['bytes32'];\n    const encodedValues = [hashType(primaryType, types)];\n    for (const field of types[primaryType]) {\n        if (version === SignTypedDataVersion.V3 && data[field.name] === undefined) {\n            continue;\n        }\n        const [type, value] = encodeField(types, field.name, field.type, data[field.name], version);\n        encodedTypes.push(type);\n        encodedValues.push(value);\n    }\n    return (0, ethereumjs_abi_utils_1.rawEncode)(encodedTypes, encodedValues);\n}\n/**\n * Encodes the type of an object by encoding a comma delimited list of its members.\n *\n * @param primaryType - The root type to encode.\n * @param types - Type definitions for all types included in the message.\n * @returns An encoded representation of the primary type.\n */\nfunction encodeType(primaryType, types) {\n    let result = '';\n    const unsortedDeps = findTypeDependencies(primaryType, types);\n    unsortedDeps.delete(primaryType);\n    const deps = [primaryType, ...Array.from(unsortedDeps).sort()];\n    for (const type of deps) {\n        const children = types[type];\n        if (!children) {\n            throw new Error(`No type definition specified: ${type}`);\n        }\n        result += `${type}(${types[type]\n            .map(({ name, type: t }) => `${t} ${name}`)\n            .join(',')})`;\n    }\n    return result;\n}\n/**\n * Finds all types within a type definition object.\n *\n * @param primaryType - The root type.\n * @param types - Type definitions for all types included in the message.\n * @param results - The current set of accumulated types.\n * @returns The set of all types found in the type definition.\n */\nfunction findTypeDependencies(primaryType, types, results = new Set()) {\n    [primaryType] = primaryType.match(/^\\w*/u);\n    if (results.has(primaryType) || types[primaryType] === undefined) {\n        return results;\n    }\n    results.add(primaryType);\n    for (const field of types[primaryType]) {\n        findTypeDependencies(field.type, types, results);\n    }\n    return results;\n}\n/**\n * Hashes an object.\n *\n * @param primaryType - The root type.\n * @param data - The object to hash.\n * @param types - Type definitions for all types included in the message.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns The hash of the object.\n */\nfunction hashStruct(primaryType, data, types, version) {\n    validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n    return (0, util_1.arrToBufArr)((0, keccak_1.keccak256)(encodeData(primaryType, data, types, version)));\n}\n/**\n * Hashes the type of an object.\n *\n * @param primaryType - The root type to hash.\n * @param types - Type definitions for all types included in the message.\n * @returns The hash of the object type.\n */\nfunction hashType(primaryType, types) {\n    const encodedHashType = Buffer.from(encodeType(primaryType, types), 'utf-8');\n    return (0, util_1.arrToBufArr)((0, keccak_1.keccak256)(encodedHashType));\n}\n/**\n * Removes properties from a message object that are not defined per EIP-712.\n *\n * @param data - The typed message object.\n * @returns The typed message object with only allowed fields.\n */\nfunction sanitizeData(data) {\n    const sanitizedData = {};\n    for (const key in exports.TYPED_MESSAGE_SCHEMA.properties) {\n        if (data[key]) {\n            sanitizedData[key] = data[key];\n        }\n    }\n    if ('types' in sanitizedData) {\n        sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types);\n    }\n    return sanitizedData;\n}\n/**\n * Hash a typed message according to EIP-712. The returned message starts with the EIP-712 prefix,\n * which is \"1901\", followed by the hash of the domain separator, then the data (if any).\n * The result is hashed again and returned.\n *\n * This function does not sign the message. The resulting hash must still be signed to create an\n * EIP-712 signature.\n *\n * @param typedData - The typed message to hash.\n * @param version - The EIP-712 version the encoding should comply with.\n * @returns The hash of the typed message.\n */\nfunction eip712Hash(typedData, version) {\n    validateVersion(version, [SignTypedDataVersion.V3, SignTypedDataVersion.V4]);\n    const sanitizedData = sanitizeData(typedData);\n    const parts = [Buffer.from('1901', 'hex')];\n    parts.push(hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, version));\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n        parts.push(hashStruct(\n        // TODO: Validate that this is a string, so this type cast can be removed.\n        sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, version));\n    }\n    return (0, util_1.arrToBufArr)((0, keccak_1.keccak256)(Buffer.concat(parts)));\n}\n/**\n * A collection of utility functions used for signing typed data.\n */\nexports.TypedDataUtils = {\n    encodeData,\n    encodeType,\n    findTypeDependencies,\n    hashStruct,\n    hashType,\n    sanitizeData,\n    eip712Hash,\n};\n/**\n * Generate the \"V1\" hash for the provided typed message.\n *\n * The hash will be generated in accordance with an earlier version of the EIP-712\n * specification. This hash is used in `signTypedData_v1`.\n *\n * @param typedData - The typed message.\n * @returns The '0x'-prefixed hex encoded hash representing the type of the provided message.\n */\nfunction typedSignatureHash(typedData) {\n    const hashBuffer = _typedSignatureHash(typedData);\n    return (0, util_1.bufferToHex)(hashBuffer);\n}\nexports.typedSignatureHash = typedSignatureHash;\n/**\n * Generate the \"V1\" hash for the provided typed message.\n *\n * The hash will be generated in accordance with an earlier version of the EIP-712\n * specification. This hash is used in `signTypedData_v1`.\n *\n * @param typedData - The typed message.\n * @returns The hash representing the type of the provided message.\n */\nfunction _typedSignatureHash(typedData) {\n    const error = new Error('Expect argument to be non-empty array');\n    if (typeof typedData !== 'object' ||\n        !('length' in typedData) ||\n        !typedData.length) {\n        throw error;\n    }\n    const data = typedData.map(function (e) {\n        if (e.type !== 'bytes') {\n            return e.value;\n        }\n        return (0, utils_1.legacyToBuffer)(e.value);\n    });\n    const types = typedData.map(function (e) {\n        return e.type;\n    });\n    const schema = typedData.map(function (e) {\n        if (!e.name) {\n            throw error;\n        }\n        return `${e.type} ${e.name}`;\n    });\n    return (0, util_1.arrToBufArr)((0, keccak_1.keccak256)((0, ethereumjs_abi_utils_1.solidityPack)(['bytes32', 'bytes32'], [\n        (0, keccak_1.keccak256)((0, ethereumjs_abi_utils_1.solidityPack)(new Array(typedData.length).fill('string'), schema)),\n        (0, keccak_1.keccak256)((0, ethereumjs_abi_utils_1.solidityPack)(types, data)),\n    ])));\n}\n/**\n * Sign typed data according to EIP-712. The signing differs based upon the `version`.\n *\n * V1 is based upon [an early version of EIP-712](https://github.com/ethereum/EIPs/pull/712/commits/21abe254fe0452d8583d5b132b1d7be87c0439ca)\n * that lacked some later security improvements, and should generally be neglected in favor of\n * later versions.\n *\n * V3 is based on [EIP-712](https://eips.ethereum.org/EIPS/eip-712), except that arrays and\n * recursive data structures are not supported.\n *\n * V4 is based on [EIP-712](https://eips.ethereum.org/EIPS/eip-712), and includes full support of\n * arrays and recursive data structures.\n *\n * @param options - The signing options.\n * @param options.privateKey - The private key to sign with.\n * @param options.data - The typed data to sign.\n * @param options.version - The signing version to use.\n * @returns The '0x'-prefixed hex encoded signature.\n */\nfunction signTypedData({ privateKey, data, version, }) {\n    validateVersion(version);\n    if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(privateKey)) {\n        throw new Error('Missing private key parameter');\n    }\n    const messageHash = version === SignTypedDataVersion.V1\n        ? _typedSignatureHash(data)\n        : exports.TypedDataUtils.eip712Hash(data, version);\n    const sig = (0, util_1.ecsign)(messageHash, privateKey);\n    return (0, utils_1.concatSig)((0, util_1.toBuffer)(sig.v), sig.r, sig.s);\n}\nexports.signTypedData = signTypedData;\n/**\n * Recover the address of the account that created the given EIP-712\n * signature. The version provided must match the version used to\n * create the signature.\n *\n * @param options - The signature recovery options.\n * @param options.data - The typed data that was signed.\n * @param options.signature - The '0x-prefixed hex encoded message signature.\n * @param options.version - The signing version to use.\n * @returns The '0x'-prefixed hex address of the signer.\n */\nfunction recoverTypedSignature({ data, signature, version, }) {\n    validateVersion(version);\n    if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(signature)) {\n        throw new Error('Missing signature parameter');\n    }\n    const messageHash = version === SignTypedDataVersion.V1\n        ? _typedSignatureHash(data)\n        : exports.TypedDataUtils.eip712Hash(data, version);\n    const publicKey = (0, utils_1.recoverPublicKey)(messageHash, signature);\n    const sender = (0, util_1.publicToAddress)(publicKey);\n    return (0, util_1.bufferToHex)(sender);\n}\nexports.recoverTypedSignature = recoverTypedSignature;\n//# sourceMappingURL=sign-typed-data.js.map","// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEncryptionPublicKey = exports.decryptSafely = exports.decrypt = exports.encryptSafely = exports.encrypt = void 0;\nconst nacl = __importStar(require(\"tweetnacl\"));\nconst naclUtil = __importStar(require(\"tweetnacl-util\"));\nconst utils_1 = require(\"./utils\");\n/**\n * Encrypt a message.\n *\n * @param options - The encryption options.\n * @param options.publicKey - The public key of the message recipient.\n * @param options.data - The message data.\n * @param options.version - The type of encryption to use.\n * @returns The encrypted data.\n */\nfunction encrypt({ publicKey, data, version, }) {\n    if ((0, utils_1.isNullish)(publicKey)) {\n        throw new Error('Missing publicKey parameter');\n    }\n    else if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(version)) {\n        throw new Error('Missing version parameter');\n    }\n    switch (version) {\n        case 'x25519-xsalsa20-poly1305': {\n            if (typeof data !== 'string') {\n                throw new Error('Message data must be given as a string');\n            }\n            // generate ephemeral keypair\n            const ephemeralKeyPair = nacl.box.keyPair();\n            // assemble encryption parameters - from string to UInt8\n            let pubKeyUInt8Array;\n            try {\n                pubKeyUInt8Array = naclUtil.decodeBase64(publicKey);\n            }\n            catch (err) {\n                throw new Error('Bad public key');\n            }\n            const msgParamsUInt8Array = naclUtil.decodeUTF8(data);\n            const nonce = nacl.randomBytes(nacl.box.nonceLength);\n            // encrypt\n            const encryptedMessage = nacl.box(msgParamsUInt8Array, nonce, pubKeyUInt8Array, ephemeralKeyPair.secretKey);\n            // handle encrypted data\n            const output = {\n                version: 'x25519-xsalsa20-poly1305',\n                nonce: naclUtil.encodeBase64(nonce),\n                ephemPublicKey: naclUtil.encodeBase64(ephemeralKeyPair.publicKey),\n                ciphertext: naclUtil.encodeBase64(encryptedMessage),\n            };\n            // return encrypted msg data\n            return output;\n        }\n        default:\n            throw new Error('Encryption type/version not supported');\n    }\n}\nexports.encrypt = encrypt;\n/**\n * Encrypt a message in a way that obscures the message length.\n *\n * The message is padded to a multiple of 2048 before being encrypted so that the length of the\n * resulting encrypted message can't be used to guess the exact length of the original message.\n *\n * @param options - The encryption options.\n * @param options.publicKey - The public key of the message recipient.\n * @param options.data - The message data.\n * @param options.version - The type of encryption to use.\n * @returns The encrypted data.\n */\nfunction encryptSafely({ publicKey, data, version, }) {\n    if ((0, utils_1.isNullish)(publicKey)) {\n        throw new Error('Missing publicKey parameter');\n    }\n    else if ((0, utils_1.isNullish)(data)) {\n        throw new Error('Missing data parameter');\n    }\n    else if ((0, utils_1.isNullish)(version)) {\n        throw new Error('Missing version parameter');\n    }\n    const DEFAULT_PADDING_LENGTH = 2 ** 11;\n    const NACL_EXTRA_BYTES = 16;\n    if (typeof data === 'object' && 'toJSON' in data) {\n        // remove toJSON attack vector\n        // TODO, check all possible children\n        throw new Error('Cannot encrypt with toJSON property.  Please remove toJSON property');\n    }\n    // add padding\n    const dataWithPadding = {\n        data,\n        padding: '',\n    };\n    // calculate padding\n    const dataLength = Buffer.byteLength(JSON.stringify(dataWithPadding), 'utf-8');\n    const modVal = dataLength % DEFAULT_PADDING_LENGTH;\n    let padLength = 0;\n    // Only pad if necessary\n    if (modVal > 0) {\n        padLength = DEFAULT_PADDING_LENGTH - modVal - NACL_EXTRA_BYTES; // nacl extra bytes\n    }\n    dataWithPadding.padding = '0'.repeat(padLength);\n    const paddedMessage = JSON.stringify(dataWithPadding);\n    return encrypt({ publicKey, data: paddedMessage, version });\n}\nexports.encryptSafely = encryptSafely;\n/**\n * Decrypt a message.\n *\n * @param options - The decryption options.\n * @param options.encryptedData - The encrypted data.\n * @param options.privateKey - The private key to decrypt with.\n * @returns The decrypted message.\n */\nfunction decrypt({ encryptedData, privateKey, }) {\n    if ((0, utils_1.isNullish)(encryptedData)) {\n        throw new Error('Missing encryptedData parameter');\n    }\n    else if ((0, utils_1.isNullish)(privateKey)) {\n        throw new Error('Missing privateKey parameter');\n    }\n    switch (encryptedData.version) {\n        case 'x25519-xsalsa20-poly1305': {\n            // string to buffer to UInt8Array\n            const recieverPrivateKeyUint8Array = nacl_decodeHex(privateKey);\n            const recieverEncryptionPrivateKey = nacl.box.keyPair.fromSecretKey(recieverPrivateKeyUint8Array).secretKey;\n            // assemble decryption parameters\n            const nonce = naclUtil.decodeBase64(encryptedData.nonce);\n            const ciphertext = naclUtil.decodeBase64(encryptedData.ciphertext);\n            const ephemPublicKey = naclUtil.decodeBase64(encryptedData.ephemPublicKey);\n            // decrypt\n            const decryptedMessage = nacl.box.open(ciphertext, nonce, ephemPublicKey, recieverEncryptionPrivateKey);\n            // return decrypted msg data\n            let output;\n            try {\n                output = naclUtil.encodeUTF8(decryptedMessage);\n            }\n            catch (err) {\n                throw new Error('Decryption failed.');\n            }\n            if (output) {\n                return output;\n            }\n            throw new Error('Decryption failed.');\n        }\n        default:\n            throw new Error('Encryption type/version not supported.');\n    }\n}\nexports.decrypt = decrypt;\n/**\n * Decrypt a message that has been encrypted using `encryptSafely`.\n *\n * @param options - The decryption options.\n * @param options.encryptedData - The encrypted data.\n * @param options.privateKey - The private key to decrypt with.\n * @returns The decrypted message.\n */\nfunction decryptSafely({ encryptedData, privateKey, }) {\n    if ((0, utils_1.isNullish)(encryptedData)) {\n        throw new Error('Missing encryptedData parameter');\n    }\n    else if ((0, utils_1.isNullish)(privateKey)) {\n        throw new Error('Missing privateKey parameter');\n    }\n    const dataWithPadding = JSON.parse(decrypt({ encryptedData, privateKey }));\n    return dataWithPadding.data;\n}\nexports.decryptSafely = decryptSafely;\n/**\n * Get the encryption public key for the given key.\n *\n * @param privateKey - The private key to generate the encryption public key with.\n * @returns The encryption public key.\n */\nfunction getEncryptionPublicKey(privateKey) {\n    const privateKeyUint8Array = nacl_decodeHex(privateKey);\n    const encryptionPublicKey = nacl.box.keyPair.fromSecretKey(privateKeyUint8Array).publicKey;\n    return naclUtil.encodeBase64(encryptionPublicKey);\n}\nexports.getEncryptionPublicKey = getEncryptionPublicKey;\n/**\n * Convert a hex string to the UInt8Array format used by nacl.\n *\n * @param msgHex - The string to convert.\n * @returns The converted string.\n */\nfunction nacl_decodeHex(msgHex) {\n    const msgBase64 = Buffer.from(msgHex, 'hex').toString('base64');\n    return naclUtil.decodeBase64(msgBase64);\n}\n//# sourceMappingURL=encryption.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalize = exports.concatSig = void 0;\n__exportStar(require(\"./personal-sign\"), exports);\n__exportStar(require(\"./sign-typed-data\"), exports);\n__exportStar(require(\"./encryption\"), exports);\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"concatSig\", { enumerable: true, get: function () { return utils_1.concatSig; } });\nObject.defineProperty(exports, \"normalize\", { enumerable: true, get: function () { return utils_1.normalize; } });\n//# sourceMappingURL=index.js.map","//\n// metamask.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { Buffer } from 'buffer'\nimport type { Wallet, WalletType } from './wallet'\nimport { SIGNATURE_SCHEME_TO_FLAG } from '../crypto/publickey'\nimport {\n    TypedDataUtils,\n    TypedMessage,\n    MessageTypes,\n    SignTypedDataVersion,\n} from '@metamask/eth-sig-util'\nimport { fromRpcSig, setLengthLeft } from '@ethereumjs/util'\nimport { toHEX } from '../crypto/crypto_utils'\nimport { Secp256k1PublicKey } from '../crypto/secp256k1_publickey'\nimport { recoverPublicKey } from '@noble/secp256k1'\n\ninterface Window {\n    ethereum: any\n}\n\nconst SECP256K1_SIGNATURE_LEN = 65\nconst SECP256K1_PUBLIC_LEN = 33\nconst DB3_SECP256K1_SIGNATURE_LEN =\n    SECP256K1_SIGNATURE_LEN + SECP256K1_PUBLIC_LEN + 1\n\nexport interface TypedData {\n    [field: string]: any\n}\n\nexport class MetamaskWallet implements Wallet<TypedData, Promise<Uint8Array>> {\n    readonly window: Window\n    private addr: string\n    private publicKey: Secp256k1PublicKey | undefined\n\n    constructor(window: Window) {\n        this.window = window\n        this.addr = ''\n        this.publicKey = undefined\n    }\n\n    async connect() {\n        if (this.addr.length == 0) {\n            const response = await this.window.ethereum.request({\n                method: 'eth_requestAccounts',\n            })\n            this.addr = response[0]\n            await this.generateAddr()\n        }\n    }\n\n    getAddress(): string {\n        return this.publicKey!.toAddress()\n    }\n\n    getEvmAddress(): string {\n        return this.addr\n    }\n\n    getType(): WalletType {\n        return 'MetaMask'\n    }\n\n    private async generateAddr() {\n        const message = {\n            types: {\n                EIP712Domain: [],\n                Message: [{ name: 'action', type: 'string' }],\n            },\n            domain: {},\n            primaryType: 'Message',\n            message: {\n                action: 'generate db3 addr',\n            },\n        }\n        const msgParams = JSON.stringify(message)\n        const from = this.addr\n        const sig = await this.window.ethereum.request({\n            method: 'eth_signTypedData_v3',\n            params: [from, msgParams],\n        })\n        const hashedmsg = TypedDataUtils.eip712Hash(\n            message as TypedMessage<MessageTypes>,\n            SignTypedDataVersion.V3\n        )\n        const { v, r, s } = fromRpcSig(sig)\n        const rid = this.calculateSigRecovery(v)\n        const signatureBuffer = new Uint8Array(64)\n        signatureBuffer.set(r, 0)\n        signatureBuffer.set(s, 32)\n        const publicKey = recoverPublicKey(\n            hashedmsg,\n            signatureBuffer,\n            Number(rid),\n            true\n        )\n        this.publicKey = new Secp256k1PublicKey(publicKey)\n        return this.publicKey.toAddress()\n    }\n\n    async sign(message: TypedData): Promise<Uint8Array> {\n        const msgParams = JSON.stringify(message)\n        const from = this.addr\n        const sig = await this.window.ethereum.request({\n            method: 'eth_signTypedData_v3',\n            params: [from, msgParams],\n        })\n        const hashedmsg = TypedDataUtils.eip712Hash(\n            message as TypedMessage<MessageTypes>,\n            SignTypedDataVersion.V3\n        )\n        const { v, r, s } = fromRpcSig(sig)\n        const rid = this.calculateSigRecovery(v)\n        const signatureBuffer = new Uint8Array(64)\n        signatureBuffer.set(r, 0)\n        signatureBuffer.set(s, 32)\n        const publicKey = recoverPublicKey(\n            hashedmsg,\n            signatureBuffer,\n            Number(rid),\n            true\n        )\n        const buf = new Uint8Array(DB3_SECP256K1_SIGNATURE_LEN)\n        buf[0] = SIGNATURE_SCHEME_TO_FLAG['Secp256k1']\n        buf.set(signatureBuffer, 1)\n        buf.set([Number(rid)], 65)\n        buf.set(publicKey, 66)\n        return buf\n    }\n\n    calculateSigRecovery(v: bigint, chainId?: bigint): bigint {\n        if (v === BigInt(0) || v === BigInt(1)) return v\n\n        if (chainId === undefined) {\n            return v - BigInt(27)\n        }\n        return v - (chainId * BigInt(2) + BigInt(35))\n    }\n}\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_mutation.proto\" (package \"db3_mutation_proto\", syntax proto3)\n// tslint:disable\n//\n//\n//\n// db3_mutation.proto\n// Copyright (C) 2022 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//\nimport { MessageType } from \"@protobuf-ts/runtime\";\nimport { Index } from \"./db3_database\";\nimport { BroadcastMeta } from \"./db3_base\";\n/**\n * @generated from protobuf message db3_mutation_proto.DatabaseMutation\n */\nexport interface DatabaseMutation {\n    /**\n     * @generated from protobuf field: db3_base_proto.BroadcastMeta meta = 1;\n     */\n    meta?: BroadcastMeta;\n    /**\n     * @generated from protobuf field: db3_mutation_proto.DatabaseAction action = 2;\n     */\n    action: DatabaseAction;\n    /**\n     * @generated from protobuf field: bytes db_address = 3;\n     */\n    dbAddress: Uint8Array;\n    /**\n     * @generated from protobuf field: repeated db3_mutation_proto.CollectionMutation collection_mutations = 4;\n     */\n    collectionMutations: CollectionMutation[];\n    /**\n     * @generated from protobuf field: repeated db3_mutation_proto.DocumentMutation document_mutations = 5;\n     */\n    documentMutations: DocumentMutation[];\n}\n/**\n * @generated from protobuf message db3_mutation_proto.CollectionMutation\n */\nexport interface CollectionMutation {\n    /**\n     * @generated from protobuf field: repeated db3_database_proto.Index index = 1;\n     */\n    index: Index[];\n    /**\n     * @generated from protobuf field: string collection_name = 2;\n     */\n    collectionName: string;\n}\n/**\n * @generated from protobuf message db3_mutation_proto.DocumentMutation\n */\nexport interface DocumentMutation {\n    /**\n     * @generated from protobuf field: string collection_name = 1;\n     */\n    collectionName: string;\n    /**\n     * @generated from protobuf field: repeated bytes documents = 2;\n     */\n    documents: Uint8Array[];\n    /**\n     * @generated from protobuf field: repeated string ids = 3;\n     */\n    ids: string[];\n    /**\n     * The fields to update.\n     * None of the field paths in the mask may contain a reserved name.\n     *\n     * If the document exists on the server and has fields not referenced in the\n     * mask, they are left unchanged.\n     * Fields referenced in the mask, but not present in the input document, are\n     * deleted from the document on the server.\n     *\n     * @generated from protobuf field: repeated db3_mutation_proto.DocumentMask masks = 4;\n     */\n    masks: DocumentMask[];\n}\n/**\n * @generated from protobuf message db3_mutation_proto.DocumentMask\n */\nexport interface DocumentMask {\n    /**\n     * @generated from protobuf field: repeated string fields = 1;\n     */\n    fields: string[];\n}\n/**\n * @generated from protobuf message db3_mutation_proto.MintCreditsMutation\n */\nexport interface MintCreditsMutation {\n    /**\n     * @generated from protobuf field: uint32 chain_id = 1;\n     */\n    chainId: number;\n    /**\n     * @generated from protobuf field: uint64 block_id = 2;\n     */\n    blockId: string;\n    /**\n     * @generated from protobuf field: bytes tx_id = 3;\n     */\n    txId: Uint8Array;\n    /**\n     * @generated from protobuf field: bytes to = 5;\n     */\n    to: Uint8Array;\n    /**\n     * @generated from protobuf field: uint64 amount = 6;\n     */\n    amount: string;\n    /**\n     * @generated from protobuf field: db3_base_proto.BroadcastMeta meta = 7;\n     */\n    meta?: BroadcastMeta;\n}\n/**\n * @generated from protobuf message db3_mutation_proto.WriteRequest\n */\nexport interface WriteRequest {\n    /**\n     * @generated from protobuf field: bytes signature = 1;\n     */\n    signature: Uint8Array;\n    /**\n     * the protobuf binary format\n     *\n     * @generated from protobuf field: bytes payload = 2;\n     */\n    payload: Uint8Array;\n    /**\n     * @generated from protobuf field: db3_mutation_proto.PayloadType payload_type = 4;\n     */\n    payloadType: PayloadType;\n}\n/**\n * @generated from protobuf enum db3_mutation_proto.DatabaseAction\n */\nexport enum DatabaseAction {\n    /**\n     * @generated from protobuf enum value: CreateDB = 0;\n     */\n    CreateDB = 0,\n    /**\n     * @generated from protobuf enum value: AddCollection = 1;\n     */\n    AddCollection = 1,\n    /**\n     * @generated from protobuf enum value: AddDocument = 2;\n     */\n    AddDocument = 2,\n    /**\n     * @generated from protobuf enum value: DeleteDocument = 3;\n     */\n    DeleteDocument = 3,\n    /**\n     * @generated from protobuf enum value: UpdateDocument = 4;\n     */\n    UpdateDocument = 4\n}\n/**\n * @generated from protobuf enum db3_mutation_proto.PayloadType\n */\nexport enum PayloadType {\n    /**\n     * @generated from protobuf enum value: QuerySessionPayload = 0;\n     */\n    QuerySessionPayload = 0,\n    /**\n     * @generated from protobuf enum value: DatabasePayload = 1;\n     */\n    DatabasePayload = 1,\n    /**\n     * @generated from protobuf enum value: MintCreditsPayload = 2;\n     */\n    MintCreditsPayload = 2,\n    /**\n     * a evm chain request\n     *\n     * @generated from protobuf enum value: TypedDataPayload = 3;\n     */\n    TypedDataPayload = 3\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass DatabaseMutation$Type extends MessageType<DatabaseMutation> {\n    constructor() {\n        super(\"db3_mutation_proto.DatabaseMutation\", [\n            { no: 1, name: \"meta\", kind: \"message\", T: () => BroadcastMeta },\n            { no: 2, name: \"action\", kind: \"enum\", T: () => [\"db3_mutation_proto.DatabaseAction\", DatabaseAction] },\n            { no: 3, name: \"db_address\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"collection_mutations\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => CollectionMutation },\n            { no: 5, name: \"document_mutations\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => DocumentMutation }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_mutation_proto.DatabaseMutation\n */\nexport const DatabaseMutation = new DatabaseMutation$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CollectionMutation$Type extends MessageType<CollectionMutation> {\n    constructor() {\n        super(\"db3_mutation_proto.CollectionMutation\", [\n            { no: 1, name: \"index\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => Index },\n            { no: 2, name: \"collection_name\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_mutation_proto.CollectionMutation\n */\nexport const CollectionMutation = new CollectionMutation$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DocumentMutation$Type extends MessageType<DocumentMutation> {\n    constructor() {\n        super(\"db3_mutation_proto.DocumentMutation\", [\n            { no: 1, name: \"collection_name\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"documents\", kind: \"scalar\", repeat: 2 /*RepeatType.UNPACKED*/, T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"ids\", kind: \"scalar\", repeat: 2 /*RepeatType.UNPACKED*/, T: 9 /*ScalarType.STRING*/ },\n            { no: 4, name: \"masks\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => DocumentMask }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_mutation_proto.DocumentMutation\n */\nexport const DocumentMutation = new DocumentMutation$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DocumentMask$Type extends MessageType<DocumentMask> {\n    constructor() {\n        super(\"db3_mutation_proto.DocumentMask\", [\n            { no: 1, name: \"fields\", kind: \"scalar\", repeat: 2 /*RepeatType.UNPACKED*/, T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_mutation_proto.DocumentMask\n */\nexport const DocumentMask = new DocumentMask$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass MintCreditsMutation$Type extends MessageType<MintCreditsMutation> {\n    constructor() {\n        super(\"db3_mutation_proto.MintCreditsMutation\", [\n            { no: 1, name: \"chain_id\", kind: \"scalar\", T: 13 /*ScalarType.UINT32*/ },\n            { no: 2, name: \"block_id\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 3, name: \"tx_id\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 5, name: \"to\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 6, name: \"amount\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 7, name: \"meta\", kind: \"message\", T: () => BroadcastMeta }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_mutation_proto.MintCreditsMutation\n */\nexport const MintCreditsMutation = new MintCreditsMutation$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass WriteRequest$Type extends MessageType<WriteRequest> {\n    constructor() {\n        super(\"db3_mutation_proto.WriteRequest\", [\n            { no: 1, name: \"signature\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"payload\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"payload_type\", kind: \"enum\", T: () => [\"db3_mutation_proto.PayloadType\", PayloadType] }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_mutation_proto.WriteRequest\n */\nexport const WriteRequest = new WriteRequest$Type();\n","/**\n * An error that occurred while calling a RPC method.\n */\nexport class RpcError extends Error {\n    constructor(message, code = 'UNKNOWN', meta) {\n        super(message);\n        this.name = 'RpcError';\n        // see https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#example\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.code = code;\n        this.meta = meta !== null && meta !== void 0 ? meta : {};\n    }\n    toString() {\n        const l = [this.name + ': ' + this.message];\n        if (this.code) {\n            l.push('');\n            l.push('Code: ' + this.code);\n        }\n        if (this.serviceName && this.methodName) {\n            l.push('Method: ' + this.serviceName + '/' + this.methodName);\n        }\n        let m = Object.entries(this.meta);\n        if (m.length) {\n            l.push('');\n            l.push('Meta:');\n            for (let [k, v] of m) {\n                l.push(`  ${k}: ${v}`);\n            }\n        }\n        return l.join('\\n');\n    }\n}\n","import { mergeBinaryOptions, mergeJsonOptions } from \"@protobuf-ts/runtime\";\n/**\n * Merges custom RPC options with defaults. Returns a new instance and keeps\n * the \"defaults\" and the \"options\" unmodified.\n *\n * Merges `RpcMetadata` \"meta\", overwriting values from \"defaults\" with\n * values from \"options\". Does not append values to existing entries.\n *\n * Merges \"jsonOptions\", including \"jsonOptions.typeRegistry\", by creating\n * a new array that contains types from \"options.jsonOptions.typeRegistry\"\n * first, then types from \"defaults.jsonOptions.typeRegistry\".\n *\n * Merges \"binaryOptions\".\n *\n * Merges \"interceptors\" by creating a new array that contains interceptors\n * from \"defaults\" first, then interceptors from \"options\".\n *\n * Works with objects that extend `RpcOptions`, but only if the added\n * properties are of type Date, primitive like string, boolean, or Array\n * of primitives. If you have other property types, you have to merge them\n * yourself.\n */\nexport function mergeRpcOptions(defaults, options) {\n    if (!options)\n        return defaults;\n    let o = {};\n    copy(defaults, o);\n    copy(options, o);\n    for (let key of Object.keys(options)) {\n        let val = options[key];\n        switch (key) {\n            case \"jsonOptions\":\n                o.jsonOptions = mergeJsonOptions(defaults.jsonOptions, o.jsonOptions);\n                break;\n            case \"binaryOptions\":\n                o.binaryOptions = mergeBinaryOptions(defaults.binaryOptions, o.binaryOptions);\n                break;\n            case \"meta\":\n                o.meta = {};\n                copy(defaults.meta, o.meta);\n                copy(options.meta, o.meta);\n                break;\n            case \"interceptors\":\n                o.interceptors = defaults.interceptors ? defaults.interceptors.concat(val) : val.concat();\n                break;\n        }\n    }\n    return o;\n}\nfunction copy(a, into) {\n    if (!a)\n        return;\n    let c = into;\n    for (let [k, v] of Object.entries(a)) {\n        if (v instanceof Date)\n            c[k] = new Date(v.getTime());\n        else if (Array.isArray(v))\n            c[k] = v.concat();\n        else\n            c[k] = v;\n    }\n}\n","export var DeferredState;\n(function (DeferredState) {\n    DeferredState[DeferredState[\"PENDING\"] = 0] = \"PENDING\";\n    DeferredState[DeferredState[\"REJECTED\"] = 1] = \"REJECTED\";\n    DeferredState[DeferredState[\"RESOLVED\"] = 2] = \"RESOLVED\";\n})(DeferredState || (DeferredState = {}));\n/**\n * A deferred promise. This is a \"controller\" for a promise, which lets you\n * pass a promise around and reject or resolve it from the outside.\n *\n * Warning: This class is to be used with care. Using it can make code very\n * difficult to read. It is intended for use in library code that exposes\n * promises, not for regular business logic.\n */\nexport class Deferred {\n    /**\n     * @param preventUnhandledRejectionWarning - prevents the warning\n     * \"Unhandled Promise rejection\" by adding a noop rejection handler.\n     * Working with calls returned from the runtime-rpc package in an\n     * async function usually means awaiting one call property after\n     * the other. This means that the \"status\" is not being awaited when\n     * an earlier await for the \"headers\" is rejected. This causes the\n     * \"unhandled promise reject\" warning. A more correct behaviour for\n     * calls might be to become aware whether at least one of the\n     * promises is handled and swallow the rejection warning for the\n     * others.\n     */\n    constructor(preventUnhandledRejectionWarning = true) {\n        this._state = DeferredState.PENDING;\n        this._promise = new Promise((resolve, reject) => {\n            this._resolve = resolve;\n            this._reject = reject;\n        });\n        if (preventUnhandledRejectionWarning) {\n            this._promise.catch(_ => { });\n        }\n    }\n    /**\n     * Get the current state of the promise.\n     */\n    get state() {\n        return this._state;\n    }\n    /**\n     * Get the deferred promise.\n     */\n    get promise() {\n        return this._promise;\n    }\n    /**\n     * Resolve the promise. Throws if the promise is already resolved or rejected.\n     */\n    resolve(value) {\n        if (this.state !== DeferredState.PENDING)\n            throw new Error(`cannot resolve ${DeferredState[this.state].toLowerCase()}`);\n        this._resolve(value);\n        this._state = DeferredState.RESOLVED;\n    }\n    /**\n     * Reject the promise. Throws if the promise is already resolved or rejected.\n     */\n    reject(reason) {\n        if (this.state !== DeferredState.PENDING)\n            throw new Error(`cannot reject ${DeferredState[this.state].toLowerCase()}`);\n        this._reject(reason);\n        this._state = DeferredState.REJECTED;\n    }\n    /**\n     * Resolve the promise. Ignore if not pending.\n     */\n    resolvePending(val) {\n        if (this._state === DeferredState.PENDING)\n            this.resolve(val);\n    }\n    /**\n     * Reject the promise. Ignore if not pending.\n     */\n    rejectPending(reason) {\n        if (this._state === DeferredState.PENDING)\n            this.reject(reason);\n    }\n}\n","// Copyright 2016 gRPC authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * See [grpc status_code_enum.h](https://github.com/grpc/grpc/blob/a19d8dcfb50caa81cddc25bc1a6afdd7a2f497b7/include/grpcpp/impl/codegen/status_code_enum.h#L24)\n *\n * Copyright 2020 Google LLC\n */\nexport var GrpcStatusCode;\n(function (GrpcStatusCode) {\n    /**\n     * Not an error; returned on success.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"OK\"] = 0] = \"OK\";\n    /**\n     * The operation was cancelled (typically by the caller).\n     */\n    GrpcStatusCode[GrpcStatusCode[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    /**\n     * Unknown error. An example of where this error may be returned is if a\n     * Status value received from another address space belongs to an error-space\n     * that is not known in this address space. Also errors raised by APIs that\n     * do not return enough error information may be converted to this error.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    /**\n     * Client specified an invalid argument. Note that this differs from\n     * FAILED_PRECONDITION. INVALID_ARGUMENT indicates arguments that are\n     * problematic regardless of the state of the system (e.g., a malformed file\n     * name).\n     */\n    GrpcStatusCode[GrpcStatusCode[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    /**\n     * Deadline expired before operation could complete. For operations that\n     * change the state of the system, this error may be returned even if the\n     * operation has completed successfully. For example, a successful response\n     * from a server could have been delayed long enough for the deadline to\n     * expire.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    /**\n     * Some requested entity (e.g., file or directory) was not found.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    /**\n     * Some entity that we attempted to create (e.g., file or directory) already\n     * exists.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    /**\n     * The caller does not have permission to execute the specified operation.\n     * PERMISSION_DENIED must not be used for rejections caused by exhausting\n     * some resource (use RESOURCE_EXHAUSTED instead for those errors).\n     * PERMISSION_DENIED must not be used if the caller can not be identified\n     * (use UNAUTHENTICATED instead for those errors).\n     */\n    GrpcStatusCode[GrpcStatusCode[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    /**\n     * The request does not have valid authentication credentials for the\n     * operation.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n    /**\n     * Some resource has been exhausted, perhaps a per-user quota, or perhaps the\n     * entire file system is out of space.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    /**\n     * Operation was rejected because the system is not in a state required for\n     * the operations execution. For example, directory to be deleted may be\n     * non-empty, an rmdir operation is applied to a non-directory, etc.\n     *\n     * A litmus test that may help a service implementor in deciding\n     * between FAILED_PRECONDITION, ABORTED, and UNAVAILABLE:\n     *  (a) Use UNAVAILABLE if the client can retry just the failing call.\n     *  (b) Use ABORTED if the client should retry at a higher-level\n     *      (e.g., restarting a read-modify-write sequence).\n     *  (c) Use FAILED_PRECONDITION if the client should not retry until\n     *      the system state has been explicitly fixed. E.g., if an \"rmdir\"\n     *      fails because the directory is non-empty, FAILED_PRECONDITION\n     *      should be returned since the client should not retry unless\n     *      they have first fixed up the directory by deleting files from it.\n     *  (d) Use FAILED_PRECONDITION if the client performs conditional\n     *      REST Get/Update/Delete on a resource and the resource on the\n     *      server does not match the condition. E.g., conflicting\n     *      read-modify-write on the same resource.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    /**\n     * The operation was aborted, typically due to a concurrency issue like\n     * sequencer check failures, transaction aborts, etc.\n     *\n     * See litmus test above for deciding between FAILED_PRECONDITION, ABORTED,\n     * and UNAVAILABLE.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"ABORTED\"] = 10] = \"ABORTED\";\n    /**\n     * Operation was attempted past the valid range. E.g., seeking or reading\n     * past end of file.\n     *\n     * Unlike INVALID_ARGUMENT, this error indicates a problem that may be fixed\n     * if the system state changes. For example, a 32-bit file system will\n     * generate INVALID_ARGUMENT if asked to read at an offset that is not in the\n     * range [0,2^32-1], but it will generate OUT_OF_RANGE if asked to read from\n     * an offset past the current file size.\n     *\n     * There is a fair bit of overlap between FAILED_PRECONDITION and\n     * OUT_OF_RANGE. We recommend using OUT_OF_RANGE (the more specific error)\n     * when it applies so that callers who are iterating through a space can\n     * easily look for an OUT_OF_RANGE error to detect when they are done.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    /**\n     * Operation is not implemented or not supported/enabled in this service.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    /**\n     * Internal errors. Means some invariants expected by underlying System has\n     * been broken. If you see one of these errors, Something is very broken.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    /**\n     * The service is currently unavailable. This is a most likely a transient\n     * condition and may be corrected by retrying with a backoff.\n     *\n     * See litmus test above for deciding between FAILED_PRECONDITION, ABORTED,\n     * and UNAVAILABLE.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    /**\n     * Unrecoverable data loss or corruption.\n     */\n    GrpcStatusCode[GrpcStatusCode[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n})(GrpcStatusCode || (GrpcStatusCode = {}));\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { base64decode, base64encode } from \"@protobuf-ts/runtime\";\nimport { RpcError } from \"@protobuf-ts/runtime-rpc\";\nimport { GrpcStatusCode } from \"./goog-grpc-status-code\";\n/**\n * Create fetch API headers for a grpc-web request.\n */\nexport function createGrpcWebRequestHeader(headers, format, timeout, meta, userAgent) {\n    // add meta as headers\n    if (meta) {\n        for (let [k, v] of Object.entries(meta)) {\n            if (typeof v == \"string\")\n                headers.append(k, v);\n            else\n                for (let i of v)\n                    headers.append(k, i);\n        }\n    }\n    // set standard headers (possibly overwriting meta)\n    headers.set('Content-Type', format === \"text\" ? \"application/grpc-web-text\" : \"application/grpc-web+proto\");\n    if (format == \"text\") {\n        // The client library should indicate to the server via the \"Accept\" header that\n        // the response stream needs to be text encoded e.g. when XHR is used or due to\n        // security policies with XHR\n        headers.set(\"Accept\", \"application/grpc-web-text\");\n    }\n    headers.set('X-Grpc-Web', \"1\");\n    if (userAgent)\n        headers.set(\"X-User-Agent\", userAgent);\n    if (typeof timeout === \"number\") {\n        if (timeout <= 0) {\n            // we raise an error ourselves because header \"grpc-timeout\" must be a positive integer\n            throw new RpcError(`timeout ${timeout} ms exceeded`, GrpcStatusCode[GrpcStatusCode.DEADLINE_EXCEEDED]);\n        }\n        headers.set('grpc-timeout', `${timeout}m`);\n    }\n    else if (timeout) {\n        const deadline = timeout.getTime();\n        const now = Date.now();\n        if (deadline <= now) {\n            // we raise an error ourselves because header \"grpc-timeout\" must be a positive integer\n            throw new RpcError(`deadline ${timeout} exceeded`, GrpcStatusCode[GrpcStatusCode.DEADLINE_EXCEEDED]);\n        }\n        headers.set('grpc-timeout', `${deadline - now}m`);\n    }\n    return headers;\n}\nexport function createGrpcWebRequestBody(message, format) {\n    let body = new Uint8Array(5 + message.length); // we need 5 bytes for frame type + message length\n    body[0] = GrpcWebFrame.DATA; // first byte is frame type\n    // 4 bytes message length\n    for (let msgLen = message.length, i = 4; i > 0; i--) {\n        body[i] = (msgLen % 256);\n        msgLen >>>= 8;\n    }\n    body.set(message, 5); // reset is message\n    return format === \"binary\" ? body : base64encode(body);\n}\nexport function readGrpcWebResponseHeader(headersOrFetchResponse, httpStatus, httpStatusText) {\n    if (arguments.length === 1) {\n        let fetchResponse = headersOrFetchResponse;\n        // Cloudflare Workers throw when the type property of a fetch response\n        // is accessed, so wrap access with try/catch. See:\n        // * https://developers.cloudflare.com/workers/runtime-apis/response/#properties\n        // * https://github.com/cloudflare/miniflare/blob/72f046e/packages/core/src/standards/http.ts#L646\n        let responseType;\n        try {\n            responseType = fetchResponse.type;\n        }\n        catch (_a) { }\n        switch (responseType) {\n            case \"error\":\n            case \"opaque\":\n            case \"opaqueredirect\":\n                // see https://developer.mozilla.org/en-US/docs/Web/API/Response/type\n                throw new RpcError(`fetch response type ${fetchResponse.type}`, GrpcStatusCode[GrpcStatusCode.UNKNOWN]);\n        }\n        return readGrpcWebResponseHeader(fetchHeadersToHttp(fetchResponse.headers), fetchResponse.status, fetchResponse.statusText);\n    }\n    let headers = headersOrFetchResponse, httpOk = httpStatus >= 200 && httpStatus < 300, responseMeta = parseMetadata(headers), [statusCode, statusDetail] = parseStatus(headers);\n    if ((statusCode === undefined || statusCode === GrpcStatusCode.OK) && !httpOk) {\n        statusCode = httpStatusToGrpc(httpStatus);\n        statusDetail = httpStatusText;\n    }\n    return [statusCode, statusDetail, responseMeta];\n}\n/**\n * Parses a grpc status (code and optional text) and meta data from response\n * trailers.\n *\n * Response trailers are expected as a byte array, but are actually just an\n * ASCII string with HTTP headers. Just pass the data of a grpc-web trailer\n * frame.\n */\nexport function readGrpcWebResponseTrailer(data) {\n    let headers = parseTrailer(data), [code, detail] = parseStatus(headers), meta = parseMetadata(headers);\n    return [code !== null && code !== void 0 ? code : GrpcStatusCode.OK, detail, meta];\n}\n/**\n * A grpc-frame type. Can be used to determine type of frame emitted by\n * `readGrpcWebResponseBody()`.\n */\nexport var GrpcWebFrame;\n(function (GrpcWebFrame) {\n    GrpcWebFrame[GrpcWebFrame[\"DATA\"] = 0] = \"DATA\";\n    GrpcWebFrame[GrpcWebFrame[\"TRAILER\"] = 128] = \"TRAILER\";\n})(GrpcWebFrame || (GrpcWebFrame = {}));\n/**\n * Parses a grpc-web response (unary or server streaming) from a fetch API\n * stream.\n *\n * Emits grpc-web frames.\n *\n * The returned promise resolves when the response is complete.\n */\nexport function readGrpcWebResponseBody(stream, contentType, onFrame) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let streamReader, base64queue = \"\", byteQueue = new Uint8Array(0), format = parseFormat(contentType);\n        // allows to read streams from the 'node-fetch' polyfill which uses\n        // node.js ReadableStream instead of the what-wg streams api ReadableStream\n        if (isReadableStream(stream)) {\n            let whatWgReadableStream = stream.getReader();\n            streamReader = {\n                next: () => whatWgReadableStream.read()\n            };\n        }\n        else {\n            streamReader = stream[Symbol.asyncIterator]();\n        }\n        while (true) {\n            let result = yield streamReader.next();\n            if (result.value !== undefined) {\n                if (format === \"text\") {\n                    // the statements below just decode base64 and append to `bytesUnread`\n                    // add incoming base64 to queue\n                    for (let i = 0; i < result.value.length; i++)\n                        base64queue += String.fromCharCode(result.value[i]);\n                    // if the base64 queue is not a multiple of 4,\n                    // we have to wait for more data\n                    let safeLen = base64queue.length - base64queue.length % 4;\n                    if (safeLen === 0)\n                        continue;\n                    // decode safe chunk of base64 and add to byte queue\n                    byteQueue = concatBytes(byteQueue, base64decode(base64queue.substring(0, safeLen)));\n                    base64queue = base64queue.substring(safeLen);\n                }\n                else {\n                    byteQueue = concatBytes(byteQueue, result.value);\n                }\n                // read all fully available data frames\n                while (byteQueue.length >= 5 && byteQueue[0] === GrpcWebFrame.DATA) {\n                    let msgLen = 0;\n                    for (let i = 1; i < 5; i++)\n                        msgLen = (msgLen << 8) + byteQueue[i];\n                    if (byteQueue.length - 5 >= msgLen) {\n                        // we have the entire message\n                        onFrame(GrpcWebFrame.DATA, byteQueue.subarray(5, 5 + msgLen));\n                        byteQueue = byteQueue.subarray(5 + msgLen);\n                    }\n                    else\n                        break; //  wait for more data\n                }\n            }\n            // exit, but emit trailer if exists\n            if (result.done) {\n                if (byteQueue.length === 0)\n                    break;\n                if (byteQueue[0] !== GrpcWebFrame.TRAILER || byteQueue.length < 5)\n                    throw new RpcError(\"premature EOF\", GrpcStatusCode[GrpcStatusCode.DATA_LOSS]);\n                onFrame(GrpcWebFrame.TRAILER, byteQueue.subarray(5));\n                break;\n            }\n        }\n    });\n}\n// internal\nconst isReadableStream = (s) => {\n    return typeof s.getReader == \"function\";\n};\n// internal\nfunction concatBytes(a, b) {\n    let n = new Uint8Array(a.length + b.length);\n    n.set(a);\n    n.set(b, a.length);\n    return n;\n}\n// determines format from response \"content-type\" value.\n// throws if value is unknown or missing.\nfunction parseFormat(contentType) {\n    // > the sender *should* always specify the message format, e.g. +proto, +json\n    //\n    // > the receiver should assume the default is \"+proto\" when the message format is\n    // > missing in Content-Type (as \"application/grpc-web\")\n    //\n    // see https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-WEB.md\n    switch (contentType) {\n        case \"application/grpc-web-text\":\n        case \"application/grpc-web-text+proto\":\n            return \"text\";\n        case \"application/grpc-web\":\n        case \"application/grpc-web+proto\":\n            return \"binary\";\n        case undefined:\n        case null:\n            throw new RpcError(\"missing response content type\", GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n        default:\n            throw new RpcError(\"unexpected response content type: \" + contentType, GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n    }\n}\n// returns error code on parse failure\nfunction parseStatus(headers) {\n    let code, message;\n    let m = headers['grpc-message'];\n    if (m !== undefined) {\n        if (Array.isArray(m))\n            return [GrpcStatusCode.INTERNAL, \"invalid grpc-web message\"];\n        message = m;\n    }\n    let s = headers['grpc-status'];\n    if (s !== undefined) {\n        if (Array.isArray(s))\n            return [GrpcStatusCode.INTERNAL, \"invalid grpc-web status\"];\n        code = parseInt(s, 10);\n        if (GrpcStatusCode[code] === undefined)\n            return [GrpcStatusCode.INTERNAL, \"invalid grpc-web status\"];\n    }\n    return [code, message];\n}\n// skips grpc-web headers\nfunction parseMetadata(headers) {\n    let meta = {};\n    for (let [k, v] of Object.entries(headers))\n        switch (k) {\n            case 'grpc-message':\n            case 'grpc-status':\n            case 'content-type':\n                break;\n            default:\n                meta[k] = v;\n        }\n    return meta;\n}\n// parse trailer data (ASCII) to our headers rep\nfunction parseTrailer(trailerData) {\n    let headers = {};\n    for (let chunk of String.fromCharCode.apply(String, trailerData).trim().split(\"\\r\\n\")) {\n        if (chunk == \"\")\n            continue;\n        let [key, ...val] = chunk.split(\":\");\n        const value = val.join(\":\").trim();\n        key = key.trim();\n        let e = headers[key];\n        if (typeof e == \"string\")\n            headers[key] = [e, value];\n        else if (Array.isArray(e))\n            e.push(value);\n        else\n            headers[key] = value;\n    }\n    return headers;\n}\n// fetch API to our headers rep\nfunction fetchHeadersToHttp(fetchHeaders) {\n    let headers = {};\n    fetchHeaders.forEach((value, key) => {\n        let e = headers[key];\n        if (typeof e == \"string\")\n            headers[key] = [e, value];\n        else if (Array.isArray(e))\n            e.push(value);\n        else\n            headers[key] = value;\n    });\n    return headers;\n}\n// internal\nfunction httpStatusToGrpc(httpStatus) {\n    switch (httpStatus) {\n        case 200:\n            return GrpcStatusCode.OK;\n        case 400:\n            return GrpcStatusCode.INVALID_ARGUMENT;\n        case 401:\n            return GrpcStatusCode.UNAUTHENTICATED;\n        case 403:\n            return GrpcStatusCode.PERMISSION_DENIED;\n        case 404:\n            return GrpcStatusCode.NOT_FOUND;\n        case 409:\n            return GrpcStatusCode.ABORTED;\n        case 412:\n            return GrpcStatusCode.FAILED_PRECONDITION;\n        case 429:\n            return GrpcStatusCode.RESOURCE_EXHAUSTED;\n        case 499:\n            return GrpcStatusCode.CANCELLED;\n        case 500:\n            return GrpcStatusCode.UNKNOWN;\n        case 501:\n            return GrpcStatusCode.UNIMPLEMENTED;\n        case 503:\n            return GrpcStatusCode.UNAVAILABLE;\n        case 504:\n            return GrpcStatusCode.DEADLINE_EXCEEDED;\n        default:\n            return GrpcStatusCode.UNKNOWN;\n    }\n}\n","import { Deferred, DeferredState } from \"./deferred\";\nimport { assert } from \"@protobuf-ts/runtime\";\n/**\n * A `RpcOutputStream` that you control.\n */\nexport class RpcOutputStreamController {\n    constructor() {\n        this._lis = {\n            nxt: [],\n            msg: [],\n            err: [],\n            cmp: [],\n        };\n        this._closed = false;\n    }\n    // --- RpcOutputStream callback API\n    onNext(callback) {\n        return this.addLis(callback, this._lis.nxt);\n    }\n    onMessage(callback) {\n        return this.addLis(callback, this._lis.msg);\n    }\n    onError(callback) {\n        return this.addLis(callback, this._lis.err);\n    }\n    onComplete(callback) {\n        return this.addLis(callback, this._lis.cmp);\n    }\n    addLis(callback, list) {\n        list.push(callback);\n        return () => {\n            let i = list.indexOf(callback);\n            if (i >= 0)\n                list.splice(i, 1);\n        };\n    }\n    // remove all listeners\n    clearLis() {\n        for (let l of Object.values(this._lis))\n            l.splice(0, l.length);\n    }\n    // --- Controller API\n    /**\n     * Is this stream already closed by a completion or error?\n     */\n    get closed() {\n        return this._closed !== false;\n    }\n    /**\n     * Emit message, close with error, or close successfully, but only one\n     * at a time.\n     * Can be used to wrap a stream by using the other stream's `onNext`.\n     */\n    notifyNext(message, error, complete) {\n        assert((message ? 1 : 0) + (error ? 1 : 0) + (complete ? 1 : 0) <= 1, 'only one emission at a time');\n        if (message)\n            this.notifyMessage(message);\n        if (error)\n            this.notifyError(error);\n        if (complete)\n            this.notifyComplete();\n    }\n    /**\n     * Emits a new message. Throws if stream is closed.\n     *\n     * Triggers onNext and onMessage callbacks.\n     */\n    notifyMessage(message) {\n        assert(!this.closed, 'stream is closed');\n        this.pushIt({ value: message, done: false });\n        this._lis.msg.forEach(l => l(message));\n        this._lis.nxt.forEach(l => l(message, undefined, false));\n    }\n    /**\n     * Closes the stream with an error. Throws if stream is closed.\n     *\n     * Triggers onNext and onError callbacks.\n     */\n    notifyError(error) {\n        assert(!this.closed, 'stream is closed');\n        this._closed = error;\n        this.pushIt(error);\n        this._lis.err.forEach(l => l(error));\n        this._lis.nxt.forEach(l => l(undefined, error, false));\n        this.clearLis();\n    }\n    /**\n     * Closes the stream successfully. Throws if stream is closed.\n     *\n     * Triggers onNext and onComplete callbacks.\n     */\n    notifyComplete() {\n        assert(!this.closed, 'stream is closed');\n        this._closed = true;\n        this.pushIt({ value: null, done: true });\n        this._lis.cmp.forEach(l => l());\n        this._lis.nxt.forEach(l => l(undefined, undefined, true));\n        this.clearLis();\n    }\n    /**\n     * Creates an async iterator (that can be used with `for await {...}`)\n     * to consume the stream.\n     *\n     * Some things to note:\n     * - If an error occurs, the `for await` will throw it.\n     * - If an error occurred before the `for await` was started, `for await`\n     *   will re-throw it.\n     * - If the stream is already complete, the `for await` will be empty.\n     * - If your `for await` consumes slower than the stream produces,\n     *   for example because you are relaying messages in a slow operation,\n     *   messages are queued.\n     */\n    [Symbol.asyncIterator]() {\n        // init the iterator state, enabling pushIt()\n        if (!this._itState) {\n            this._itState = { q: [] };\n        }\n        // if we are closed, we are definitely not receiving any more messages.\n        // but we can't let the iterator get stuck. we want to either:\n        // a) finish the new iterator immediately, because we are completed\n        // b) reject the new iterator, because we errored\n        if (this._closed === true)\n            this.pushIt({ value: null, done: true });\n        else if (this._closed !== false)\n            this.pushIt(this._closed);\n        // the async iterator\n        return {\n            next: () => {\n                let state = this._itState;\n                assert(state, \"bad state\"); // if we don't have a state here, code is broken\n                // there should be no pending result.\n                // did the consumer call next() before we resolved our previous result promise?\n                assert(!state.p, \"iterator contract broken\");\n                // did we produce faster than the iterator consumed?\n                // return the oldest result from the queue.\n                let first = state.q.shift();\n                if (first)\n                    return (\"value\" in first) ? Promise.resolve(first) : Promise.reject(first);\n                // we have no result ATM, but we promise one.\n                // as soon as we have a result, we must resolve promise.\n                state.p = new Deferred();\n                return state.p.promise;\n            },\n        };\n    }\n    // \"push\" a new iterator result.\n    // this either resolves a pending promise, or enqueues the result.\n    pushIt(result) {\n        let state = this._itState;\n        if (!state)\n            return;\n        // is the consumer waiting for us?\n        if (state.p) {\n            // yes, consumer is waiting for this promise.\n            const p = state.p;\n            assert(p.state == DeferredState.PENDING, \"iterator contract broken\");\n            // resolve the promise\n            (\"value\" in result) ? p.resolve(result) : p.reject(result);\n            // must cleanup, otherwise iterator.next() would pick it up again.\n            delete state.p;\n        }\n        else {\n            // we are producing faster than the iterator consumes.\n            // push result onto queue.\n            state.q.push(result);\n        }\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * A unary RPC call. Unary means there is exactly one input message and\n * exactly one output message unless an error occurred.\n */\nexport class UnaryCall {\n    constructor(method, requestHeaders, request, headers, response, status, trailers) {\n        this.method = method;\n        this.requestHeaders = requestHeaders;\n        this.request = request;\n        this.headers = headers;\n        this.response = response;\n        this.status = status;\n        this.trailers = trailers;\n    }\n    /**\n     * If you are only interested in the final outcome of this call,\n     * you can await it to receive a `FinishedUnaryCall`.\n     */\n    then(onfulfilled, onrejected) {\n        return this.promiseFinished().then(value => onfulfilled ? Promise.resolve(onfulfilled(value)) : value, reason => onrejected ? Promise.resolve(onrejected(reason)) : Promise.reject(reason));\n    }\n    promiseFinished() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let [headers, response, status, trailers] = yield Promise.all([this.headers, this.response, this.status, this.trailers]);\n            return {\n                method: this.method,\n                requestHeaders: this.requestHeaders,\n                request: this.request,\n                headers,\n                response,\n                status,\n                trailers\n            };\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * A server streaming RPC call. The client provides exactly one input message\n * but the server may respond with 0, 1, or more messages.\n */\nexport class ServerStreamingCall {\n    constructor(method, requestHeaders, request, headers, response, status, trailers) {\n        this.method = method;\n        this.requestHeaders = requestHeaders;\n        this.request = request;\n        this.headers = headers;\n        this.responses = response;\n        this.status = status;\n        this.trailers = trailers;\n    }\n    /**\n     * Instead of awaiting the response status and trailers, you can\n     * just as well await this call itself to receive the server outcome.\n     * You should first setup some listeners to the `request` to\n     * see the actual messages the server replied with.\n     */\n    then(onfulfilled, onrejected) {\n        return this.promiseFinished().then(value => onfulfilled ? Promise.resolve(onfulfilled(value)) : value, reason => onrejected ? Promise.resolve(onrejected(reason)) : Promise.reject(reason));\n    }\n    promiseFinished() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let [headers, status, trailers] = yield Promise.all([this.headers, this.status, this.trailers]);\n            return {\n                method: this.method,\n                requestHeaders: this.requestHeaders,\n                request: this.request,\n                headers,\n                status,\n                trailers,\n            };\n        });\n    }\n}\n","import { assertNever } from \"@protobuf-ts/runtime\";\n/**\n * Creates a \"stack\" of of all interceptors specified in the given `RpcOptions`.\n * Used by generated client implementations.\n * @internal\n */\nexport function stackIntercept(kind, transport, method, options, input) {\n    var _a, _b, _c, _d;\n    if (kind == \"unary\") {\n        let tail = (mtd, inp, opt) => transport.unary(mtd, inp, opt);\n        for (const curr of ((_a = options.interceptors) !== null && _a !== void 0 ? _a : []).filter(i => i.interceptUnary).reverse()) {\n            const next = tail;\n            tail = (mtd, inp, opt) => curr.interceptUnary(next, mtd, inp, opt);\n        }\n        return tail(method, input, options);\n    }\n    if (kind == \"serverStreaming\") {\n        let tail = (mtd, inp, opt) => transport.serverStreaming(mtd, inp, opt);\n        for (const curr of ((_b = options.interceptors) !== null && _b !== void 0 ? _b : []).filter(i => i.interceptServerStreaming).reverse()) {\n            const next = tail;\n            tail = (mtd, inp, opt) => curr.interceptServerStreaming(next, mtd, inp, opt);\n        }\n        return tail(method, input, options);\n    }\n    if (kind == \"clientStreaming\") {\n        let tail = (mtd, opt) => transport.clientStreaming(mtd, opt);\n        for (const curr of ((_c = options.interceptors) !== null && _c !== void 0 ? _c : []).filter(i => i.interceptClientStreaming).reverse()) {\n            const next = tail;\n            tail = (mtd, opt) => curr.interceptClientStreaming(next, mtd, opt);\n        }\n        return tail(method, options);\n    }\n    if (kind == \"duplex\") {\n        let tail = (mtd, opt) => transport.duplex(mtd, opt);\n        for (const curr of ((_d = options.interceptors) !== null && _d !== void 0 ? _d : []).filter(i => i.interceptDuplex).reverse()) {\n            const next = tail;\n            tail = (mtd, opt) => curr.interceptDuplex(next, mtd, opt);\n        }\n        return tail(method, options);\n    }\n    assertNever(kind);\n}\n/**\n * @deprecated replaced by `stackIntercept()`, still here to support older generated code\n */\nexport function stackUnaryInterceptors(transport, method, input, options) {\n    return stackIntercept(\"unary\", transport, method, options, input);\n}\n/**\n * @deprecated replaced by `stackIntercept()`, still here to support older generated code\n */\nexport function stackServerStreamingInterceptors(transport, method, input, options) {\n    return stackIntercept(\"serverStreaming\", transport, method, options, input);\n}\n/**\n * @deprecated replaced by `stackIntercept()`, still here to support older generated code\n */\nexport function stackClientStreamingInterceptors(transport, method, options) {\n    return stackIntercept(\"clientStreaming\", transport, method, options);\n}\n/**\n * @deprecated replaced by `stackIntercept()`, still here to support older generated code\n */\nexport function stackDuplexStreamingInterceptors(transport, method, options) {\n    return stackIntercept(\"duplex\", transport, method, options);\n}\n","import { Deferred, RpcError, RpcOutputStreamController, ServerStreamingCall, UnaryCall, mergeRpcOptions } from \"@protobuf-ts/runtime-rpc\";\nimport { GrpcWebFrame, createGrpcWebRequestBody, createGrpcWebRequestHeader, readGrpcWebResponseBody, readGrpcWebResponseHeader, readGrpcWebResponseTrailer } from \"./grpc-web-format\";\nimport { GrpcStatusCode } from \"./goog-grpc-status-code\";\n/**\n * Implements the grpc-web protocol, supporting text format or binary\n * format on the wire. Uses the fetch API to do the HTTP requests.\n *\n * Does not support client streaming or duplex calls because grpc-web\n * does not support them.\n */\nexport class GrpcWebFetchTransport {\n    constructor(defaultOptions) {\n        this.defaultOptions = defaultOptions;\n    }\n    mergeOptions(options) {\n        return mergeRpcOptions(this.defaultOptions, options);\n    }\n    /**\n     * Create an URI for a gRPC web call.\n     *\n     * Takes the `baseUrl` option and appends:\n     * - slash \"/\"\n     * - package name\n     * - dot \".\"\n     * - service name\n     * - slash \"/\"\n     * - method name\n     *\n     * If the service was declared without a package, the package name and dot\n     * are omitted.\n     *\n     * All names are used exactly like declared in .proto.\n     */\n    makeUrl(method, options) {\n        let base = options.baseUrl;\n        if (base.endsWith('/'))\n            base = base.substring(0, base.length - 1);\n        return `${base}/${method.service.typeName}/${method.name}`;\n    }\n    clientStreaming(method /*, options: RpcOptions*/) {\n        const e = new RpcError('Client streaming is not supported by grpc-web', GrpcStatusCode[GrpcStatusCode.UNIMPLEMENTED]);\n        e.methodName = method.name;\n        e.serviceName = method.service.typeName;\n        throw e;\n    }\n    duplex(method /*, options: RpcOptions*/) {\n        const e = new RpcError('Duplex streaming is not supported by grpc-web', GrpcStatusCode[GrpcStatusCode.UNIMPLEMENTED]);\n        e.methodName = method.name;\n        e.serviceName = method.service.typeName;\n        throw e;\n    }\n    serverStreaming(method, input, options) {\n        var _a, _b, _c, _d;\n        let opt = options, format = (_a = opt.format) !== null && _a !== void 0 ? _a : 'text', fetchInit = (_b = opt.fetchInit) !== null && _b !== void 0 ? _b : {}, url = this.makeUrl(method, opt), inputBytes = method.I.toBinary(input, opt.binaryOptions), defHeader = new Deferred(), responseStream = new RpcOutputStreamController(), responseEmptyBody = true, maybeStatus, defStatus = new Deferred(), maybeTrailer, defTrailer = new Deferred();\n        globalThis.fetch(url, Object.assign(Object.assign({}, fetchInit), { method: 'POST', headers: createGrpcWebRequestHeader(new globalThis.Headers(), format, opt.timeout, opt.meta), body: createGrpcWebRequestBody(inputBytes, format), signal: (_c = options.abort) !== null && _c !== void 0 ? _c : null // node-fetch@3.0.0-beta.9 rejects `undefined`\n         }))\n            .then(fetchResponse => {\n            let [code, detail, meta] = readGrpcWebResponseHeader(fetchResponse);\n            defHeader.resolve(meta);\n            if (code != null && code !== GrpcStatusCode.OK)\n                throw new RpcError(detail !== null && detail !== void 0 ? detail : GrpcStatusCode[code], GrpcStatusCode[code], meta);\n            if (code != null)\n                maybeStatus = {\n                    code: GrpcStatusCode[code],\n                    detail: detail !== null && detail !== void 0 ? detail : GrpcStatusCode[code]\n                };\n            return fetchResponse;\n        })\n            .then(fetchResponse => {\n            if (!fetchResponse.body)\n                throw new RpcError('missing response body', GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n            return readGrpcWebResponseBody(fetchResponse.body, fetchResponse.headers.get('content-type'), (type, data) => {\n                switch (type) {\n                    case GrpcWebFrame.DATA:\n                        responseStream.notifyMessage(method.O.fromBinary(data, opt.binaryOptions));\n                        responseEmptyBody = false;\n                        break;\n                    case GrpcWebFrame.TRAILER:\n                        let code, detail;\n                        [code, detail, maybeTrailer] = readGrpcWebResponseTrailer(data);\n                        maybeStatus = {\n                            code: GrpcStatusCode[code],\n                            detail: detail !== null && detail !== void 0 ? detail : GrpcStatusCode[code]\n                        };\n                        break;\n                }\n            });\n        })\n            .then(() => {\n            if (!maybeTrailer && !responseEmptyBody)\n                throw new RpcError(`missing trailers`, GrpcStatusCode[GrpcStatusCode.DATA_LOSS]);\n            // istanbul ignore if - this should be impossible and only here to satisfy TypeScript\n            if (!maybeStatus)\n                throw new RpcError(`missing status`, GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n            if (maybeStatus.code !== 'OK')\n                throw new RpcError(maybeStatus.detail, maybeStatus.code, maybeTrailer);\n            responseStream.notifyComplete();\n            defStatus.resolve(maybeStatus);\n            defTrailer.resolve(maybeTrailer || {});\n        })\n            .catch(reason => {\n            let error;\n            if (reason instanceof RpcError)\n                error = reason;\n            else if (reason instanceof Error && reason.name === 'AbortError')\n                // aborted\n                error = new RpcError(reason.message, GrpcStatusCode[GrpcStatusCode.CANCELLED]);\n            else\n                // RpcErrors are thrown by us, everything else is an internal error\n                error = new RpcError(reason instanceof Error ? reason.message : \"\" + reason, GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n            error.methodName = method.name;\n            error.serviceName = method.service.typeName;\n            defHeader.rejectPending(error);\n            responseStream.notifyError(error);\n            defStatus.rejectPending(error);\n            defTrailer.rejectPending(error);\n        });\n        return new ServerStreamingCall(method, (_d = opt.meta) !== null && _d !== void 0 ? _d : {}, input, defHeader.promise, responseStream, defStatus.promise, defTrailer.promise);\n    }\n    unary(method, input, options) {\n        var _a, _b, _c, _d;\n        let opt = options, format = (_a = opt.format) !== null && _a !== void 0 ? _a : 'text', fetchInit = (_b = opt.fetchInit) !== null && _b !== void 0 ? _b : {}, url = this.makeUrl(method, opt), inputBytes = method.I.toBinary(input, opt.binaryOptions), defHeader = new Deferred(), maybeMessage, defMessage = new Deferred(), maybeStatus, defStatus = new Deferred(), maybeTrailer, defTrailer = new Deferred();\n        globalThis.fetch(url, Object.assign(Object.assign({}, fetchInit), { method: 'POST', headers: createGrpcWebRequestHeader(new globalThis.Headers(), format, opt.timeout, opt.meta), body: createGrpcWebRequestBody(inputBytes, format), signal: (_c = options.abort) !== null && _c !== void 0 ? _c : null // node-fetch@3.0.0-beta.9 rejects `undefined`\n         }))\n            .then(fetchResponse => {\n            let [code, detail, meta] = readGrpcWebResponseHeader(fetchResponse);\n            defHeader.resolve(meta);\n            if (code != null && code !== GrpcStatusCode.OK)\n                throw new RpcError(detail !== null && detail !== void 0 ? detail : GrpcStatusCode[code], GrpcStatusCode[code], meta);\n            if (code != null)\n                maybeStatus = {\n                    code: GrpcStatusCode[code],\n                    detail: detail !== null && detail !== void 0 ? detail : GrpcStatusCode[code]\n                };\n            return fetchResponse;\n        })\n            .then(fetchResponse => {\n            if (!fetchResponse.body)\n                throw new RpcError('missing response body', GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n            return readGrpcWebResponseBody(fetchResponse.body, fetchResponse.headers.get('content-type'), (type, data) => {\n                switch (type) {\n                    case GrpcWebFrame.DATA:\n                        if (maybeMessage)\n                            throw new RpcError(`unary call received 2nd message`, GrpcStatusCode[GrpcStatusCode.DATA_LOSS]);\n                        maybeMessage = method.O.fromBinary(data, opt.binaryOptions);\n                        break;\n                    case GrpcWebFrame.TRAILER:\n                        let code, detail;\n                        [code, detail, maybeTrailer] = readGrpcWebResponseTrailer(data);\n                        maybeStatus = {\n                            code: GrpcStatusCode[code],\n                            detail: detail !== null && detail !== void 0 ? detail : GrpcStatusCode[code]\n                        };\n                        break;\n                }\n            });\n        })\n            .then(() => {\n            if (!maybeTrailer && maybeMessage)\n                throw new RpcError(`missing trailers`, GrpcStatusCode[GrpcStatusCode.DATA_LOSS]);\n            // istanbul ignore if - this should be impossible and only here to satisfy TypeScript\n            if (!maybeStatus)\n                throw new RpcError(`missing status`, GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n            if (!maybeMessage && maybeStatus.code === 'OK')\n                throw new RpcError('expected error status', GrpcStatusCode[GrpcStatusCode.DATA_LOSS]);\n            if (!maybeMessage)\n                throw new RpcError(maybeStatus.detail, maybeStatus.code, maybeTrailer);\n            defMessage.resolve(maybeMessage);\n            if (maybeStatus.code !== 'OK')\n                throw new RpcError(maybeStatus.detail, maybeStatus.code, maybeTrailer);\n            defStatus.resolve(maybeStatus);\n            defTrailer.resolve(maybeTrailer || {});\n        })\n            .catch(reason => {\n            let error;\n            if (reason instanceof RpcError)\n                error = reason;\n            else if (reason instanceof Error && reason.name === 'AbortError')\n                // aborted\n                error = new RpcError(reason.message, GrpcStatusCode[GrpcStatusCode.CANCELLED]);\n            else\n                // RpcErrors are thrown by us, everything else is an internal error\n                error = new RpcError(reason instanceof Error ? reason.message : \"\" + reason, GrpcStatusCode[GrpcStatusCode.INTERNAL]);\n            error.methodName = method.name;\n            error.serviceName = method.service.typeName;\n            defHeader.rejectPending(error);\n            defMessage.rejectPending(error);\n            defStatus.rejectPending(error);\n            defTrailer.rejectPending(error);\n        });\n        return new UnaryCall(method, (_d = opt.meta) !== null && _d !== void 0 ? _d : {}, input, defHeader.promise, defMessage.promise, defStatus.promise, defTrailer.promise);\n    }\n}\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_event.proto\" (package \"db3_event_proto\", syntax proto3)\n// tslint:disable\nimport { MessageType } from \"@protobuf-ts/runtime\";\n/**\n * the node will dispatch a block event when a new block has been proposed\n *\n * @generated from protobuf message db3_event_proto.BlockEvent\n */\nexport interface BlockEvent {\n    /**\n     * @generated from protobuf field: uint64 height = 1;\n     */\n    height: string;\n    /**\n     * @generated from protobuf field: bytes block_hash = 2;\n     */\n    blockHash: Uint8Array;\n    /**\n     * @generated from protobuf field: bytes app_hash = 3;\n     */\n    appHash: Uint8Array;\n    /**\n     * @generated from protobuf field: string chain_id = 4;\n     */\n    chainId: string;\n    /**\n     * @generated from protobuf field: uint64 gas = 5;\n     */\n    gas: string;\n}\n/**\n * the node will dispatch a mutation event when a mutation has been checked\n *\n * @generated from protobuf message db3_event_proto.MutationEvent\n */\nexport interface MutationEvent {\n    /**\n     * @generated from protobuf field: bytes sender = 1;\n     */\n    sender: Uint8Array;\n    /**\n     * @generated from protobuf field: db3_event_proto.MutationEvent.MutationEventStatus status = 2;\n     */\n    status: MutationEvent_MutationEventStatus;\n    /**\n     * the address that mutation has been send to\n     *\n     * @generated from protobuf field: bytes to = 3;\n     */\n    to: Uint8Array;\n    /**\n     * @generated from protobuf field: uint64 gas = 4;\n     */\n    gas: string;\n}\n/**\n * @generated from protobuf enum db3_event_proto.MutationEvent.MutationEventStatus\n */\nexport enum MutationEvent_MutationEventStatus {\n    /**\n     * the mutation has been deliveried\n     *\n     * @generated from protobuf enum value: Deliveried = 0;\n     */\n    Deliveried = 0,\n    /**\n     * not enough gas\n     *\n     * @generated from protobuf enum value: OutOfGas = 1;\n     */\n    OutOfGas = 1,\n    /**\n     * invalid mutation\n     *\n     * @generated from protobuf enum value: Invalid = 2;\n     */\n    Invalid = 2\n}\n/**\n * @generated from protobuf enum db3_event_proto.MutationEvent.ToAddressType\n */\nexport enum MutationEvent_ToAddressType {\n    /**\n     * mutation for data\n     *\n     * @generated from protobuf enum value: Database = 0;\n     */\n    Database = 0,\n    /**\n     * mutation for credit\n     *\n     * @generated from protobuf enum value: Account = 1;\n     */\n    Account = 1\n}\n/**\n * @generated from protobuf message db3_event_proto.EventMessage\n */\nexport interface EventMessage {\n    /**\n     * @generated from protobuf field: db3_event_proto.EventType type = 1;\n     */\n    type: EventType;\n    /**\n     * @generated from protobuf oneof: event\n     */\n    event: {\n        oneofKind: \"mutationEvent\";\n        /**\n         * @generated from protobuf field: db3_event_proto.MutationEvent mutation_event = 2;\n         */\n        mutationEvent: MutationEvent;\n    } | {\n        oneofKind: \"blockEvent\";\n        /**\n         * @generated from protobuf field: db3_event_proto.BlockEvent block_event = 3;\n         */\n        blockEvent: BlockEvent;\n    } | {\n        oneofKind: undefined;\n    };\n}\n/**\n * @generated from protobuf message db3_event_proto.MutationEventFilter\n */\nexport interface MutationEventFilter {\n    /**\n     * @generated from protobuf field: bytes sender = 1;\n     */\n    sender: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_event_proto.BlockEventFilter\n */\nexport interface BlockEventFilter {\n}\n/**\n * @generated from protobuf message db3_event_proto.EventFilter\n */\nexport interface EventFilter {\n    /**\n     * @generated from protobuf oneof: filter\n     */\n    filter: {\n        oneofKind: \"mfilter\";\n        /**\n         * @generated from protobuf field: db3_event_proto.MutationEventFilter mfilter = 1;\n         */\n        mfilter: MutationEventFilter;\n    } | {\n        oneofKind: \"bfilter\";\n        /**\n         * @generated from protobuf field: db3_event_proto.BlockEventFilter bfilter = 2;\n         */\n        bfilter: BlockEventFilter;\n    } | {\n        oneofKind: undefined;\n    };\n}\n/**\n * @generated from protobuf message db3_event_proto.Subscribution\n */\nexport interface Subscribution {\n    /**\n     * @generated from protobuf field: repeated db3_event_proto.EventType topics = 1;\n     */\n    topics: EventType[];\n    /**\n     * @generated from protobuf field: repeated db3_event_proto.EventFilter filters = 2;\n     */\n    filters: EventFilter[];\n}\n/**\n * @generated from protobuf enum db3_event_proto.EventType\n */\nexport enum EventType {\n    /**\n     * @generated from protobuf enum value: Block = 0;\n     */\n    Block = 0,\n    /**\n     * @generated from protobuf enum value: Mutation = 1;\n     */\n    Mutation = 1,\n    /**\n     * @generated from protobuf enum value: Query = 2;\n     */\n    Query = 2\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass BlockEvent$Type extends MessageType<BlockEvent> {\n    constructor() {\n        super(\"db3_event_proto.BlockEvent\", [\n            { no: 1, name: \"height\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 2, name: \"block_hash\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"app_hash\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"chain_id\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 5, name: \"gas\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.BlockEvent\n */\nexport const BlockEvent = new BlockEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass MutationEvent$Type extends MessageType<MutationEvent> {\n    constructor() {\n        super(\"db3_event_proto.MutationEvent\", [\n            { no: 1, name: \"sender\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"status\", kind: \"enum\", T: () => [\"db3_event_proto.MutationEvent.MutationEventStatus\", MutationEvent_MutationEventStatus] },\n            { no: 3, name: \"to\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"gas\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.MutationEvent\n */\nexport const MutationEvent = new MutationEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass EventMessage$Type extends MessageType<EventMessage> {\n    constructor() {\n        super(\"db3_event_proto.EventMessage\", [\n            { no: 1, name: \"type\", kind: \"enum\", T: () => [\"db3_event_proto.EventType\", EventType] },\n            { no: 2, name: \"mutation_event\", kind: \"message\", oneof: \"event\", T: () => MutationEvent },\n            { no: 3, name: \"block_event\", kind: \"message\", oneof: \"event\", T: () => BlockEvent }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.EventMessage\n */\nexport const EventMessage = new EventMessage$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass MutationEventFilter$Type extends MessageType<MutationEventFilter> {\n    constructor() {\n        super(\"db3_event_proto.MutationEventFilter\", [\n            { no: 1, name: \"sender\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.MutationEventFilter\n */\nexport const MutationEventFilter = new MutationEventFilter$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass BlockEventFilter$Type extends MessageType<BlockEventFilter> {\n    constructor() {\n        super(\"db3_event_proto.BlockEventFilter\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.BlockEventFilter\n */\nexport const BlockEventFilter = new BlockEventFilter$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass EventFilter$Type extends MessageType<EventFilter> {\n    constructor() {\n        super(\"db3_event_proto.EventFilter\", [\n            { no: 1, name: \"mfilter\", kind: \"message\", oneof: \"filter\", T: () => MutationEventFilter },\n            { no: 2, name: \"bfilter\", kind: \"message\", oneof: \"filter\", T: () => BlockEventFilter }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.EventFilter\n */\nexport const EventFilter = new EventFilter$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Subscribution$Type extends MessageType<Subscribution> {\n    constructor() {\n        super(\"db3_event_proto.Subscribution\", [\n            { no: 1, name: \"topics\", kind: \"enum\", repeat: 1 /*RepeatType.PACKED*/, T: () => [\"db3_event_proto.EventType\", EventType] },\n            { no: 2, name: \"filters\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => EventFilter }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_event_proto.Subscribution\n */\nexport const Subscribution = new Subscribution$Type();\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_session.proto\" (package \"db3_session_proto\", syntax proto3)\n// tslint:disable\n//\n//\n//\n// db3_mutation.proto\n// Copyright (C) 2022 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//\nimport { MessageType } from \"@protobuf-ts/runtime\";\nimport { PayloadType } from \"./db3_mutation\";\nimport { BroadcastMeta } from \"./db3_base\";\n/**\n * @generated from protobuf message db3_session_proto.QuerySessionInfo\n */\nexport interface QuerySessionInfo {\n    /**\n     * the hex encoded string\n     *\n     * @generated from protobuf field: int32 id = 1;\n     */\n    id: number;\n    /**\n     * @generated from protobuf field: int64 start_time = 2;\n     */\n    startTime: string;\n    /**\n     * @generated from protobuf field: int32 query_count = 3;\n     */\n    queryCount: number;\n    /**\n     * the meta for client\n     *\n     * @generated from protobuf field: db3_base_proto.BroadcastMeta meta = 4;\n     */\n    meta?: BroadcastMeta;\n}\n/**\n * @generated from protobuf message db3_session_proto.OpenSessionPayload\n */\nexport interface OpenSessionPayload {\n    /**\n     * @generated from protobuf field: string header = 1;\n     */\n    header: string;\n    /**\n     * @generated from protobuf field: int64 start_time = 2;\n     */\n    startTime: string;\n}\n/**\n * the session for mutation\n *\n * @generated from protobuf message db3_session_proto.QuerySession\n */\nexport interface QuerySession {\n    /**\n     * the meta for node client\n     *\n     * @generated from protobuf field: db3_base_proto.BroadcastMeta meta = 1;\n     */\n    meta?: BroadcastMeta;\n    /**\n     * the agreed session info\n     *\n     * @generated from protobuf field: bytes payload = 2;\n     */\n    payload: Uint8Array;\n    /**\n     * client signature\n     *\n     * @generated from protobuf field: bytes client_signature = 3;\n     */\n    clientSignature: Uint8Array;\n    /**\n     * the type of payload\n     *\n     * @generated from protobuf field: db3_mutation_proto.PayloadType payload_type = 4;\n     */\n    payloadType: PayloadType;\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass QuerySessionInfo$Type extends MessageType<QuerySessionInfo> {\n    constructor() {\n        super(\"db3_session_proto.QuerySessionInfo\", [\n            { no: 1, name: \"id\", kind: \"scalar\", T: 5 /*ScalarType.INT32*/ },\n            { no: 2, name: \"start_time\", kind: \"scalar\", T: 3 /*ScalarType.INT64*/ },\n            { no: 3, name: \"query_count\", kind: \"scalar\", T: 5 /*ScalarType.INT32*/ },\n            { no: 4, name: \"meta\", kind: \"message\", T: () => BroadcastMeta }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_session_proto.QuerySessionInfo\n */\nexport const QuerySessionInfo = new QuerySessionInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OpenSessionPayload$Type extends MessageType<OpenSessionPayload> {\n    constructor() {\n        super(\"db3_session_proto.OpenSessionPayload\", [\n            { no: 1, name: \"header\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"start_time\", kind: \"scalar\", T: 3 /*ScalarType.INT64*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_session_proto.OpenSessionPayload\n */\nexport const OpenSessionPayload = new OpenSessionPayload$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass QuerySession$Type extends MessageType<QuerySession> {\n    constructor() {\n        super(\"db3_session_proto.QuerySession\", [\n            { no: 1, name: \"meta\", kind: \"message\", T: () => BroadcastMeta },\n            { no: 2, name: \"payload\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"client_signature\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 4, name: \"payload_type\", kind: \"enum\", T: () => [\"db3_mutation_proto.PayloadType\", PayloadType] }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_session_proto.QuerySession\n */\nexport const QuerySession = new QuerySession$Type();\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_bill.proto\" (package \"db3_bill_proto\", syntax proto3)\n// tslint:disable\n//\n//\n//\n// db3_bill.proto\n// Copyright (C) 2022 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n//\nimport { MessageType } from \"@protobuf-ts/runtime\";\n/**\n * @generated from protobuf message db3_bill_proto.Bill\n */\nexport interface Bill {\n    /**\n     * uint256\n     *\n     * @generated from protobuf field: uint64 gas_fee = 1;\n     */\n    gasFee: string;\n    /**\n     * the block id\n     *\n     * @generated from protobuf field: uint64 block_id = 2;\n     */\n    blockId: string;\n    /**\n     * query session or mutation\n     *\n     * @generated from protobuf field: db3_bill_proto.BillType bill_type = 4;\n     */\n    billType: BillType;\n    /**\n     * time on block created\n     *\n     * @generated from protobuf field: uint64 time = 5;\n     */\n    time: string;\n    /**\n     * mutation id or query session id\n     *\n     * @generated from protobuf field: bytes tx_id = 6;\n     */\n    txId: Uint8Array;\n    /**\n     * owner address\n     *\n     * @generated from protobuf field: bytes owner = 8;\n     */\n    owner: Uint8Array;\n    /**\n     * to address\n     *\n     * @generated from protobuf field: bytes to = 9;\n     */\n    to: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_bill_proto.BillQueryRequest\n */\nexport interface BillQueryRequest {\n    /**\n     * @generated from protobuf field: uint64 block_height = 1;\n     */\n    blockHeight: string;\n}\n/**\n * @generated from protobuf enum db3_bill_proto.BillType\n */\nexport enum BillType {\n    /**\n     * @generated from protobuf enum value: BillForMutation = 0;\n     */\n    BillForMutation = 0,\n    /**\n     * @generated from protobuf enum value: BillForQuery = 1;\n     */\n    BillForQuery = 1,\n    /**\n     * @generated from protobuf enum value: BillForMint = 2;\n     */\n    BillForMint = 2\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass Bill$Type extends MessageType<Bill> {\n    constructor() {\n        super(\"db3_bill_proto.Bill\", [\n            { no: 1, name: \"gas_fee\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 2, name: \"block_id\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 4, name: \"bill_type\", kind: \"enum\", T: () => [\"db3_bill_proto.BillType\", BillType] },\n            { no: 5, name: \"time\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 6, name: \"tx_id\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 8, name: \"owner\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 9, name: \"to\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_bill_proto.Bill\n */\nexport const Bill = new Bill$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass BillQueryRequest$Type extends MessageType<BillQueryRequest> {\n    constructor() {\n        super(\"db3_bill_proto.BillQueryRequest\", [\n            { no: 1, name: \"block_height\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_bill_proto.BillQueryRequest\n */\nexport const BillQueryRequest = new BillQueryRequest$Type();\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_node.proto\" (package \"db3_node_proto\", syntax proto3)\n// tslint:disable\nimport { EventMessage } from \"./db3_event\";\nimport { ServiceType } from \"@protobuf-ts/runtime-rpc\";\nimport { MessageType } from \"@protobuf-ts/runtime\";\nimport { Subscribution } from \"./db3_event\";\nimport { Document } from \"./db3_database\";\nimport { StructuredQuery } from \"./db3_database\";\nimport { Database } from \"./db3_database\";\nimport { QuerySessionInfo } from \"./db3_session\";\nimport { PayloadType } from \"./db3_mutation\";\nimport { Account } from \"./db3_account\";\nimport { Bill } from \"./db3_bill\";\n/**\n * @generated from protobuf message db3_node_proto.NetworkStatus\n */\nexport interface NetworkStatus {\n    /**\n     * @generated from protobuf field: uint64 total_database_count = 1;\n     */\n    totalDatabaseCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_collection_count = 2;\n     */\n    totalCollectionCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_document_count = 3;\n     */\n    totalDocumentCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_account_count = 4;\n     */\n    totalAccountCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_mutation_count = 5;\n     */\n    totalMutationCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_session_count = 6;\n     */\n    totalSessionCount: string;\n    /**\n     * @generated from protobuf field: uint64 total_storage_in_bytes = 7;\n     */\n    totalStorageInBytes: string;\n}\n/**\n * @generated from protobuf message db3_node_proto.QueryBillKey\n */\nexport interface QueryBillKey {\n    /**\n     * @generated from protobuf field: uint64 height = 1;\n     */\n    height: string;\n    /**\n     * @generated from protobuf field: string session_token = 2;\n     */\n    sessionToken: string;\n}\n/**\n * @generated from protobuf message db3_node_proto.QueryBillRequest\n */\nexport interface QueryBillRequest {\n    /**\n     * @generated from protobuf field: db3_node_proto.QueryBillKey query_bill_key = 1;\n     */\n    queryBillKey?: QueryBillKey;\n}\n/**\n * @generated from protobuf message db3_node_proto.QueryBillResponse\n */\nexport interface QueryBillResponse {\n    /**\n     * @generated from protobuf field: repeated db3_bill_proto.Bill bills = 1;\n     */\n    bills: Bill[];\n}\n/**\n * @generated from protobuf message db3_node_proto.SessionIdentifier\n */\nexport interface SessionIdentifier {\n    /**\n     * @generated from protobuf field: string session_token = 1;\n     */\n    sessionToken: string;\n}\n/**\n * @generated from protobuf message db3_node_proto.GetAccountRequest\n */\nexport interface GetAccountRequest {\n    /**\n     * @generated from protobuf field: bytes addr = 1;\n     */\n    addr: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_node_proto.GetAccountResponse\n */\nexport interface GetAccountResponse {\n    /**\n     * @generated from protobuf field: db3_account_proto.Account account = 1;\n     */\n    account?: Account;\n}\n/**\n * @generated from protobuf message db3_node_proto.GetSessionInfoRequest\n */\nexport interface GetSessionInfoRequest {\n    /**\n     * the hex encoded string\n     *\n     * @generated from protobuf field: db3_node_proto.SessionIdentifier session_identifier = 1;\n     */\n    sessionIdentifier?: SessionIdentifier;\n}\n/**\n * @generated from protobuf message db3_node_proto.OpenSessionRequest\n */\nexport interface OpenSessionRequest {\n    /**\n     * @generated from protobuf field: bytes payload = 1;\n     */\n    payload: Uint8Array;\n    /**\n     * @generated from protobuf field: bytes signature = 2;\n     */\n    signature: Uint8Array;\n    /**\n     * @generated from protobuf field: db3_mutation_proto.PayloadType payload_type = 3;\n     */\n    payloadType: PayloadType;\n}\n/**\n * @generated from protobuf message db3_node_proto.OpenSessionResponse\n */\nexport interface OpenSessionResponse {\n    /**\n     * @generated from protobuf field: db3_session_proto.QuerySessionInfo query_session_info = 1;\n     */\n    querySessionInfo?: QuerySessionInfo;\n    /**\n     * @generated from protobuf field: int64 session_timeout_second = 2;\n     */\n    sessionTimeoutSecond: string;\n    /**\n     * @generated from protobuf field: int32 max_query_limit = 3;\n     */\n    maxQueryLimit: number;\n    /**\n     * @generated from protobuf field: string session_token = 4;\n     */\n    sessionToken: string;\n}\n/**\n * @generated from protobuf message db3_node_proto.CloseSessionRequest\n */\nexport interface CloseSessionRequest {\n    /**\n     * the query session info\n     *\n     * @generated from protobuf field: bytes payload = 1;\n     */\n    payload: Uint8Array;\n    /**\n     * the signature of query session info\n     *\n     * @generated from protobuf field: bytes signature = 2;\n     */\n    signature: Uint8Array;\n    /**\n     * @generated from protobuf field: string session_token = 3;\n     */\n    sessionToken: string;\n    /**\n     * @generated from protobuf field: db3_mutation_proto.PayloadType payload_type = 4;\n     */\n    payloadType: PayloadType;\n}\n/**\n * @generated from protobuf message db3_node_proto.CloseSessionResponse\n */\nexport interface CloseSessionResponse {\n    /**\n     * @generated from protobuf field: db3_session_proto.QuerySessionInfo query_session_info = 1;\n     */\n    querySessionInfo?: QuerySessionInfo;\n    /**\n     * @generated from protobuf field: bytes hash = 2;\n     */\n    hash: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_node_proto.GetSessionInfoResponse\n */\nexport interface GetSessionInfoResponse {\n    /**\n     * @generated from protobuf field: int32 session_status = 1;\n     */\n    sessionStatus: number;\n    /**\n     * @generated from protobuf field: db3_session_proto.QuerySessionInfo session_info = 2;\n     */\n    sessionInfo?: QuerySessionInfo;\n}\n/**\n * @generated from protobuf message db3_node_proto.BroadcastRequest\n */\nexport interface BroadcastRequest {\n    /**\n     * @generated from protobuf field: bytes body = 1;\n     */\n    body: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_node_proto.BroadcastResponse\n */\nexport interface BroadcastResponse {\n    /**\n     * @generated from protobuf field: bytes hash = 2;\n     */\n    hash: Uint8Array;\n}\n/**\n * @generated from protobuf message db3_node_proto.ShowDatabaseRequest\n */\nexport interface ShowDatabaseRequest {\n    /**\n     * @generated from protobuf field: string session_token = 1;\n     */\n    sessionToken: string;\n    /**\n     * a hex string\n     *\n     * @generated from protobuf field: string address = 2;\n     */\n    address: string;\n}\n/**\n * @generated from protobuf message db3_node_proto.ShowDatabaseResponse\n */\nexport interface ShowDatabaseResponse {\n    /**\n     * @generated from protobuf field: db3_database_proto.Database db = 1;\n     */\n    db?: Database;\n}\n/**\n * @generated from protobuf message db3_node_proto.RunQueryRequest\n */\nexport interface RunQueryRequest {\n    /**\n     * @generated from protobuf field: string session_token = 1;\n     */\n    sessionToken: string;\n    /**\n     * a hex string\n     *\n     * @generated from protobuf field: string address = 2;\n     */\n    address: string;\n    /**\n     * @generated from protobuf field: db3_database_proto.StructuredQuery query = 3;\n     */\n    query?: StructuredQuery; // TODO: support paging setting (e.g page_size, page_token)\n    // TODO: support document mask\n}\n/**\n * @generated from protobuf message db3_node_proto.GetDocumentRequest\n */\nexport interface GetDocumentRequest {\n    /**\n     * @generated from protobuf field: string session_token = 1;\n     */\n    sessionToken: string;\n    /**\n     * a hex string\n     *\n     * @generated from protobuf field: string id = 2;\n     */\n    id: string;\n}\n/**\n * @generated from protobuf message db3_node_proto.GetDocumentResponse\n */\nexport interface GetDocumentResponse {\n    /**\n     * @generated from protobuf field: db3_database_proto.Document document = 1;\n     */\n    document?: Document;\n}\n/**\n * @generated from protobuf message db3_node_proto.RunQueryResponse\n */\nexport interface RunQueryResponse {\n    /**\n     * @generated from protobuf field: repeated db3_database_proto.Document documents = 2;\n     */\n    documents: Document[]; // TODO: support next_page_token for page loading\n}\n/**\n * @generated from protobuf message db3_node_proto.ShowNetworkStatusRequest\n */\nexport interface ShowNetworkStatusRequest {\n}\n/**\n * @generated from protobuf message db3_node_proto.SubscribeRequest\n */\nexport interface SubscribeRequest {\n    /**\n     * @generated from protobuf field: string session_token = 1;\n     */\n    sessionToken: string;\n    /**\n     * @generated from protobuf field: db3_event_proto.Subscribution sub = 2;\n     */\n    sub?: Subscribution;\n}\n// @generated message type with reflection information, may provide speed optimized methods\nclass NetworkStatus$Type extends MessageType<NetworkStatus> {\n    constructor() {\n        super(\"db3_node_proto.NetworkStatus\", [\n            { no: 1, name: \"total_database_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 2, name: \"total_collection_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 3, name: \"total_document_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 4, name: \"total_account_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 5, name: \"total_mutation_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 6, name: \"total_session_count\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 7, name: \"total_storage_in_bytes\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.NetworkStatus\n */\nexport const NetworkStatus = new NetworkStatus$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass QueryBillKey$Type extends MessageType<QueryBillKey> {\n    constructor() {\n        super(\"db3_node_proto.QueryBillKey\", [\n            { no: 1, name: \"height\", kind: \"scalar\", T: 4 /*ScalarType.UINT64*/ },\n            { no: 2, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.QueryBillKey\n */\nexport const QueryBillKey = new QueryBillKey$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass QueryBillRequest$Type extends MessageType<QueryBillRequest> {\n    constructor() {\n        super(\"db3_node_proto.QueryBillRequest\", [\n            { no: 1, name: \"query_bill_key\", kind: \"message\", T: () => QueryBillKey }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.QueryBillRequest\n */\nexport const QueryBillRequest = new QueryBillRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass QueryBillResponse$Type extends MessageType<QueryBillResponse> {\n    constructor() {\n        super(\"db3_node_proto.QueryBillResponse\", [\n            { no: 1, name: \"bills\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => Bill }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.QueryBillResponse\n */\nexport const QueryBillResponse = new QueryBillResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SessionIdentifier$Type extends MessageType<SessionIdentifier> {\n    constructor() {\n        super(\"db3_node_proto.SessionIdentifier\", [\n            { no: 1, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.SessionIdentifier\n */\nexport const SessionIdentifier = new SessionIdentifier$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GetAccountRequest$Type extends MessageType<GetAccountRequest> {\n    constructor() {\n        super(\"db3_node_proto.GetAccountRequest\", [\n            { no: 1, name: \"addr\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.GetAccountRequest\n */\nexport const GetAccountRequest = new GetAccountRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GetAccountResponse$Type extends MessageType<GetAccountResponse> {\n    constructor() {\n        super(\"db3_node_proto.GetAccountResponse\", [\n            { no: 1, name: \"account\", kind: \"message\", T: () => Account }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.GetAccountResponse\n */\nexport const GetAccountResponse = new GetAccountResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GetSessionInfoRequest$Type extends MessageType<GetSessionInfoRequest> {\n    constructor() {\n        super(\"db3_node_proto.GetSessionInfoRequest\", [\n            { no: 1, name: \"session_identifier\", kind: \"message\", T: () => SessionIdentifier }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.GetSessionInfoRequest\n */\nexport const GetSessionInfoRequest = new GetSessionInfoRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OpenSessionRequest$Type extends MessageType<OpenSessionRequest> {\n    constructor() {\n        super(\"db3_node_proto.OpenSessionRequest\", [\n            { no: 1, name: \"payload\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"signature\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"payload_type\", kind: \"enum\", T: () => [\"db3_mutation_proto.PayloadType\", PayloadType] }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.OpenSessionRequest\n */\nexport const OpenSessionRequest = new OpenSessionRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OpenSessionResponse$Type extends MessageType<OpenSessionResponse> {\n    constructor() {\n        super(\"db3_node_proto.OpenSessionResponse\", [\n            { no: 1, name: \"query_session_info\", kind: \"message\", T: () => QuerySessionInfo },\n            { no: 2, name: \"session_timeout_second\", kind: \"scalar\", T: 3 /*ScalarType.INT64*/ },\n            { no: 3, name: \"max_query_limit\", kind: \"scalar\", T: 5 /*ScalarType.INT32*/ },\n            { no: 4, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.OpenSessionResponse\n */\nexport const OpenSessionResponse = new OpenSessionResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CloseSessionRequest$Type extends MessageType<CloseSessionRequest> {\n    constructor() {\n        super(\"db3_node_proto.CloseSessionRequest\", [\n            { no: 1, name: \"payload\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 2, name: \"signature\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ },\n            { no: 3, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 4, name: \"payload_type\", kind: \"enum\", T: () => [\"db3_mutation_proto.PayloadType\", PayloadType] }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.CloseSessionRequest\n */\nexport const CloseSessionRequest = new CloseSessionRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CloseSessionResponse$Type extends MessageType<CloseSessionResponse> {\n    constructor() {\n        super(\"db3_node_proto.CloseSessionResponse\", [\n            { no: 1, name: \"query_session_info\", kind: \"message\", T: () => QuerySessionInfo },\n            { no: 2, name: \"hash\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.CloseSessionResponse\n */\nexport const CloseSessionResponse = new CloseSessionResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GetSessionInfoResponse$Type extends MessageType<GetSessionInfoResponse> {\n    constructor() {\n        super(\"db3_node_proto.GetSessionInfoResponse\", [\n            { no: 1, name: \"session_status\", kind: \"scalar\", T: 5 /*ScalarType.INT32*/ },\n            { no: 2, name: \"session_info\", kind: \"message\", T: () => QuerySessionInfo }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.GetSessionInfoResponse\n */\nexport const GetSessionInfoResponse = new GetSessionInfoResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass BroadcastRequest$Type extends MessageType<BroadcastRequest> {\n    constructor() {\n        super(\"db3_node_proto.BroadcastRequest\", [\n            { no: 1, name: \"body\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.BroadcastRequest\n */\nexport const BroadcastRequest = new BroadcastRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass BroadcastResponse$Type extends MessageType<BroadcastResponse> {\n    constructor() {\n        super(\"db3_node_proto.BroadcastResponse\", [\n            { no: 2, name: \"hash\", kind: \"scalar\", T: 12 /*ScalarType.BYTES*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.BroadcastResponse\n */\nexport const BroadcastResponse = new BroadcastResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ShowDatabaseRequest$Type extends MessageType<ShowDatabaseRequest> {\n    constructor() {\n        super(\"db3_node_proto.ShowDatabaseRequest\", [\n            { no: 1, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"address\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.ShowDatabaseRequest\n */\nexport const ShowDatabaseRequest = new ShowDatabaseRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ShowDatabaseResponse$Type extends MessageType<ShowDatabaseResponse> {\n    constructor() {\n        super(\"db3_node_proto.ShowDatabaseResponse\", [\n            { no: 1, name: \"db\", kind: \"message\", T: () => Database }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.ShowDatabaseResponse\n */\nexport const ShowDatabaseResponse = new ShowDatabaseResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass RunQueryRequest$Type extends MessageType<RunQueryRequest> {\n    constructor() {\n        super(\"db3_node_proto.RunQueryRequest\", [\n            { no: 1, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"address\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 3, name: \"query\", kind: \"message\", T: () => StructuredQuery }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.RunQueryRequest\n */\nexport const RunQueryRequest = new RunQueryRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GetDocumentRequest$Type extends MessageType<GetDocumentRequest> {\n    constructor() {\n        super(\"db3_node_proto.GetDocumentRequest\", [\n            { no: 1, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"id\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.GetDocumentRequest\n */\nexport const GetDocumentRequest = new GetDocumentRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GetDocumentResponse$Type extends MessageType<GetDocumentResponse> {\n    constructor() {\n        super(\"db3_node_proto.GetDocumentResponse\", [\n            { no: 1, name: \"document\", kind: \"message\", T: () => Document }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.GetDocumentResponse\n */\nexport const GetDocumentResponse = new GetDocumentResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass RunQueryResponse$Type extends MessageType<RunQueryResponse> {\n    constructor() {\n        super(\"db3_node_proto.RunQueryResponse\", [\n            { no: 2, name: \"documents\", kind: \"message\", repeat: 1 /*RepeatType.PACKED*/, T: () => Document }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.RunQueryResponse\n */\nexport const RunQueryResponse = new RunQueryResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ShowNetworkStatusRequest$Type extends MessageType<ShowNetworkStatusRequest> {\n    constructor() {\n        super(\"db3_node_proto.ShowNetworkStatusRequest\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.ShowNetworkStatusRequest\n */\nexport const ShowNetworkStatusRequest = new ShowNetworkStatusRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscribeRequest$Type extends MessageType<SubscribeRequest> {\n    constructor() {\n        super(\"db3_node_proto.SubscribeRequest\", [\n            { no: 1, name: \"session_token\", kind: \"scalar\", T: 9 /*ScalarType.STRING*/ },\n            { no: 2, name: \"sub\", kind: \"message\", T: () => Subscribution }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message db3_node_proto.SubscribeRequest\n */\nexport const SubscribeRequest = new SubscribeRequest$Type();\n/**\n * @generated ServiceType for protobuf service db3_node_proto.StorageNode\n */\nexport const StorageNode = new ServiceType(\"db3_node_proto.StorageNode\", [\n    { name: \"QueryBill\", options: {}, I: QueryBillRequest, O: QueryBillResponse },\n    { name: \"OpenQuerySession\", options: {}, I: OpenSessionRequest, O: OpenSessionResponse },\n    { name: \"CloseQuerySession\", options: {}, I: CloseSessionRequest, O: CloseSessionResponse },\n    { name: \"GetAccount\", options: {}, I: GetAccountRequest, O: GetAccountResponse },\n    { name: \"GetSessionInfo\", options: {}, I: GetSessionInfoRequest, O: GetSessionInfoResponse },\n    { name: \"Broadcast\", options: {}, I: BroadcastRequest, O: BroadcastResponse },\n    { name: \"ShowDatabase\", options: {}, I: ShowDatabaseRequest, O: ShowDatabaseResponse },\n    { name: \"RunQuery\", options: {}, I: RunQueryRequest, O: RunQueryResponse },\n    { name: \"GetDocument\", options: {}, I: GetDocumentRequest, O: GetDocumentResponse },\n    { name: \"ShowNetworkStatus\", options: {}, I: ShowNetworkStatusRequest, O: NetworkStatus },\n    { name: \"Subscribe\", serverStreaming: true, options: {}, I: SubscribeRequest, O: EventMessage }\n]);\n","import { normalizeMethodInfo } from \"./reflection-info\";\nexport class ServiceType {\n    constructor(typeName, methods, options) {\n        this.typeName = typeName;\n        this.methods = methods.map(i => normalizeMethodInfo(i, this));\n        this.options = options !== null && options !== void 0 ? options : {};\n    }\n}\n","import { lowerCamelCase } from \"@protobuf-ts/runtime\";\n/**\n * Turns PartialMethodInfo into MethodInfo.\n */\nexport function normalizeMethodInfo(method, service) {\n    var _a, _b, _c;\n    let m = method;\n    m.service = service;\n    m.localName = (_a = m.localName) !== null && _a !== void 0 ? _a : lowerCamelCase(m.name);\n    // noinspection PointlessBooleanExpressionJS\n    m.serverStreaming = !!m.serverStreaming;\n    // noinspection PointlessBooleanExpressionJS\n    m.clientStreaming = !!m.clientStreaming;\n    m.options = (_b = m.options) !== null && _b !== void 0 ? _b : {};\n    m.idempotency = (_c = m.idempotency) !== null && _c !== void 0 ? _c : undefined;\n    return m;\n}\n/**\n * Read custom method options from a generated service client.\n *\n * @deprecated use readMethodOption()\n */\nexport function readMethodOptions(service, methodName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = service.methods.find((m, i) => m.localName === methodName || i === methodName)) === null || _a === void 0 ? void 0 : _a.options;\n    return options && options[extensionName] ? extensionType.fromJson(options[extensionName]) : undefined;\n}\nexport function readMethodOption(service, methodName, extensionName, extensionType) {\n    var _a;\n    const options = (_a = service.methods.find((m, i) => m.localName === methodName || i === methodName)) === null || _a === void 0 ? void 0 : _a.options;\n    if (!options) {\n        return undefined;\n    }\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\nexport function readServiceOption(service, extensionName, extensionType) {\n    const options = service.options;\n    if (!options) {\n        return undefined;\n    }\n    const optionVal = options[extensionName];\n    if (optionVal === undefined) {\n        return optionVal;\n    }\n    return extensionType ? extensionType.fromJson(optionVal) : optionVal;\n}\n","// @generated by protobuf-ts 2.8.2 with parameter optimize_code_size,long_type_string\n// @generated from protobuf file \"db3_node.proto\" (package \"db3_node_proto\", syntax proto3)\n// tslint:disable\nimport type { RpcTransport } from \"@protobuf-ts/runtime-rpc\";\nimport type { ServiceInfo } from \"@protobuf-ts/runtime-rpc\";\nimport { StorageNode } from \"./db3_node\";\nimport type { EventMessage } from \"./db3_event\";\nimport type { SubscribeRequest } from \"./db3_node\";\nimport type { ServerStreamingCall } from \"@protobuf-ts/runtime-rpc\";\nimport type { NetworkStatus } from \"./db3_node\";\nimport type { ShowNetworkStatusRequest } from \"./db3_node\";\nimport type { GetDocumentResponse } from \"./db3_node\";\nimport type { GetDocumentRequest } from \"./db3_node\";\nimport type { RunQueryResponse } from \"./db3_node\";\nimport type { RunQueryRequest } from \"./db3_node\";\nimport type { ShowDatabaseResponse } from \"./db3_node\";\nimport type { ShowDatabaseRequest } from \"./db3_node\";\nimport type { BroadcastResponse } from \"./db3_node\";\nimport type { BroadcastRequest } from \"./db3_node\";\nimport type { GetSessionInfoResponse } from \"./db3_node\";\nimport type { GetSessionInfoRequest } from \"./db3_node\";\nimport type { GetAccountResponse } from \"./db3_node\";\nimport type { GetAccountRequest } from \"./db3_node\";\nimport type { CloseSessionResponse } from \"./db3_node\";\nimport type { CloseSessionRequest } from \"./db3_node\";\nimport type { OpenSessionResponse } from \"./db3_node\";\nimport type { OpenSessionRequest } from \"./db3_node\";\nimport { stackIntercept } from \"@protobuf-ts/runtime-rpc\";\nimport type { QueryBillResponse } from \"./db3_node\";\nimport type { QueryBillRequest } from \"./db3_node\";\nimport type { UnaryCall } from \"@protobuf-ts/runtime-rpc\";\nimport type { RpcOptions } from \"@protobuf-ts/runtime-rpc\";\n/**\n * @generated from protobuf service db3_node_proto.StorageNode\n */\nexport interface IStorageNodeClient {\n    /**\n     * method for querying bills by height\n     *\n     * @generated from protobuf rpc: QueryBill(db3_node_proto.QueryBillRequest) returns (db3_node_proto.QueryBillResponse);\n     */\n    queryBill(input: QueryBillRequest, options?: RpcOptions): UnaryCall<QueryBillRequest, QueryBillResponse>;\n    /**\n     * method for open query session\n     *\n     * @generated from protobuf rpc: OpenQuerySession(db3_node_proto.OpenSessionRequest) returns (db3_node_proto.OpenSessionResponse);\n     */\n    openQuerySession(input: OpenSessionRequest, options?: RpcOptions): UnaryCall<OpenSessionRequest, OpenSessionResponse>;\n    /**\n     * method for close query session\n     *\n     * @generated from protobuf rpc: CloseQuerySession(db3_node_proto.CloseSessionRequest) returns (db3_node_proto.CloseSessionResponse);\n     */\n    closeQuerySession(input: CloseSessionRequest, options?: RpcOptions): UnaryCall<CloseSessionRequest, CloseSessionResponse>;\n    /**\n     * method for querying account\n     *\n     * @generated from protobuf rpc: GetAccount(db3_node_proto.GetAccountRequest) returns (db3_node_proto.GetAccountResponse);\n     */\n    getAccount(input: GetAccountRequest, options?: RpcOptions): UnaryCall<GetAccountRequest, GetAccountResponse>;\n    /**\n     * @generated from protobuf rpc: GetSessionInfo(db3_node_proto.GetSessionInfoRequest) returns (db3_node_proto.GetSessionInfoResponse);\n     */\n    getSessionInfo(input: GetSessionInfoRequest, options?: RpcOptions): UnaryCall<GetSessionInfoRequest, GetSessionInfoResponse>;\n    /**\n     * method for broadcast request\n     *\n     * @generated from protobuf rpc: Broadcast(db3_node_proto.BroadcastRequest) returns (db3_node_proto.BroadcastResponse);\n     */\n    broadcast(input: BroadcastRequest, options?: RpcOptions): UnaryCall<BroadcastRequest, BroadcastResponse>;\n    /**\n     * method for show database\n     *\n     * @generated from protobuf rpc: ShowDatabase(db3_node_proto.ShowDatabaseRequest) returns (db3_node_proto.ShowDatabaseResponse);\n     */\n    showDatabase(input: ShowDatabaseRequest, options?: RpcOptions): UnaryCall<ShowDatabaseRequest, ShowDatabaseResponse>;\n    /**\n     * method for query document\n     *\n     * @generated from protobuf rpc: RunQuery(db3_node_proto.RunQueryRequest) returns (db3_node_proto.RunQueryResponse);\n     */\n    runQuery(input: RunQueryRequest, options?: RpcOptions): UnaryCall<RunQueryRequest, RunQueryResponse>;\n    /**\n     * method for get document\n     *\n     * @generated from protobuf rpc: GetDocument(db3_node_proto.GetDocumentRequest) returns (db3_node_proto.GetDocumentResponse);\n     */\n    getDocument(input: GetDocumentRequest, options?: RpcOptions): UnaryCall<GetDocumentRequest, GetDocumentResponse>;\n    /**\n     * method for show the network status\n     *\n     * @generated from protobuf rpc: ShowNetworkStatus(db3_node_proto.ShowNetworkStatusRequest) returns (db3_node_proto.NetworkStatus);\n     */\n    showNetworkStatus(input: ShowNetworkStatusRequest, options?: RpcOptions): UnaryCall<ShowNetworkStatusRequest, NetworkStatus>;\n    /**\n     * method for subscribution\n     *\n     * @generated from protobuf rpc: Subscribe(db3_node_proto.SubscribeRequest) returns (stream db3_event_proto.EventMessage);\n     */\n    subscribe(input: SubscribeRequest, options?: RpcOptions): ServerStreamingCall<SubscribeRequest, EventMessage>;\n}\n/**\n * @generated from protobuf service db3_node_proto.StorageNode\n */\nexport class StorageNodeClient implements IStorageNodeClient, ServiceInfo {\n    typeName = StorageNode.typeName;\n    methods = StorageNode.methods;\n    options = StorageNode.options;\n    constructor(private readonly _transport: RpcTransport) {\n    }\n    /**\n     * method for querying bills by height\n     *\n     * @generated from protobuf rpc: QueryBill(db3_node_proto.QueryBillRequest) returns (db3_node_proto.QueryBillResponse);\n     */\n    queryBill(input: QueryBillRequest, options?: RpcOptions): UnaryCall<QueryBillRequest, QueryBillResponse> {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return stackIntercept<QueryBillRequest, QueryBillResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for open query session\n     *\n     * @generated from protobuf rpc: OpenQuerySession(db3_node_proto.OpenSessionRequest) returns (db3_node_proto.OpenSessionResponse);\n     */\n    openQuerySession(input: OpenSessionRequest, options?: RpcOptions): UnaryCall<OpenSessionRequest, OpenSessionResponse> {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return stackIntercept<OpenSessionRequest, OpenSessionResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for close query session\n     *\n     * @generated from protobuf rpc: CloseQuerySession(db3_node_proto.CloseSessionRequest) returns (db3_node_proto.CloseSessionResponse);\n     */\n    closeQuerySession(input: CloseSessionRequest, options?: RpcOptions): UnaryCall<CloseSessionRequest, CloseSessionResponse> {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return stackIntercept<CloseSessionRequest, CloseSessionResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for querying account\n     *\n     * @generated from protobuf rpc: GetAccount(db3_node_proto.GetAccountRequest) returns (db3_node_proto.GetAccountResponse);\n     */\n    getAccount(input: GetAccountRequest, options?: RpcOptions): UnaryCall<GetAccountRequest, GetAccountResponse> {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return stackIntercept<GetAccountRequest, GetAccountResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: GetSessionInfo(db3_node_proto.GetSessionInfoRequest) returns (db3_node_proto.GetSessionInfoResponse);\n     */\n    getSessionInfo(input: GetSessionInfoRequest, options?: RpcOptions): UnaryCall<GetSessionInfoRequest, GetSessionInfoResponse> {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return stackIntercept<GetSessionInfoRequest, GetSessionInfoResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for broadcast request\n     *\n     * @generated from protobuf rpc: Broadcast(db3_node_proto.BroadcastRequest) returns (db3_node_proto.BroadcastResponse);\n     */\n    broadcast(input: BroadcastRequest, options?: RpcOptions): UnaryCall<BroadcastRequest, BroadcastResponse> {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return stackIntercept<BroadcastRequest, BroadcastResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for show database\n     *\n     * @generated from protobuf rpc: ShowDatabase(db3_node_proto.ShowDatabaseRequest) returns (db3_node_proto.ShowDatabaseResponse);\n     */\n    showDatabase(input: ShowDatabaseRequest, options?: RpcOptions): UnaryCall<ShowDatabaseRequest, ShowDatabaseResponse> {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return stackIntercept<ShowDatabaseRequest, ShowDatabaseResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for query document\n     *\n     * @generated from protobuf rpc: RunQuery(db3_node_proto.RunQueryRequest) returns (db3_node_proto.RunQueryResponse);\n     */\n    runQuery(input: RunQueryRequest, options?: RpcOptions): UnaryCall<RunQueryRequest, RunQueryResponse> {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return stackIntercept<RunQueryRequest, RunQueryResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for get document\n     *\n     * @generated from protobuf rpc: GetDocument(db3_node_proto.GetDocumentRequest) returns (db3_node_proto.GetDocumentResponse);\n     */\n    getDocument(input: GetDocumentRequest, options?: RpcOptions): UnaryCall<GetDocumentRequest, GetDocumentResponse> {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return stackIntercept<GetDocumentRequest, GetDocumentResponse>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for show the network status\n     *\n     * @generated from protobuf rpc: ShowNetworkStatus(db3_node_proto.ShowNetworkStatusRequest) returns (db3_node_proto.NetworkStatus);\n     */\n    showNetworkStatus(input: ShowNetworkStatusRequest, options?: RpcOptions): UnaryCall<ShowNetworkStatusRequest, NetworkStatus> {\n        const method = this.methods[9], opt = this._transport.mergeOptions(options);\n        return stackIntercept<ShowNetworkStatusRequest, NetworkStatus>(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * method for subscribution\n     *\n     * @generated from protobuf rpc: Subscribe(db3_node_proto.SubscribeRequest) returns (stream db3_event_proto.EventMessage);\n     */\n    subscribe(input: SubscribeRequest, options?: RpcOptions): ServerStreamingCall<SubscribeRequest, EventMessage> {\n        const method = this.methods[10], opt = this._transport.mergeOptions(options);\n        return stackIntercept<SubscribeRequest, EventMessage>(\"serverStreaming\", this._transport, method, opt, input);\n    }\n}\n","// int64-buffer.js\n\n/*jshint -W018 */ // Confusing use of '!'.\n/*jshint -W030 */ // Expected an assignment or function call and instead saw an expression.\n/*jshint -W093 */ // Did you mean to return a conditional instead of an assignment?\n\nvar Uint64BE, Int64BE, Uint64LE, Int64LE;\n\n!function(exports) {\n  // constants\n\n  var UNDEFINED = \"undefined\";\n  var BUFFER = (UNDEFINED !== typeof Buffer) && Buffer;\n  var UINT8ARRAY = (UNDEFINED !== typeof Uint8Array) && Uint8Array;\n  var ARRAYBUFFER = (UNDEFINED !== typeof ArrayBuffer) && ArrayBuffer;\n  var ZERO = [0, 0, 0, 0, 0, 0, 0, 0];\n  var isArray = Array.isArray || _isArray;\n  var BIT32 = 4294967296;\n  var BIT24 = 16777216;\n\n  // storage class\n\n  var storage; // Array;\n\n  // generate classes\n\n  Uint64BE = factory(\"Uint64BE\", true, true);\n  Int64BE = factory(\"Int64BE\", true, false);\n  Uint64LE = factory(\"Uint64LE\", false, true);\n  Int64LE = factory(\"Int64LE\", false, false);\n\n  // class factory\n\n  function factory(name, bigendian, unsigned) {\n    var posH = bigendian ? 0 : 4;\n    var posL = bigendian ? 4 : 0;\n    var pos0 = bigendian ? 0 : 3;\n    var pos1 = bigendian ? 1 : 2;\n    var pos2 = bigendian ? 2 : 1;\n    var pos3 = bigendian ? 3 : 0;\n    var fromPositive = bigendian ? fromPositiveBE : fromPositiveLE;\n    var fromNegative = bigendian ? fromNegativeBE : fromNegativeLE;\n    var proto = Int64.prototype;\n    var isName = \"is\" + name;\n    var _isInt64 = \"_\" + isName;\n\n    // properties\n    proto.buffer = void 0;\n    proto.offset = 0;\n    proto[_isInt64] = true;\n\n    // methods\n    proto.toNumber = toNumber;\n    proto.toString = toString;\n    proto.toJSON = toNumber;\n    proto.toArray = toArray;\n\n    // add .toBuffer() method only when Buffer available\n    if (BUFFER) proto.toBuffer = toBuffer;\n\n    // add .toArrayBuffer() method only when Uint8Array available\n    if (UINT8ARRAY) proto.toArrayBuffer = toArrayBuffer;\n\n    // isUint64BE, isInt64BE\n    Int64[isName] = isInt64;\n\n    // CommonJS\n    exports[name] = Int64;\n\n    return Int64;\n\n    // constructor\n    function Int64(buffer, offset, value, raddix) {\n      if (!(this instanceof Int64)) return new Int64(buffer, offset, value, raddix);\n      return init(this, buffer, offset, value, raddix);\n    }\n\n    // isUint64BE, isInt64BE\n    function isInt64(b) {\n      return !!(b && b[_isInt64]);\n    }\n\n    // initializer\n    function init(that, buffer, offset, value, raddix) {\n      if (UINT8ARRAY && ARRAYBUFFER) {\n        if (buffer instanceof ARRAYBUFFER) buffer = new UINT8ARRAY(buffer);\n        if (value instanceof ARRAYBUFFER) value = new UINT8ARRAY(value);\n      }\n\n      // Int64BE() style\n      if (!buffer && !offset && !value && !storage) {\n        // shortcut to initialize with zero\n        that.buffer = newArray(ZERO, 0);\n        return;\n      }\n\n      // Int64BE(value, raddix) style\n      if (!isValidBuffer(buffer, offset)) {\n        var _storage = storage || Array;\n        raddix = offset;\n        value = buffer;\n        offset = 0;\n        buffer = (storage === BUFFER) ? BUFFER.alloc(8) : new _storage(8);\n      }\n\n      that.buffer = buffer;\n      that.offset = offset |= 0;\n\n      // Int64BE(buffer, offset) style\n      if (UNDEFINED === typeof value) return;\n\n      // Int64BE(buffer, offset, value, raddix) style\n      if (\"string\" === typeof value) {\n        fromString(buffer, offset, value, raddix || 10);\n      } else if (isValidBuffer(value, raddix)) {\n        fromArray(buffer, offset, value, raddix);\n      } else if (\"number\" === typeof raddix) {\n        writeInt32(buffer, offset + posH, value); // high\n        writeInt32(buffer, offset + posL, raddix); // low\n      } else if (value > 0) {\n        fromPositive(buffer, offset, value); // positive\n      } else if (value < 0) {\n        fromNegative(buffer, offset, value); // negative\n      } else {\n        fromArray(buffer, offset, ZERO, 0); // zero, NaN and others\n      }\n    }\n\n    function fromString(buffer, offset, str, raddix) {\n      var pos = 0;\n      var len = str.length;\n      var high = 0;\n      var low = 0;\n      if (str[0] === \"-\") pos++;\n      var sign = pos;\n      while (pos < len) {\n        var chr = parseInt(str[pos++], raddix);\n        if (!(chr >= 0)) break; // NaN\n        low = low * raddix + chr;\n        high = high * raddix + Math.floor(low / BIT32);\n        low %= BIT32;\n      }\n      if (sign) {\n        high = ~high;\n        if (low) {\n          low = BIT32 - low;\n        } else {\n          high++;\n        }\n      }\n      writeInt32(buffer, offset + posH, high);\n      writeInt32(buffer, offset + posL, low);\n    }\n\n    function toNumber() {\n      var buffer = this.buffer;\n      var offset = this.offset;\n      var high = readInt32(buffer, offset + posH);\n      var low = readInt32(buffer, offset + posL);\n      if (!unsigned) high |= 0; // a trick to get signed\n      return high ? (high * BIT32 + low) : low;\n    }\n\n    function toString(radix) {\n      var buffer = this.buffer;\n      var offset = this.offset;\n      var high = readInt32(buffer, offset + posH);\n      var low = readInt32(buffer, offset + posL);\n      var str = \"\";\n      var sign = !unsigned && (high & 0x80000000);\n      if (sign) {\n        high = ~high;\n        low = BIT32 - low;\n      }\n      radix = radix || 10;\n      while (1) {\n        var mod = (high % radix) * BIT32 + low;\n        high = Math.floor(high / radix);\n        low = Math.floor(mod / radix);\n        str = (mod % radix).toString(radix) + str;\n        if (!high && !low) break;\n      }\n      if (sign) {\n        str = \"-\" + str;\n      }\n      return str;\n    }\n\n    function writeInt32(buffer, offset, value) {\n      buffer[offset + pos3] = value & 255;\n      value = value >> 8;\n      buffer[offset + pos2] = value & 255;\n      value = value >> 8;\n      buffer[offset + pos1] = value & 255;\n      value = value >> 8;\n      buffer[offset + pos0] = value & 255;\n    }\n\n    function readInt32(buffer, offset) {\n      return (buffer[offset + pos0] * BIT24) +\n        (buffer[offset + pos1] << 16) +\n        (buffer[offset + pos2] << 8) +\n        buffer[offset + pos3];\n    }\n  }\n\n  function toArray(raw) {\n    var buffer = this.buffer;\n    var offset = this.offset;\n    storage = null; // Array\n\n    if (raw !== false && isArray(buffer)) {\n      return (buffer.length === 8) ? buffer : buffer.slice(offset, offset + 8);\n    }\n\n    return newArray(buffer, offset);\n  }\n\n  function toBuffer(raw) {\n    var buffer = this.buffer;\n    var offset = this.offset;\n    storage = BUFFER;\n\n    if (raw !== false && BUFFER.isBuffer(buffer)) {\n      return (buffer.length === 8) ? buffer : buffer.slice(offset, offset + 8);\n    }\n\n    // Buffer.from(arraybuffer) available since Node v4.5.0\n    // https://nodejs.org/en/blog/release/v4.5.0/\n    return BUFFER.from(toArrayBuffer.call(this, raw));\n  }\n\n  function toArrayBuffer(raw) {\n    var buffer = this.buffer;\n    var offset = this.offset;\n    var arrbuf = buffer.buffer;\n    storage = UINT8ARRAY;\n\n    // arrbuf.slice() ignores buffer.offset until Node v8.0.0\n    if (raw !== false && !buffer.offset && (arrbuf instanceof ARRAYBUFFER)) {\n      return (arrbuf.byteLength === 8) ? arrbuf : arrbuf.slice(offset, offset + 8);\n    }\n\n    var dest = new UINT8ARRAY(8);\n    fromArray(dest, 0, buffer, offset);\n    return dest.buffer;\n  }\n\n  function isValidBuffer(buffer, offset) {\n    var len = buffer && buffer.length;\n    offset |= 0;\n    return len && (offset + 8 <= len) && (\"string\" !== typeof buffer[offset]);\n  }\n\n  function fromArray(destbuf, destoff, srcbuf, srcoff) {\n    destoff |= 0;\n    srcoff |= 0;\n    for (var i = 0; i < 8; i++) {\n      destbuf[destoff++] = srcbuf[srcoff++] & 255;\n    }\n  }\n\n  function newArray(buffer, offset) {\n    return Array.prototype.slice.call(buffer, offset, offset + 8);\n  }\n\n  function fromPositiveBE(buffer, offset, value) {\n    var pos = offset + 8;\n    while (pos > offset) {\n      buffer[--pos] = value & 255;\n      value /= 256;\n    }\n  }\n\n  function fromNegativeBE(buffer, offset, value) {\n    var pos = offset + 8;\n    value++;\n    while (pos > offset) {\n      buffer[--pos] = ((-value) & 255) ^ 255;\n      value /= 256;\n    }\n  }\n\n  function fromPositiveLE(buffer, offset, value) {\n    var end = offset + 8;\n    while (offset < end) {\n      buffer[offset++] = value & 255;\n      value /= 256;\n    }\n  }\n\n  function fromNegativeLE(buffer, offset, value) {\n    var end = offset + 8;\n    value++;\n    while (offset < end) {\n      buffer[offset++] = ((-value) & 255) ^ 255;\n      value /= 256;\n    }\n  }\n\n  // https://github.com/retrofox/is-array\n  function _isArray(val) {\n    return !!val && \"[object Array]\" == Object.prototype.toString.call(val);\n  }\n\n}(typeof exports === 'object' && typeof exports.nodeName !== 'string' ? exports : (this || {}));\n","//\n// id.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\nimport sha3 from 'js-sha3'\nimport { toB64, fromHEX } from './crypto_utils'\nimport { Uint64BE } from 'int64-buffer'\n\nconst TX_ID_LENGTH = 32\nconst DB_ID_LENGTH = 20\n\nexport class TxId {\n    data: Uint8Array\n    constructor(data: Uint8Array) {\n        const inputDataLength = data.length\n        if (inputDataLength != TX_ID_LENGTH) {\n            throw new Error(\n                `Wrong data size. Expected 32 bytes, got ${inputDataLength}.`\n            )\n        }\n        this.data = data\n    }\n\n    //\n    // from the broadcast response\n    //\n    static from(hash: Uint8Array): TxId {\n        return new TxId(hash)\n    }\n\n    getB64(): string {\n        return toB64(this.data)\n    }\n}\n\nexport class DbId {\n    addr: string\n    constructor(sender: string, nonce: number) {\n        const binary_addr = fromHEX(sender)\n        const nonceBuf = new Uint64BE(nonce)\n        let tmp = new Uint8Array(DB_ID_LENGTH + 8)\n        tmp.set(nonceBuf.toArray(), 0)\n        tmp.set(binary_addr, 8)\n        this.addr = '0x' + sha3.sha3_256(tmp).slice(0, 40)\n    }\n\n    getHexAddr(): string {\n        return this.addr\n    }\n}\n","//\n// storage_provider.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// @ts-nocheck\nimport {\n    GrpcWebFetchTransport,\n    GrpcWebOptions,\n} from '@protobuf-ts/grpcweb-transport'\nimport { StorageNodeClient } from '../proto/db3_node.client'\nimport { WriteRequest, PayloadType } from '../proto/db3_mutation'\nimport {\n    OpenSessionRequest,\n    BroadcastRequest,\n    GetAccountRequest,\n    RunQueryRequest,\n    CloseSessionRequest,\n    ShowDatabaseRequest,\n    GetDocumentRequest,\n    ShowNetworkStatusRequest,\n} from '../proto/db3_node'\nimport { QuerySessionInfo, OpenSessionPayload } from '../proto/db3_session'\nimport { StructuredQuery } from '../proto/db3_database'\nimport { TxId } from '../crypto/id'\nimport { Wallet } from '../wallet/wallet'\nimport { fromHEX, toHEX } from '../crypto/crypto_utils'\n\n//\n// the db3 storage node provider implementation which provides low level methods to exchange with db3 network\n//\nexport class StorageProvider {\n    readonly client: StorageNodeClient\n    readonly wallet: Wallet\n    readonly useTypedFormat: boolean\n    /**\n     * new a storage provider with db3 storage grpc url\n     */\n    constructor(url: string, wallet: Wallet) {\n        const goptions: GrpcWebOptions = {\n            baseUrl: url,\n            // simple example for how to add auth headers to each request\n            // see `RpcInterceptor` for documentation\n            interceptors: [],\n            // you can set global request headers here\n            meta: {},\n        }\n        const transport = new GrpcWebFetchTransport(goptions)\n        this.client = new StorageNodeClient(transport)\n        this.wallet = wallet\n        if (wallet.getType() === 'MetaMask') {\n            this.useTypedFormat = true\n        } else {\n            this.useTypedFormat = false\n        }\n    }\n\n    /**\n     * send mutation to db3 network\n     */\n    async sendMutation(mutation: Uint8Array, payloadType: PayloadType) {\n        if (this.useTypedFormat) {\n            const writeRequest = await this.wrapTypedWriteRequest(\n                mutation,\n                payloadType\n            )\n            const broadcastRequest: BroadcastRequest = {\n                body: WriteRequest.toBinary(writeRequest),\n            }\n            const { response } = await this.client.broadcast(broadcastRequest)\n            return new TxId(response.hash)\n        } else {\n            const writeRequest = await this.wrapProtoWriteRequest(\n                mutation,\n                payloadType\n            )\n            const broadcastRequest: BroadcastRequest = {\n                body: WriteRequest.toBinary(writeRequest),\n            }\n            const { response } = await this.client.broadcast(broadcastRequest)\n            return new TxId(response.hash)\n        }\n    }\n\n    private async wrapProtoWriteRequest(\n        mutation: Uint8Array,\n        payloadType: PayloadType\n    ) {\n        const signature = await this.wallet.sign(mutation)\n        const writeRequest: WriteRequest = {\n            payload: mutation,\n            signature: signature,\n            payloadType: payloadType,\n        }\n        return writeRequest\n    }\n\n    private async wrapTypedWriteRequest(\n        mutation: Uint8Array,\n        payloadType: PayloadType\n    ) {\n        const hexMutation = toHEX(mutation)\n        const message = {\n            types: {\n                EIP712Domain: [],\n                Message: [\n                    { name: 'payload', type: 'bytes' },\n                    { name: 'payloadType', type: 'string' },\n                ],\n            },\n            domain: {},\n            primaryType: 'Message',\n            message: {\n                payload: '0x' + hexMutation,\n                payloadType: payloadType.toString(),\n            },\n        }\n        const signature = await this.wallet.sign(message)\n        //TODO avoid multi times stringfy\n        const msgParams = JSON.stringify(message)\n        const binaryMsg = new TextEncoder().encode(msgParams)\n        const writeRequest: WriteRequest = {\n            payload: binaryMsg,\n            signature: signature,\n            payloadType: PayloadType.TypedDataPayload,\n        }\n        return writeRequest\n    }\n\n    // @ts-nocheck\n    /**\n     * build a session with storage node for querying data\n     */\n    async openSession() {\n        let header\n        if (typeof window === 'undefined') {\n            header =\n                new Date().getTime() +\n                '' +\n                '_Header_' +\n                Math.floor(Math.random() * 1000)\n        } else {\n            header = window.crypto.getRandomValues(new Uint8Array(32))\n        }\n        const payload: OpenSessionPayload = {\n            header: header.toString(),\n            startTime: Math.floor(Date.now() / 1000),\n        }\n        if (this.useTypedFormat) {\n            const request = await this.wrapTypedSession(payload)\n            const { response } = await this.client.openQuerySession(request)\n            return response\n        } else {\n            const request = await this.wrapProtoSession(payload)\n            const { response } = await this.client.openQuerySession(request)\n            return response\n        }\n    }\n\n    private async wrapProtoSession(payload: OpenSessionPayload) {\n        const payloadBinary = OpenSessionPayload.toBinary(payload)\n        const signature = await this.wallet.sign(payloadBinary)\n        const sessionRequest: OpenSessionRequest = {\n            payload: payloadBinary,\n            signature: signature,\n            payloadType: PayloadType.QuerySessionPayload,\n        }\n        return sessionRequest\n    }\n\n    private async wrapTypedSession(payload: OpenSessionPayload) {\n        const payloadBinary = OpenSessionPayload.toBinary(payload)\n        const payloadHex = toHEX(payloadBinary)\n        const message = {\n            types: {\n                EIP712Domain: [],\n                Message: [\n                    { name: 'payload', type: 'bytes' },\n                    { name: 'payloadType', type: 'string' },\n                ],\n            },\n            domain: {},\n            primaryType: 'Message',\n            message: {\n                payload: '0x' + payloadHex,\n                payloadType: PayloadType.QuerySessionPayload.toString(),\n            },\n        }\n        const msgParams = JSON.stringify(message)\n        const binaryMsg = new TextEncoder().encode(msgParams)\n        const signature = await this.wallet.sign(message)\n        const sessionRequest: OpenSessionRequest = {\n            payload: binaryMsg,\n            signature: signature,\n            payloadType: PayloadType.TypedDataPayload,\n        }\n        return sessionRequest\n    }\n\n    private async wrapProtoCloseSession(\n        token: string,\n        sessionInfo: QuerySessionInfo\n    ) {\n        const payloadBinary = QuerySessionInfo.toBinary(payload)\n        const signature = await this.wallet.sign(payloadBinary)\n        const sessionRequest: CloseSessionRequest = {\n            payload: payloadBinary,\n            signature: signature,\n            payloadType: PayloadType.QuerySessionPayload,\n            sessionToke: token,\n        }\n        return sessionRequest\n    }\n\n    private async wrapTypedCloseSession(\n        token: string,\n        payload: QuerySessionInfo\n    ) {\n        const payloadBinary = QuerySessionInfo.toBinary(payload)\n        const payloadHex = toHEX(payloadBinary)\n        const message = {\n            types: {\n                EIP712Domain: [],\n                Message: [\n                    { name: 'payload', type: 'bytes' },\n                    { name: 'payloadType', type: 'string' },\n                ],\n            },\n            domain: {},\n            primaryType: 'Message',\n            message: {\n                payload: '0x' + payloadHex,\n                payloadType: PayloadType.QuerySessionPayload.toString(),\n            },\n        }\n        const msgParams = JSON.stringify(message)\n        const binaryMsg = new TextEncoder().encode(msgParams)\n        const signature = await this.wallet.sign(message)\n        const sessionRequest: CloseSessionRequest = {\n            payload: binaryMsg,\n            signature: signature,\n            payloadType: PayloadType.TypedDataPayload,\n            sessionToke: token,\n        }\n        return sessionRequest\n    }\n\n    /**\n     * close the session from storage node\n     *\n     */\n    async closeSession(token: string, sessionInfo: QuerySessionInfo) {\n        let closeRequest\n        if (this.useTypedFormat) {\n            closeRequest = await this.wrapTypedCloseSession(token, sessionInfo)\n        } else {\n            closeRequest = await this.wrapTypedCloseSession(token, sessionInfo)\n        }\n        const { response } = await this.client.closeQuerySession(closeRequest)\n        return response\n    }\n\n    /**\n     * get the account information with db3 address\n     *\n     */\n    async getAccount(addr: Uint8Array) {\n        const getAccountRequest: GetAccountRequest = {\n            addr,\n        }\n        const { response } = await this.client.getAccount(getAccountRequest)\n        return response\n    }\n\n    async getState() {\n        const request: ShowNetworkStatusRequest = {}\n        const { response } = await this.client.showNetworkStatus(request)\n        return response\n    }\n\n    async getDatabase(address: string, token: string) {\n        const request: ShowDatabaseRequest = {\n            sessionToken: token,\n            address,\n        }\n        const { response } = await this.client.showDatabase(request)\n        return response\n    }\n\n    getNonce(): number {\n        //TODO get nonce from remote with account address\n        return new Date().getTime()\n    }\n\n    async runQuery(token: string, addr: string, query: StructuredQuery) {\n        const request: RunQueryRequest = {\n            sessionToken: token,\n            address: addr,\n            query,\n        }\n        const { response } = await this.client.runQuery(request)\n        return response\n    }\n\n    async getDocument(token: string, id: string) {\n        const request: GetDocumentRequest = {\n            sessionToken: token,\n            id,\n        }\n        const { response } = await this.client.getDoument(request)\n        return response\n    }\n}\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","const BSON_MAJOR_VERSION = 5;\nconst BSON_INT32_MAX = 0x7fffffff;\nconst BSON_INT32_MIN = -0x80000000;\nconst BSON_INT64_MAX = Math.pow(2, 63) - 1;\nconst BSON_INT64_MIN = -Math.pow(2, 63);\nconst JS_INT_MAX = Math.pow(2, 53);\nconst JS_INT_MIN = -Math.pow(2, 53);\nconst BSON_DATA_NUMBER = 1;\nconst BSON_DATA_STRING = 2;\nconst BSON_DATA_OBJECT = 3;\nconst BSON_DATA_ARRAY = 4;\nconst BSON_DATA_BINARY = 5;\nconst BSON_DATA_UNDEFINED = 6;\nconst BSON_DATA_OID = 7;\nconst BSON_DATA_BOOLEAN = 8;\nconst BSON_DATA_DATE = 9;\nconst BSON_DATA_NULL = 10;\nconst BSON_DATA_REGEXP = 11;\nconst BSON_DATA_DBPOINTER = 12;\nconst BSON_DATA_CODE = 13;\nconst BSON_DATA_SYMBOL = 14;\nconst BSON_DATA_CODE_W_SCOPE = 15;\nconst BSON_DATA_INT = 16;\nconst BSON_DATA_TIMESTAMP = 17;\nconst BSON_DATA_LONG = 18;\nconst BSON_DATA_DECIMAL128 = 19;\nconst BSON_DATA_MIN_KEY = 0xff;\nconst BSON_DATA_MAX_KEY = 0x7f;\nconst BSON_BINARY_SUBTYPE_DEFAULT = 0;\nconst BSON_BINARY_SUBTYPE_UUID_NEW = 4;\nconst BSONType = Object.freeze({\n    double: 1,\n    string: 2,\n    object: 3,\n    array: 4,\n    binData: 5,\n    undefined: 6,\n    objectId: 7,\n    bool: 8,\n    date: 9,\n    null: 10,\n    regex: 11,\n    dbPointer: 12,\n    javascript: 13,\n    symbol: 14,\n    javascriptWithScope: 15,\n    int: 16,\n    timestamp: 17,\n    long: 18,\n    decimal: 19,\n    minKey: -1,\n    maxKey: 127\n});\n\nclass BSONError extends Error {\n    get bsonError() {\n        return true;\n    }\n    get name() {\n        return 'BSONError';\n    }\n    constructor(message) {\n        super(message);\n    }\n    static isBSONError(value) {\n        return (value != null &&\n            typeof value === 'object' &&\n            'bsonError' in value &&\n            value.bsonError === true &&\n            'name' in value &&\n            'message' in value &&\n            'stack' in value);\n    }\n}\nclass BSONVersionError extends BSONError {\n    get name() {\n        return 'BSONVersionError';\n    }\n    constructor() {\n        super(`Unsupported BSON version, bson types must be from bson ${BSON_MAJOR_VERSION}.0 or later`);\n    }\n}\nclass BSONRuntimeError extends BSONError {\n    get name() {\n        return 'BSONRuntimeError';\n    }\n    constructor(message) {\n        super(message);\n    }\n}\n\nfunction nodejsMathRandomBytes(byteLength) {\n    return nodeJsByteUtils.fromNumberArray(Array.from({ length: byteLength }, () => Math.floor(Math.random() * 256)));\n}\n\nconst nodejsRandomBytes =  (() => {\n        return nodejsMathRandomBytes;\n})();\n\nconst nodeJsByteUtils = {\n    toLocalBufferType(potentialBuffer) {\n        if (Buffer.isBuffer(potentialBuffer)) {\n            return potentialBuffer;\n        }\n        if (ArrayBuffer.isView(potentialBuffer)) {\n            return Buffer.from(potentialBuffer.buffer, potentialBuffer.byteOffset, potentialBuffer.byteLength);\n        }\n        const stringTag = potentialBuffer?.[Symbol.toStringTag] ?? Object.prototype.toString.call(potentialBuffer);\n        if (stringTag === 'ArrayBuffer' ||\n            stringTag === 'SharedArrayBuffer' ||\n            stringTag === '[object ArrayBuffer]' ||\n            stringTag === '[object SharedArrayBuffer]') {\n            return Buffer.from(potentialBuffer);\n        }\n        throw new BSONError(`Cannot create Buffer from ${String(potentialBuffer)}`);\n    },\n    allocate(size) {\n        return Buffer.alloc(size);\n    },\n    equals(a, b) {\n        return nodeJsByteUtils.toLocalBufferType(a).equals(b);\n    },\n    fromNumberArray(array) {\n        return Buffer.from(array);\n    },\n    fromBase64(base64) {\n        return Buffer.from(base64, 'base64');\n    },\n    toBase64(buffer) {\n        return nodeJsByteUtils.toLocalBufferType(buffer).toString('base64');\n    },\n    fromISO88591(codePoints) {\n        return Buffer.from(codePoints, 'binary');\n    },\n    toISO88591(buffer) {\n        return nodeJsByteUtils.toLocalBufferType(buffer).toString('binary');\n    },\n    fromHex(hex) {\n        return Buffer.from(hex, 'hex');\n    },\n    toHex(buffer) {\n        return nodeJsByteUtils.toLocalBufferType(buffer).toString('hex');\n    },\n    fromUTF8(text) {\n        return Buffer.from(text, 'utf8');\n    },\n    toUTF8(buffer) {\n        return nodeJsByteUtils.toLocalBufferType(buffer).toString('utf8');\n    },\n    utf8ByteLength(input) {\n        return Buffer.byteLength(input, 'utf8');\n    },\n    encodeUTF8Into(buffer, source, byteOffset) {\n        return nodeJsByteUtils.toLocalBufferType(buffer).write(source, byteOffset, undefined, 'utf8');\n    },\n    randomBytes: nodejsRandomBytes\n};\n\nfunction isReactNative() {\n    const { navigator } = globalThis;\n    return typeof navigator === 'object' && navigator.product === 'ReactNative';\n}\nfunction webMathRandomBytes(byteLength) {\n    if (byteLength < 0) {\n        throw new RangeError(`The argument 'byteLength' is invalid. Received ${byteLength}`);\n    }\n    return webByteUtils.fromNumberArray(Array.from({ length: byteLength }, () => Math.floor(Math.random() * 256)));\n}\nconst webRandomBytes = (() => {\n    const { crypto } = globalThis;\n    if (crypto != null && typeof crypto.getRandomValues === 'function') {\n        return (byteLength) => {\n            return crypto.getRandomValues(webByteUtils.allocate(byteLength));\n        };\n    }\n    else {\n        if (isReactNative()) {\n            const { console } = globalThis;\n            console?.warn?.('BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.');\n        }\n        return webMathRandomBytes;\n    }\n})();\nconst HEX_DIGIT = /(\\d|[a-f])/i;\nconst webByteUtils = {\n    toLocalBufferType(potentialUint8array) {\n        const stringTag = potentialUint8array?.[Symbol.toStringTag] ??\n            Object.prototype.toString.call(potentialUint8array);\n        if (stringTag === 'Uint8Array') {\n            return potentialUint8array;\n        }\n        if (ArrayBuffer.isView(potentialUint8array)) {\n            return new Uint8Array(potentialUint8array.buffer.slice(potentialUint8array.byteOffset, potentialUint8array.byteOffset + potentialUint8array.byteLength));\n        }\n        if (stringTag === 'ArrayBuffer' ||\n            stringTag === 'SharedArrayBuffer' ||\n            stringTag === '[object ArrayBuffer]' ||\n            stringTag === '[object SharedArrayBuffer]') {\n            return new Uint8Array(potentialUint8array);\n        }\n        throw new BSONError(`Cannot make a Uint8Array from ${String(potentialUint8array)}`);\n    },\n    allocate(size) {\n        if (typeof size !== 'number') {\n            throw new TypeError(`The \"size\" argument must be of type number. Received ${String(size)}`);\n        }\n        return new Uint8Array(size);\n    },\n    equals(a, b) {\n        if (a.byteLength !== b.byteLength) {\n            return false;\n        }\n        for (let i = 0; i < a.byteLength; i++) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n        return true;\n    },\n    fromNumberArray(array) {\n        return Uint8Array.from(array);\n    },\n    fromBase64(base64) {\n        return Uint8Array.from(atob(base64), c => c.charCodeAt(0));\n    },\n    toBase64(uint8array) {\n        return btoa(webByteUtils.toISO88591(uint8array));\n    },\n    fromISO88591(codePoints) {\n        return Uint8Array.from(codePoints, c => c.charCodeAt(0) & 0xff);\n    },\n    toISO88591(uint8array) {\n        return Array.from(Uint16Array.from(uint8array), b => String.fromCharCode(b)).join('');\n    },\n    fromHex(hex) {\n        const evenLengthHex = hex.length % 2 === 0 ? hex : hex.slice(0, hex.length - 1);\n        const buffer = [];\n        for (let i = 0; i < evenLengthHex.length; i += 2) {\n            const firstDigit = evenLengthHex[i];\n            const secondDigit = evenLengthHex[i + 1];\n            if (!HEX_DIGIT.test(firstDigit)) {\n                break;\n            }\n            if (!HEX_DIGIT.test(secondDigit)) {\n                break;\n            }\n            const hexDigit = Number.parseInt(`${firstDigit}${secondDigit}`, 16);\n            buffer.push(hexDigit);\n        }\n        return Uint8Array.from(buffer);\n    },\n    toHex(uint8array) {\n        return Array.from(uint8array, byte => byte.toString(16).padStart(2, '0')).join('');\n    },\n    fromUTF8(text) {\n        return new TextEncoder().encode(text);\n    },\n    toUTF8(uint8array) {\n        return new TextDecoder('utf8', { fatal: false }).decode(uint8array);\n    },\n    utf8ByteLength(input) {\n        return webByteUtils.fromUTF8(input).byteLength;\n    },\n    encodeUTF8Into(buffer, source, byteOffset) {\n        const bytes = webByteUtils.fromUTF8(source);\n        buffer.set(bytes, byteOffset);\n        return bytes.byteLength;\n    },\n    randomBytes: webRandomBytes\n};\n\nconst hasGlobalBuffer = typeof Buffer === 'function' && Buffer.prototype?._isBuffer !== true;\nconst ByteUtils = hasGlobalBuffer ? nodeJsByteUtils : webByteUtils;\nclass BSONDataView extends DataView {\n    static fromUint8Array(input) {\n        return new DataView(input.buffer, input.byteOffset, input.byteLength);\n    }\n}\n\nconst VALIDATION_REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i;\nconst uuidValidateString = (str) => typeof str === 'string' && VALIDATION_REGEX.test(str);\nconst uuidHexStringToBuffer = (hexString) => {\n    if (!uuidValidateString(hexString)) {\n        throw new BSONError('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\" or \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\".');\n    }\n    const sanitizedHexString = hexString.replace(/-/g, '');\n    return ByteUtils.fromHex(sanitizedHexString);\n};\nfunction bufferToUuidHexString(buffer, includeDashes = true) {\n    if (includeDashes) {\n        return [\n            ByteUtils.toHex(buffer.subarray(0, 4)),\n            ByteUtils.toHex(buffer.subarray(4, 6)),\n            ByteUtils.toHex(buffer.subarray(6, 8)),\n            ByteUtils.toHex(buffer.subarray(8, 10)),\n            ByteUtils.toHex(buffer.subarray(10, 16))\n        ].join('-');\n    }\n    return ByteUtils.toHex(buffer);\n}\n\nfunction isAnyArrayBuffer(value) {\n    return ['[object ArrayBuffer]', '[object SharedArrayBuffer]'].includes(Object.prototype.toString.call(value));\n}\nfunction isUint8Array(value) {\n    return Object.prototype.toString.call(value) === '[object Uint8Array]';\n}\nfunction isRegExp(d) {\n    return Object.prototype.toString.call(d) === '[object RegExp]';\n}\nfunction isMap(d) {\n    return Object.prototype.toString.call(d) === '[object Map]';\n}\nfunction isDate(d) {\n    return Object.prototype.toString.call(d) === '[object Date]';\n}\n\nclass BSONValue {\n    get [Symbol.for('@@mdb.bson.version')]() {\n        return BSON_MAJOR_VERSION;\n    }\n}\n\nclass Binary extends BSONValue {\n    get _bsontype() {\n        return 'Binary';\n    }\n    constructor(buffer, subType) {\n        super();\n        if (!(buffer == null) &&\n            !(typeof buffer === 'string') &&\n            !ArrayBuffer.isView(buffer) &&\n            !(buffer instanceof ArrayBuffer) &&\n            !Array.isArray(buffer)) {\n            throw new BSONError('Binary can only be constructed from string, Buffer, TypedArray, or Array<number>');\n        }\n        this.sub_type = subType ?? Binary.BSON_BINARY_SUBTYPE_DEFAULT;\n        if (buffer == null) {\n            this.buffer = ByteUtils.allocate(Binary.BUFFER_SIZE);\n            this.position = 0;\n        }\n        else {\n            if (typeof buffer === 'string') {\n                this.buffer = ByteUtils.fromISO88591(buffer);\n            }\n            else if (Array.isArray(buffer)) {\n                this.buffer = ByteUtils.fromNumberArray(buffer);\n            }\n            else {\n                this.buffer = ByteUtils.toLocalBufferType(buffer);\n            }\n            this.position = this.buffer.byteLength;\n        }\n    }\n    put(byteValue) {\n        if (typeof byteValue === 'string' && byteValue.length !== 1) {\n            throw new BSONError('only accepts single character String');\n        }\n        else if (typeof byteValue !== 'number' && byteValue.length !== 1)\n            throw new BSONError('only accepts single character Uint8Array or Array');\n        let decodedByte;\n        if (typeof byteValue === 'string') {\n            decodedByte = byteValue.charCodeAt(0);\n        }\n        else if (typeof byteValue === 'number') {\n            decodedByte = byteValue;\n        }\n        else {\n            decodedByte = byteValue[0];\n        }\n        if (decodedByte < 0 || decodedByte > 255) {\n            throw new BSONError('only accepts number in a valid unsigned byte range 0-255');\n        }\n        if (this.buffer.byteLength > this.position) {\n            this.buffer[this.position++] = decodedByte;\n        }\n        else {\n            const newSpace = ByteUtils.allocate(Binary.BUFFER_SIZE + this.buffer.length);\n            newSpace.set(this.buffer, 0);\n            this.buffer = newSpace;\n            this.buffer[this.position++] = decodedByte;\n        }\n    }\n    write(sequence, offset) {\n        offset = typeof offset === 'number' ? offset : this.position;\n        if (this.buffer.byteLength < offset + sequence.length) {\n            const newSpace = ByteUtils.allocate(this.buffer.byteLength + sequence.length);\n            newSpace.set(this.buffer, 0);\n            this.buffer = newSpace;\n        }\n        if (ArrayBuffer.isView(sequence)) {\n            this.buffer.set(ByteUtils.toLocalBufferType(sequence), offset);\n            this.position =\n                offset + sequence.byteLength > this.position ? offset + sequence.length : this.position;\n        }\n        else if (typeof sequence === 'string') {\n            const bytes = ByteUtils.fromISO88591(sequence);\n            this.buffer.set(bytes, offset);\n            this.position =\n                offset + sequence.length > this.position ? offset + sequence.length : this.position;\n        }\n    }\n    read(position, length) {\n        length = length && length > 0 ? length : this.position;\n        return this.buffer.slice(position, position + length);\n    }\n    value(asRaw) {\n        asRaw = !!asRaw;\n        if (asRaw && this.buffer.length === this.position) {\n            return this.buffer;\n        }\n        if (asRaw) {\n            return this.buffer.slice(0, this.position);\n        }\n        return ByteUtils.toISO88591(this.buffer.subarray(0, this.position));\n    }\n    length() {\n        return this.position;\n    }\n    toJSON() {\n        return ByteUtils.toBase64(this.buffer);\n    }\n    toString(encoding) {\n        if (encoding === 'hex')\n            return ByteUtils.toHex(this.buffer);\n        if (encoding === 'base64')\n            return ByteUtils.toBase64(this.buffer);\n        if (encoding === 'utf8' || encoding === 'utf-8')\n            return ByteUtils.toUTF8(this.buffer);\n        return ByteUtils.toUTF8(this.buffer);\n    }\n    toExtendedJSON(options) {\n        options = options || {};\n        const base64String = ByteUtils.toBase64(this.buffer);\n        const subType = Number(this.sub_type).toString(16);\n        if (options.legacy) {\n            return {\n                $binary: base64String,\n                $type: subType.length === 1 ? '0' + subType : subType\n            };\n        }\n        return {\n            $binary: {\n                base64: base64String,\n                subType: subType.length === 1 ? '0' + subType : subType\n            }\n        };\n    }\n    toUUID() {\n        if (this.sub_type === Binary.SUBTYPE_UUID) {\n            return new UUID(this.buffer.slice(0, this.position));\n        }\n        throw new BSONError(`Binary sub_type \"${this.sub_type}\" is not supported for converting to UUID. Only \"${Binary.SUBTYPE_UUID}\" is currently supported.`);\n    }\n    static fromExtendedJSON(doc, options) {\n        options = options || {};\n        let data;\n        let type;\n        if ('$binary' in doc) {\n            if (options.legacy && typeof doc.$binary === 'string' && '$type' in doc) {\n                type = doc.$type ? parseInt(doc.$type, 16) : 0;\n                data = ByteUtils.fromBase64(doc.$binary);\n            }\n            else {\n                if (typeof doc.$binary !== 'string') {\n                    type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n                    data = ByteUtils.fromBase64(doc.$binary.base64);\n                }\n            }\n        }\n        else if ('$uuid' in doc) {\n            type = 4;\n            data = uuidHexStringToBuffer(doc.$uuid);\n        }\n        if (!data) {\n            throw new BSONError(`Unexpected Binary Extended JSON format ${JSON.stringify(doc)}`);\n        }\n        return type === BSON_BINARY_SUBTYPE_UUID_NEW ? new UUID(data) : new Binary(data, type);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new Binary(Buffer.from(\"${ByteUtils.toHex(this.buffer)}\", \"hex\"), ${this.sub_type})`;\n    }\n}\nBinary.BSON_BINARY_SUBTYPE_DEFAULT = 0;\nBinary.BUFFER_SIZE = 256;\nBinary.SUBTYPE_DEFAULT = 0;\nBinary.SUBTYPE_FUNCTION = 1;\nBinary.SUBTYPE_BYTE_ARRAY = 2;\nBinary.SUBTYPE_UUID_OLD = 3;\nBinary.SUBTYPE_UUID = 4;\nBinary.SUBTYPE_MD5 = 5;\nBinary.SUBTYPE_ENCRYPTED = 6;\nBinary.SUBTYPE_COLUMN = 7;\nBinary.SUBTYPE_USER_DEFINED = 128;\nconst UUID_BYTE_LENGTH = 16;\nclass UUID extends Binary {\n    constructor(input) {\n        let bytes;\n        let hexStr;\n        if (input == null) {\n            bytes = UUID.generate();\n        }\n        else if (input instanceof UUID) {\n            bytes = ByteUtils.toLocalBufferType(new Uint8Array(input.buffer));\n            hexStr = input.__id;\n        }\n        else if (ArrayBuffer.isView(input) && input.byteLength === UUID_BYTE_LENGTH) {\n            bytes = ByteUtils.toLocalBufferType(input);\n        }\n        else if (typeof input === 'string') {\n            bytes = uuidHexStringToBuffer(input);\n        }\n        else {\n            throw new BSONError('Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).');\n        }\n        super(bytes, BSON_BINARY_SUBTYPE_UUID_NEW);\n        this.__id = hexStr;\n    }\n    get id() {\n        return this.buffer;\n    }\n    set id(value) {\n        this.buffer = value;\n        if (UUID.cacheHexString) {\n            this.__id = bufferToUuidHexString(value);\n        }\n    }\n    toHexString(includeDashes = true) {\n        if (UUID.cacheHexString && this.__id) {\n            return this.__id;\n        }\n        const uuidHexString = bufferToUuidHexString(this.id, includeDashes);\n        if (UUID.cacheHexString) {\n            this.__id = uuidHexString;\n        }\n        return uuidHexString;\n    }\n    toString(encoding) {\n        if (encoding === 'hex')\n            return ByteUtils.toHex(this.id);\n        if (encoding === 'base64')\n            return ByteUtils.toBase64(this.id);\n        return this.toHexString();\n    }\n    toJSON() {\n        return this.toHexString();\n    }\n    equals(otherId) {\n        if (!otherId) {\n            return false;\n        }\n        if (otherId instanceof UUID) {\n            return ByteUtils.equals(otherId.id, this.id);\n        }\n        try {\n            return ByteUtils.equals(new UUID(otherId).id, this.id);\n        }\n        catch {\n            return false;\n        }\n    }\n    toBinary() {\n        return new Binary(this.id, Binary.SUBTYPE_UUID);\n    }\n    static generate() {\n        const bytes = ByteUtils.randomBytes(UUID_BYTE_LENGTH);\n        bytes[6] = (bytes[6] & 0x0f) | 0x40;\n        bytes[8] = (bytes[8] & 0x3f) | 0x80;\n        return bytes;\n    }\n    static isValid(input) {\n        if (!input) {\n            return false;\n        }\n        if (input instanceof UUID) {\n            return true;\n        }\n        if (typeof input === 'string') {\n            return uuidValidateString(input);\n        }\n        if (isUint8Array(input)) {\n            if (input.byteLength !== UUID_BYTE_LENGTH) {\n                return false;\n            }\n            return (input[6] & 0xf0) === 0x40 && (input[8] & 0x80) === 0x80;\n        }\n        return false;\n    }\n    static createFromHexString(hexString) {\n        const buffer = uuidHexStringToBuffer(hexString);\n        return new UUID(buffer);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new UUID(\"${this.toHexString()}\")`;\n    }\n}\n\nclass Code extends BSONValue {\n    get _bsontype() {\n        return 'Code';\n    }\n    constructor(code, scope) {\n        super();\n        this.code = code.toString();\n        this.scope = scope ?? null;\n    }\n    toJSON() {\n        if (this.scope != null) {\n            return { code: this.code, scope: this.scope };\n        }\n        return { code: this.code };\n    }\n    toExtendedJSON() {\n        if (this.scope) {\n            return { $code: this.code, $scope: this.scope };\n        }\n        return { $code: this.code };\n    }\n    static fromExtendedJSON(doc) {\n        return new Code(doc.$code, doc.$scope);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        const codeJson = this.toJSON();\n        return `new Code(\"${String(codeJson.code)}\"${codeJson.scope != null ? `, ${JSON.stringify(codeJson.scope)}` : ''})`;\n    }\n}\n\nfunction isDBRefLike(value) {\n    return (value != null &&\n        typeof value === 'object' &&\n        '$id' in value &&\n        value.$id != null &&\n        '$ref' in value &&\n        typeof value.$ref === 'string' &&\n        (!('$db' in value) || ('$db' in value && typeof value.$db === 'string')));\n}\nclass DBRef extends BSONValue {\n    get _bsontype() {\n        return 'DBRef';\n    }\n    constructor(collection, oid, db, fields) {\n        super();\n        const parts = collection.split('.');\n        if (parts.length === 2) {\n            db = parts.shift();\n            collection = parts.shift();\n        }\n        this.collection = collection;\n        this.oid = oid;\n        this.db = db;\n        this.fields = fields || {};\n    }\n    get namespace() {\n        return this.collection;\n    }\n    set namespace(value) {\n        this.collection = value;\n    }\n    toJSON() {\n        const o = Object.assign({\n            $ref: this.collection,\n            $id: this.oid\n        }, this.fields);\n        if (this.db != null)\n            o.$db = this.db;\n        return o;\n    }\n    toExtendedJSON(options) {\n        options = options || {};\n        let o = {\n            $ref: this.collection,\n            $id: this.oid\n        };\n        if (options.legacy) {\n            return o;\n        }\n        if (this.db)\n            o.$db = this.db;\n        o = Object.assign(o, this.fields);\n        return o;\n    }\n    static fromExtendedJSON(doc) {\n        const copy = Object.assign({}, doc);\n        delete copy.$ref;\n        delete copy.$id;\n        delete copy.$db;\n        return new DBRef(doc.$ref, doc.$id, doc.$db, copy);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        const oid = this.oid === undefined || this.oid.toString === undefined ? this.oid : this.oid.toString();\n        return `new DBRef(\"${this.namespace}\", new ObjectId(\"${String(oid)}\")${this.db ? `, \"${this.db}\"` : ''})`;\n    }\n}\n\nlet wasm = undefined;\ntry {\n    wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])), {}).exports;\n}\ncatch {\n}\nconst TWO_PWR_16_DBL = 1 << 16;\nconst TWO_PWR_24_DBL = 1 << 24;\nconst TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nconst TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nconst TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\nconst INT_CACHE = {};\nconst UINT_CACHE = {};\nconst MAX_INT64_STRING_LENGTH = 20;\nconst DECIMAL_REG_EX = /^(\\+?0|(\\+|-)?[1-9][0-9]*)$/;\nclass Long extends BSONValue {\n    get _bsontype() {\n        return 'Long';\n    }\n    get __isLong__() {\n        return true;\n    }\n    constructor(low = 0, high, unsigned) {\n        super();\n        if (typeof low === 'bigint') {\n            Object.assign(this, Long.fromBigInt(low, !!high));\n        }\n        else if (typeof low === 'string') {\n            Object.assign(this, Long.fromString(low, !!high));\n        }\n        else {\n            this.low = low | 0;\n            this.high = high | 0;\n            this.unsigned = !!unsigned;\n        }\n    }\n    static fromBits(lowBits, highBits, unsigned) {\n        return new Long(lowBits, highBits, unsigned);\n    }\n    static fromInt(value, unsigned) {\n        let obj, cachedObj, cache;\n        if (unsigned) {\n            value >>>= 0;\n            if ((cache = 0 <= value && value < 256)) {\n                cachedObj = UINT_CACHE[value];\n                if (cachedObj)\n                    return cachedObj;\n            }\n            obj = Long.fromBits(value, (value | 0) < 0 ? -1 : 0, true);\n            if (cache)\n                UINT_CACHE[value] = obj;\n            return obj;\n        }\n        else {\n            value |= 0;\n            if ((cache = -128 <= value && value < 128)) {\n                cachedObj = INT_CACHE[value];\n                if (cachedObj)\n                    return cachedObj;\n            }\n            obj = Long.fromBits(value, value < 0 ? -1 : 0, false);\n            if (cache)\n                INT_CACHE[value] = obj;\n            return obj;\n        }\n    }\n    static fromNumber(value, unsigned) {\n        if (isNaN(value))\n            return unsigned ? Long.UZERO : Long.ZERO;\n        if (unsigned) {\n            if (value < 0)\n                return Long.UZERO;\n            if (value >= TWO_PWR_64_DBL)\n                return Long.MAX_UNSIGNED_VALUE;\n        }\n        else {\n            if (value <= -TWO_PWR_63_DBL)\n                return Long.MIN_VALUE;\n            if (value + 1 >= TWO_PWR_63_DBL)\n                return Long.MAX_VALUE;\n        }\n        if (value < 0)\n            return Long.fromNumber(-value, unsigned).neg();\n        return Long.fromBits(value % TWO_PWR_32_DBL | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\n    }\n    static fromBigInt(value, unsigned) {\n        return Long.fromString(value.toString(), unsigned);\n    }\n    static fromString(str, unsigned, radix) {\n        if (str.length === 0)\n            throw new BSONError('empty string');\n        if (str === 'NaN' || str === 'Infinity' || str === '+Infinity' || str === '-Infinity')\n            return Long.ZERO;\n        if (typeof unsigned === 'number') {\n            (radix = unsigned), (unsigned = false);\n        }\n        else {\n            unsigned = !!unsigned;\n        }\n        radix = radix || 10;\n        if (radix < 2 || 36 < radix)\n            throw new BSONError('radix');\n        let p;\n        if ((p = str.indexOf('-')) > 0)\n            throw new BSONError('interior hyphen');\n        else if (p === 0) {\n            return Long.fromString(str.substring(1), unsigned, radix).neg();\n        }\n        const radixToPower = Long.fromNumber(Math.pow(radix, 8));\n        let result = Long.ZERO;\n        for (let i = 0; i < str.length; i += 8) {\n            const size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);\n            if (size < 8) {\n                const power = Long.fromNumber(Math.pow(radix, size));\n                result = result.mul(power).add(Long.fromNumber(value));\n            }\n            else {\n                result = result.mul(radixToPower);\n                result = result.add(Long.fromNumber(value));\n            }\n        }\n        result.unsigned = unsigned;\n        return result;\n    }\n    static fromBytes(bytes, unsigned, le) {\n        return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\n    }\n    static fromBytesLE(bytes, unsigned) {\n        return new Long(bytes[0] | (bytes[1] << 8) | (bytes[2] << 16) | (bytes[3] << 24), bytes[4] | (bytes[5] << 8) | (bytes[6] << 16) | (bytes[7] << 24), unsigned);\n    }\n    static fromBytesBE(bytes, unsigned) {\n        return new Long((bytes[4] << 24) | (bytes[5] << 16) | (bytes[6] << 8) | bytes[7], (bytes[0] << 24) | (bytes[1] << 16) | (bytes[2] << 8) | bytes[3], unsigned);\n    }\n    static isLong(value) {\n        return (value != null &&\n            typeof value === 'object' &&\n            '__isLong__' in value &&\n            value.__isLong__ === true);\n    }\n    static fromValue(val, unsigned) {\n        if (typeof val === 'number')\n            return Long.fromNumber(val, unsigned);\n        if (typeof val === 'string')\n            return Long.fromString(val, unsigned);\n        return Long.fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\n    }\n    add(addend) {\n        if (!Long.isLong(addend))\n            addend = Long.fromValue(addend);\n        const a48 = this.high >>> 16;\n        const a32 = this.high & 0xffff;\n        const a16 = this.low >>> 16;\n        const a00 = this.low & 0xffff;\n        const b48 = addend.high >>> 16;\n        const b32 = addend.high & 0xffff;\n        const b16 = addend.low >>> 16;\n        const b00 = addend.low & 0xffff;\n        let c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n        c00 += a00 + b00;\n        c16 += c00 >>> 16;\n        c00 &= 0xffff;\n        c16 += a16 + b16;\n        c32 += c16 >>> 16;\n        c16 &= 0xffff;\n        c32 += a32 + b32;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c48 += a48 + b48;\n        c48 &= 0xffff;\n        return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\n    }\n    and(other) {\n        if (!Long.isLong(other))\n            other = Long.fromValue(other);\n        return Long.fromBits(this.low & other.low, this.high & other.high, this.unsigned);\n    }\n    compare(other) {\n        if (!Long.isLong(other))\n            other = Long.fromValue(other);\n        if (this.eq(other))\n            return 0;\n        const thisNeg = this.isNegative(), otherNeg = other.isNegative();\n        if (thisNeg && !otherNeg)\n            return -1;\n        if (!thisNeg && otherNeg)\n            return 1;\n        if (!this.unsigned)\n            return this.sub(other).isNegative() ? -1 : 1;\n        return other.high >>> 0 > this.high >>> 0 ||\n            (other.high === this.high && other.low >>> 0 > this.low >>> 0)\n            ? -1\n            : 1;\n    }\n    comp(other) {\n        return this.compare(other);\n    }\n    divide(divisor) {\n        if (!Long.isLong(divisor))\n            divisor = Long.fromValue(divisor);\n        if (divisor.isZero())\n            throw new BSONError('division by zero');\n        if (wasm) {\n            if (!this.unsigned &&\n                this.high === -0x80000000 &&\n                divisor.low === -1 &&\n                divisor.high === -1) {\n                return this;\n            }\n            const low = (this.unsigned ? wasm.div_u : wasm.div_s)(this.low, this.high, divisor.low, divisor.high);\n            return Long.fromBits(low, wasm.get_high(), this.unsigned);\n        }\n        if (this.isZero())\n            return this.unsigned ? Long.UZERO : Long.ZERO;\n        let approx, rem, res;\n        if (!this.unsigned) {\n            if (this.eq(Long.MIN_VALUE)) {\n                if (divisor.eq(Long.ONE) || divisor.eq(Long.NEG_ONE))\n                    return Long.MIN_VALUE;\n                else if (divisor.eq(Long.MIN_VALUE))\n                    return Long.ONE;\n                else {\n                    const halfThis = this.shr(1);\n                    approx = halfThis.div(divisor).shl(1);\n                    if (approx.eq(Long.ZERO)) {\n                        return divisor.isNegative() ? Long.ONE : Long.NEG_ONE;\n                    }\n                    else {\n                        rem = this.sub(divisor.mul(approx));\n                        res = approx.add(rem.div(divisor));\n                        return res;\n                    }\n                }\n            }\n            else if (divisor.eq(Long.MIN_VALUE))\n                return this.unsigned ? Long.UZERO : Long.ZERO;\n            if (this.isNegative()) {\n                if (divisor.isNegative())\n                    return this.neg().div(divisor.neg());\n                return this.neg().div(divisor).neg();\n            }\n            else if (divisor.isNegative())\n                return this.div(divisor.neg()).neg();\n            res = Long.ZERO;\n        }\n        else {\n            if (!divisor.unsigned)\n                divisor = divisor.toUnsigned();\n            if (divisor.gt(this))\n                return Long.UZERO;\n            if (divisor.gt(this.shru(1)))\n                return Long.UONE;\n            res = Long.UZERO;\n        }\n        rem = this;\n        while (rem.gte(divisor)) {\n            approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\n            const log2 = Math.ceil(Math.log(approx) / Math.LN2);\n            const delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\n            let approxRes = Long.fromNumber(approx);\n            let approxRem = approxRes.mul(divisor);\n            while (approxRem.isNegative() || approxRem.gt(rem)) {\n                approx -= delta;\n                approxRes = Long.fromNumber(approx, this.unsigned);\n                approxRem = approxRes.mul(divisor);\n            }\n            if (approxRes.isZero())\n                approxRes = Long.ONE;\n            res = res.add(approxRes);\n            rem = rem.sub(approxRem);\n        }\n        return res;\n    }\n    div(divisor) {\n        return this.divide(divisor);\n    }\n    equals(other) {\n        if (!Long.isLong(other))\n            other = Long.fromValue(other);\n        if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)\n            return false;\n        return this.high === other.high && this.low === other.low;\n    }\n    eq(other) {\n        return this.equals(other);\n    }\n    getHighBits() {\n        return this.high;\n    }\n    getHighBitsUnsigned() {\n        return this.high >>> 0;\n    }\n    getLowBits() {\n        return this.low;\n    }\n    getLowBitsUnsigned() {\n        return this.low >>> 0;\n    }\n    getNumBitsAbs() {\n        if (this.isNegative()) {\n            return this.eq(Long.MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\n        }\n        const val = this.high !== 0 ? this.high : this.low;\n        let bit;\n        for (bit = 31; bit > 0; bit--)\n            if ((val & (1 << bit)) !== 0)\n                break;\n        return this.high !== 0 ? bit + 33 : bit + 1;\n    }\n    greaterThan(other) {\n        return this.comp(other) > 0;\n    }\n    gt(other) {\n        return this.greaterThan(other);\n    }\n    greaterThanOrEqual(other) {\n        return this.comp(other) >= 0;\n    }\n    gte(other) {\n        return this.greaterThanOrEqual(other);\n    }\n    ge(other) {\n        return this.greaterThanOrEqual(other);\n    }\n    isEven() {\n        return (this.low & 1) === 0;\n    }\n    isNegative() {\n        return !this.unsigned && this.high < 0;\n    }\n    isOdd() {\n        return (this.low & 1) === 1;\n    }\n    isPositive() {\n        return this.unsigned || this.high >= 0;\n    }\n    isZero() {\n        return this.high === 0 && this.low === 0;\n    }\n    lessThan(other) {\n        return this.comp(other) < 0;\n    }\n    lt(other) {\n        return this.lessThan(other);\n    }\n    lessThanOrEqual(other) {\n        return this.comp(other) <= 0;\n    }\n    lte(other) {\n        return this.lessThanOrEqual(other);\n    }\n    modulo(divisor) {\n        if (!Long.isLong(divisor))\n            divisor = Long.fromValue(divisor);\n        if (wasm) {\n            const low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(this.low, this.high, divisor.low, divisor.high);\n            return Long.fromBits(low, wasm.get_high(), this.unsigned);\n        }\n        return this.sub(this.div(divisor).mul(divisor));\n    }\n    mod(divisor) {\n        return this.modulo(divisor);\n    }\n    rem(divisor) {\n        return this.modulo(divisor);\n    }\n    multiply(multiplier) {\n        if (this.isZero())\n            return Long.ZERO;\n        if (!Long.isLong(multiplier))\n            multiplier = Long.fromValue(multiplier);\n        if (wasm) {\n            const low = wasm.mul(this.low, this.high, multiplier.low, multiplier.high);\n            return Long.fromBits(low, wasm.get_high(), this.unsigned);\n        }\n        if (multiplier.isZero())\n            return Long.ZERO;\n        if (this.eq(Long.MIN_VALUE))\n            return multiplier.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n        if (multiplier.eq(Long.MIN_VALUE))\n            return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n        if (this.isNegative()) {\n            if (multiplier.isNegative())\n                return this.neg().mul(multiplier.neg());\n            else\n                return this.neg().mul(multiplier).neg();\n        }\n        else if (multiplier.isNegative())\n            return this.mul(multiplier.neg()).neg();\n        if (this.lt(Long.TWO_PWR_24) && multiplier.lt(Long.TWO_PWR_24))\n            return Long.fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\n        const a48 = this.high >>> 16;\n        const a32 = this.high & 0xffff;\n        const a16 = this.low >>> 16;\n        const a00 = this.low & 0xffff;\n        const b48 = multiplier.high >>> 16;\n        const b32 = multiplier.high & 0xffff;\n        const b16 = multiplier.low >>> 16;\n        const b00 = multiplier.low & 0xffff;\n        let c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n        c00 += a00 * b00;\n        c16 += c00 >>> 16;\n        c00 &= 0xffff;\n        c16 += a16 * b00;\n        c32 += c16 >>> 16;\n        c16 &= 0xffff;\n        c16 += a00 * b16;\n        c32 += c16 >>> 16;\n        c16 &= 0xffff;\n        c32 += a32 * b00;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c32 += a16 * b16;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c32 += a00 * b32;\n        c48 += c32 >>> 16;\n        c32 &= 0xffff;\n        c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n        c48 &= 0xffff;\n        return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\n    }\n    mul(multiplier) {\n        return this.multiply(multiplier);\n    }\n    negate() {\n        if (!this.unsigned && this.eq(Long.MIN_VALUE))\n            return Long.MIN_VALUE;\n        return this.not().add(Long.ONE);\n    }\n    neg() {\n        return this.negate();\n    }\n    not() {\n        return Long.fromBits(~this.low, ~this.high, this.unsigned);\n    }\n    notEquals(other) {\n        return !this.equals(other);\n    }\n    neq(other) {\n        return this.notEquals(other);\n    }\n    ne(other) {\n        return this.notEquals(other);\n    }\n    or(other) {\n        if (!Long.isLong(other))\n            other = Long.fromValue(other);\n        return Long.fromBits(this.low | other.low, this.high | other.high, this.unsigned);\n    }\n    shiftLeft(numBits) {\n        if (Long.isLong(numBits))\n            numBits = numBits.toInt();\n        if ((numBits &= 63) === 0)\n            return this;\n        else if (numBits < 32)\n            return Long.fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\n        else\n            return Long.fromBits(0, this.low << (numBits - 32), this.unsigned);\n    }\n    shl(numBits) {\n        return this.shiftLeft(numBits);\n    }\n    shiftRight(numBits) {\n        if (Long.isLong(numBits))\n            numBits = numBits.toInt();\n        if ((numBits &= 63) === 0)\n            return this;\n        else if (numBits < 32)\n            return Long.fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\n        else\n            return Long.fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\n    }\n    shr(numBits) {\n        return this.shiftRight(numBits);\n    }\n    shiftRightUnsigned(numBits) {\n        if (Long.isLong(numBits))\n            numBits = numBits.toInt();\n        numBits &= 63;\n        if (numBits === 0)\n            return this;\n        else {\n            const high = this.high;\n            if (numBits < 32) {\n                const low = this.low;\n                return Long.fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\n            }\n            else if (numBits === 32)\n                return Long.fromBits(high, 0, this.unsigned);\n            else\n                return Long.fromBits(high >>> (numBits - 32), 0, this.unsigned);\n        }\n    }\n    shr_u(numBits) {\n        return this.shiftRightUnsigned(numBits);\n    }\n    shru(numBits) {\n        return this.shiftRightUnsigned(numBits);\n    }\n    subtract(subtrahend) {\n        if (!Long.isLong(subtrahend))\n            subtrahend = Long.fromValue(subtrahend);\n        return this.add(subtrahend.neg());\n    }\n    sub(subtrahend) {\n        return this.subtract(subtrahend);\n    }\n    toInt() {\n        return this.unsigned ? this.low >>> 0 : this.low;\n    }\n    toNumber() {\n        if (this.unsigned)\n            return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);\n        return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\n    }\n    toBigInt() {\n        return BigInt(this.toString());\n    }\n    toBytes(le) {\n        return le ? this.toBytesLE() : this.toBytesBE();\n    }\n    toBytesLE() {\n        const hi = this.high, lo = this.low;\n        return [\n            lo & 0xff,\n            (lo >>> 8) & 0xff,\n            (lo >>> 16) & 0xff,\n            lo >>> 24,\n            hi & 0xff,\n            (hi >>> 8) & 0xff,\n            (hi >>> 16) & 0xff,\n            hi >>> 24\n        ];\n    }\n    toBytesBE() {\n        const hi = this.high, lo = this.low;\n        return [\n            hi >>> 24,\n            (hi >>> 16) & 0xff,\n            (hi >>> 8) & 0xff,\n            hi & 0xff,\n            lo >>> 24,\n            (lo >>> 16) & 0xff,\n            (lo >>> 8) & 0xff,\n            lo & 0xff\n        ];\n    }\n    toSigned() {\n        if (!this.unsigned)\n            return this;\n        return Long.fromBits(this.low, this.high, false);\n    }\n    toString(radix) {\n        radix = radix || 10;\n        if (radix < 2 || 36 < radix)\n            throw new BSONError('radix');\n        if (this.isZero())\n            return '0';\n        if (this.isNegative()) {\n            if (this.eq(Long.MIN_VALUE)) {\n                const radixLong = Long.fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);\n                return div.toString(radix) + rem1.toInt().toString(radix);\n            }\n            else\n                return '-' + this.neg().toString(radix);\n        }\n        const radixToPower = Long.fromNumber(Math.pow(radix, 6), this.unsigned);\n        let rem = this;\n        let result = '';\n        while (true) {\n            const remDiv = rem.div(radixToPower);\n            const intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0;\n            let digits = intval.toString(radix);\n            rem = remDiv;\n            if (rem.isZero()) {\n                return digits + result;\n            }\n            else {\n                while (digits.length < 6)\n                    digits = '0' + digits;\n                result = '' + digits + result;\n            }\n        }\n    }\n    toUnsigned() {\n        if (this.unsigned)\n            return this;\n        return Long.fromBits(this.low, this.high, true);\n    }\n    xor(other) {\n        if (!Long.isLong(other))\n            other = Long.fromValue(other);\n        return Long.fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\n    }\n    eqz() {\n        return this.isZero();\n    }\n    le(other) {\n        return this.lessThanOrEqual(other);\n    }\n    toExtendedJSON(options) {\n        if (options && options.relaxed)\n            return this.toNumber();\n        return { $numberLong: this.toString() };\n    }\n    static fromExtendedJSON(doc, options) {\n        const { useBigInt64 = false, relaxed = true } = { ...options };\n        if (doc.$numberLong.length > MAX_INT64_STRING_LENGTH) {\n            throw new BSONError('$numberLong string is too long');\n        }\n        if (!DECIMAL_REG_EX.test(doc.$numberLong)) {\n            throw new BSONError(`$numberLong string \"${doc.$numberLong}\" is in an invalid format`);\n        }\n        if (useBigInt64) {\n            const bigIntResult = BigInt(doc.$numberLong);\n            return BigInt.asIntN(64, bigIntResult);\n        }\n        const longResult = Long.fromString(doc.$numberLong);\n        if (relaxed) {\n            return longResult.toNumber();\n        }\n        return longResult;\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new Long(\"${this.toString()}\"${this.unsigned ? ', true' : ''})`;\n    }\n}\nLong.TWO_PWR_24 = Long.fromInt(TWO_PWR_24_DBL);\nLong.MAX_UNSIGNED_VALUE = Long.fromBits(0xffffffff | 0, 0xffffffff | 0, true);\nLong.ZERO = Long.fromInt(0);\nLong.UZERO = Long.fromInt(0, true);\nLong.ONE = Long.fromInt(1);\nLong.UONE = Long.fromInt(1, true);\nLong.NEG_ONE = Long.fromInt(-1);\nLong.MAX_VALUE = Long.fromBits(0xffffffff | 0, 0x7fffffff | 0, false);\nLong.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0, false);\n\nconst PARSE_STRING_REGEXP = /^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/;\nconst PARSE_INF_REGEXP = /^(\\+|-)?(Infinity|inf)$/i;\nconst PARSE_NAN_REGEXP = /^(\\+|-)?NaN$/i;\nconst EXPONENT_MAX = 6111;\nconst EXPONENT_MIN = -6176;\nconst EXPONENT_BIAS = 6176;\nconst MAX_DIGITS = 34;\nconst NAN_BUFFER = ByteUtils.fromNumberArray([\n    0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\n].reverse());\nconst INF_NEGATIVE_BUFFER = ByteUtils.fromNumberArray([\n    0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\n].reverse());\nconst INF_POSITIVE_BUFFER = ByteUtils.fromNumberArray([\n    0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00\n].reverse());\nconst EXPONENT_REGEX = /^([-+])?(\\d+)?$/;\nconst COMBINATION_MASK = 0x1f;\nconst EXPONENT_MASK = 0x3fff;\nconst COMBINATION_INFINITY = 30;\nconst COMBINATION_NAN = 31;\nfunction isDigit(value) {\n    return !isNaN(parseInt(value, 10));\n}\nfunction divideu128(value) {\n    const DIVISOR = Long.fromNumber(1000 * 1000 * 1000);\n    let _rem = Long.fromNumber(0);\n    if (!value.parts[0] && !value.parts[1] && !value.parts[2] && !value.parts[3]) {\n        return { quotient: value, rem: _rem };\n    }\n    for (let i = 0; i <= 3; i++) {\n        _rem = _rem.shiftLeft(32);\n        _rem = _rem.add(new Long(value.parts[i], 0));\n        value.parts[i] = _rem.div(DIVISOR).low;\n        _rem = _rem.modulo(DIVISOR);\n    }\n    return { quotient: value, rem: _rem };\n}\nfunction multiply64x2(left, right) {\n    if (!left && !right) {\n        return { high: Long.fromNumber(0), low: Long.fromNumber(0) };\n    }\n    const leftHigh = left.shiftRightUnsigned(32);\n    const leftLow = new Long(left.getLowBits(), 0);\n    const rightHigh = right.shiftRightUnsigned(32);\n    const rightLow = new Long(right.getLowBits(), 0);\n    let productHigh = leftHigh.multiply(rightHigh);\n    let productMid = leftHigh.multiply(rightLow);\n    const productMid2 = leftLow.multiply(rightHigh);\n    let productLow = leftLow.multiply(rightLow);\n    productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n    productMid = new Long(productMid.getLowBits(), 0)\n        .add(productMid2)\n        .add(productLow.shiftRightUnsigned(32));\n    productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n    productLow = productMid.shiftLeft(32).add(new Long(productLow.getLowBits(), 0));\n    return { high: productHigh, low: productLow };\n}\nfunction lessThan(left, right) {\n    const uhleft = left.high >>> 0;\n    const uhright = right.high >>> 0;\n    if (uhleft < uhright) {\n        return true;\n    }\n    else if (uhleft === uhright) {\n        const ulleft = left.low >>> 0;\n        const ulright = right.low >>> 0;\n        if (ulleft < ulright)\n            return true;\n    }\n    return false;\n}\nfunction invalidErr(string, message) {\n    throw new BSONError(`\"${string}\" is not a valid Decimal128 string - ${message}`);\n}\nclass Decimal128 extends BSONValue {\n    get _bsontype() {\n        return 'Decimal128';\n    }\n    constructor(bytes) {\n        super();\n        if (typeof bytes === 'string') {\n            this.bytes = Decimal128.fromString(bytes).bytes;\n        }\n        else if (isUint8Array(bytes)) {\n            if (bytes.byteLength !== 16) {\n                throw new BSONError('Decimal128 must take a Buffer of 16 bytes');\n            }\n            this.bytes = bytes;\n        }\n        else {\n            throw new BSONError('Decimal128 must take a Buffer or string');\n        }\n    }\n    static fromString(representation) {\n        let isNegative = false;\n        let sawRadix = false;\n        let foundNonZero = false;\n        let significantDigits = 0;\n        let nDigitsRead = 0;\n        let nDigits = 0;\n        let radixPosition = 0;\n        let firstNonZero = 0;\n        const digits = [0];\n        let nDigitsStored = 0;\n        let digitsInsert = 0;\n        let firstDigit = 0;\n        let lastDigit = 0;\n        let exponent = 0;\n        let i = 0;\n        let significandHigh = new Long(0, 0);\n        let significandLow = new Long(0, 0);\n        let biasedExponent = 0;\n        let index = 0;\n        if (representation.length >= 7000) {\n            throw new BSONError('' + representation + ' not a valid Decimal128 string');\n        }\n        const stringMatch = representation.match(PARSE_STRING_REGEXP);\n        const infMatch = representation.match(PARSE_INF_REGEXP);\n        const nanMatch = representation.match(PARSE_NAN_REGEXP);\n        if ((!stringMatch && !infMatch && !nanMatch) || representation.length === 0) {\n            throw new BSONError('' + representation + ' not a valid Decimal128 string');\n        }\n        if (stringMatch) {\n            const unsignedNumber = stringMatch[2];\n            const e = stringMatch[4];\n            const expSign = stringMatch[5];\n            const expNumber = stringMatch[6];\n            if (e && expNumber === undefined)\n                invalidErr(representation, 'missing exponent power');\n            if (e && unsignedNumber === undefined)\n                invalidErr(representation, 'missing exponent base');\n            if (e === undefined && (expSign || expNumber)) {\n                invalidErr(representation, 'missing e before exponent');\n            }\n        }\n        if (representation[index] === '+' || representation[index] === '-') {\n            isNegative = representation[index++] === '-';\n        }\n        if (!isDigit(representation[index]) && representation[index] !== '.') {\n            if (representation[index] === 'i' || representation[index] === 'I') {\n                return new Decimal128(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER);\n            }\n            else if (representation[index] === 'N') {\n                return new Decimal128(NAN_BUFFER);\n            }\n        }\n        while (isDigit(representation[index]) || representation[index] === '.') {\n            if (representation[index] === '.') {\n                if (sawRadix)\n                    invalidErr(representation, 'contains multiple periods');\n                sawRadix = true;\n                index = index + 1;\n                continue;\n            }\n            if (nDigitsStored < 34) {\n                if (representation[index] !== '0' || foundNonZero) {\n                    if (!foundNonZero) {\n                        firstNonZero = nDigitsRead;\n                    }\n                    foundNonZero = true;\n                    digits[digitsInsert++] = parseInt(representation[index], 10);\n                    nDigitsStored = nDigitsStored + 1;\n                }\n            }\n            if (foundNonZero)\n                nDigits = nDigits + 1;\n            if (sawRadix)\n                radixPosition = radixPosition + 1;\n            nDigitsRead = nDigitsRead + 1;\n            index = index + 1;\n        }\n        if (sawRadix && !nDigitsRead)\n            throw new BSONError('' + representation + ' not a valid Decimal128 string');\n        if (representation[index] === 'e' || representation[index] === 'E') {\n            const match = representation.substr(++index).match(EXPONENT_REGEX);\n            if (!match || !match[2])\n                return new Decimal128(NAN_BUFFER);\n            exponent = parseInt(match[0], 10);\n            index = index + match[0].length;\n        }\n        if (representation[index])\n            return new Decimal128(NAN_BUFFER);\n        firstDigit = 0;\n        if (!nDigitsStored) {\n            firstDigit = 0;\n            lastDigit = 0;\n            digits[0] = 0;\n            nDigits = 1;\n            nDigitsStored = 1;\n            significantDigits = 0;\n        }\n        else {\n            lastDigit = nDigitsStored - 1;\n            significantDigits = nDigits;\n            if (significantDigits !== 1) {\n                while (digits[firstNonZero + significantDigits - 1] === 0) {\n                    significantDigits = significantDigits - 1;\n                }\n            }\n        }\n        if (exponent <= radixPosition && radixPosition - exponent > 1 << 14) {\n            exponent = EXPONENT_MIN;\n        }\n        else {\n            exponent = exponent - radixPosition;\n        }\n        while (exponent > EXPONENT_MAX) {\n            lastDigit = lastDigit + 1;\n            if (lastDigit - firstDigit > MAX_DIGITS) {\n                const digitsString = digits.join('');\n                if (digitsString.match(/^0+$/)) {\n                    exponent = EXPONENT_MAX;\n                    break;\n                }\n                invalidErr(representation, 'overflow');\n            }\n            exponent = exponent - 1;\n        }\n        while (exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n            if (lastDigit === 0 && significantDigits < nDigitsStored) {\n                exponent = EXPONENT_MIN;\n                significantDigits = 0;\n                break;\n            }\n            if (nDigitsStored < nDigits) {\n                nDigits = nDigits - 1;\n            }\n            else {\n                lastDigit = lastDigit - 1;\n            }\n            if (exponent < EXPONENT_MAX) {\n                exponent = exponent + 1;\n            }\n            else {\n                const digitsString = digits.join('');\n                if (digitsString.match(/^0+$/)) {\n                    exponent = EXPONENT_MAX;\n                    break;\n                }\n                invalidErr(representation, 'overflow');\n            }\n        }\n        if (lastDigit - firstDigit + 1 < significantDigits) {\n            let endOfString = nDigitsRead;\n            if (sawRadix) {\n                firstNonZero = firstNonZero + 1;\n                endOfString = endOfString + 1;\n            }\n            if (isNegative) {\n                firstNonZero = firstNonZero + 1;\n                endOfString = endOfString + 1;\n            }\n            const roundDigit = parseInt(representation[firstNonZero + lastDigit + 1], 10);\n            let roundBit = 0;\n            if (roundDigit >= 5) {\n                roundBit = 1;\n                if (roundDigit === 5) {\n                    roundBit = digits[lastDigit] % 2 === 1 ? 1 : 0;\n                    for (i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n                        if (parseInt(representation[i], 10)) {\n                            roundBit = 1;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (roundBit) {\n                let dIdx = lastDigit;\n                for (; dIdx >= 0; dIdx--) {\n                    if (++digits[dIdx] > 9) {\n                        digits[dIdx] = 0;\n                        if (dIdx === 0) {\n                            if (exponent < EXPONENT_MAX) {\n                                exponent = exponent + 1;\n                                digits[dIdx] = 1;\n                            }\n                            else {\n                                return new Decimal128(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        significandHigh = Long.fromNumber(0);\n        significandLow = Long.fromNumber(0);\n        if (significantDigits === 0) {\n            significandHigh = Long.fromNumber(0);\n            significandLow = Long.fromNumber(0);\n        }\n        else if (lastDigit - firstDigit < 17) {\n            let dIdx = firstDigit;\n            significandLow = Long.fromNumber(digits[dIdx++]);\n            significandHigh = new Long(0, 0);\n            for (; dIdx <= lastDigit; dIdx++) {\n                significandLow = significandLow.multiply(Long.fromNumber(10));\n                significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n            }\n        }\n        else {\n            let dIdx = firstDigit;\n            significandHigh = Long.fromNumber(digits[dIdx++]);\n            for (; dIdx <= lastDigit - 17; dIdx++) {\n                significandHigh = significandHigh.multiply(Long.fromNumber(10));\n                significandHigh = significandHigh.add(Long.fromNumber(digits[dIdx]));\n            }\n            significandLow = Long.fromNumber(digits[dIdx++]);\n            for (; dIdx <= lastDigit; dIdx++) {\n                significandLow = significandLow.multiply(Long.fromNumber(10));\n                significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n            }\n        }\n        const significand = multiply64x2(significandHigh, Long.fromString('100000000000000000'));\n        significand.low = significand.low.add(significandLow);\n        if (lessThan(significand.low, significandLow)) {\n            significand.high = significand.high.add(Long.fromNumber(1));\n        }\n        biasedExponent = exponent + EXPONENT_BIAS;\n        const dec = { low: Long.fromNumber(0), high: Long.fromNumber(0) };\n        if (significand.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber(1))) {\n            dec.high = dec.high.or(Long.fromNumber(0x3).shiftLeft(61));\n            dec.high = dec.high.or(Long.fromNumber(biasedExponent).and(Long.fromNumber(0x3fff).shiftLeft(47)));\n            dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x7fffffffffff)));\n        }\n        else {\n            dec.high = dec.high.or(Long.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n            dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x1ffffffffffff)));\n        }\n        dec.low = significand.low;\n        if (isNegative) {\n            dec.high = dec.high.or(Long.fromString('9223372036854775808'));\n        }\n        const buffer = ByteUtils.allocate(16);\n        index = 0;\n        buffer[index++] = dec.low.low & 0xff;\n        buffer[index++] = (dec.low.low >> 8) & 0xff;\n        buffer[index++] = (dec.low.low >> 16) & 0xff;\n        buffer[index++] = (dec.low.low >> 24) & 0xff;\n        buffer[index++] = dec.low.high & 0xff;\n        buffer[index++] = (dec.low.high >> 8) & 0xff;\n        buffer[index++] = (dec.low.high >> 16) & 0xff;\n        buffer[index++] = (dec.low.high >> 24) & 0xff;\n        buffer[index++] = dec.high.low & 0xff;\n        buffer[index++] = (dec.high.low >> 8) & 0xff;\n        buffer[index++] = (dec.high.low >> 16) & 0xff;\n        buffer[index++] = (dec.high.low >> 24) & 0xff;\n        buffer[index++] = dec.high.high & 0xff;\n        buffer[index++] = (dec.high.high >> 8) & 0xff;\n        buffer[index++] = (dec.high.high >> 16) & 0xff;\n        buffer[index++] = (dec.high.high >> 24) & 0xff;\n        return new Decimal128(buffer);\n    }\n    toString() {\n        let biased_exponent;\n        let significand_digits = 0;\n        const significand = new Array(36);\n        for (let i = 0; i < significand.length; i++)\n            significand[i] = 0;\n        let index = 0;\n        let is_zero = false;\n        let significand_msb;\n        let significand128 = { parts: [0, 0, 0, 0] };\n        let j, k;\n        const string = [];\n        index = 0;\n        const buffer = this.bytes;\n        const low = buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n        const midl = buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n        const midh = buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n        const high = buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n        index = 0;\n        const dec = {\n            low: new Long(low, midl),\n            high: new Long(midh, high)\n        };\n        if (dec.high.lessThan(Long.ZERO)) {\n            string.push('-');\n        }\n        const combination = (high >> 26) & COMBINATION_MASK;\n        if (combination >> 3 === 3) {\n            if (combination === COMBINATION_INFINITY) {\n                return string.join('') + 'Infinity';\n            }\n            else if (combination === COMBINATION_NAN) {\n                return 'NaN';\n            }\n            else {\n                biased_exponent = (high >> 15) & EXPONENT_MASK;\n                significand_msb = 0x08 + ((high >> 14) & 0x01);\n            }\n        }\n        else {\n            significand_msb = (high >> 14) & 0x07;\n            biased_exponent = (high >> 17) & EXPONENT_MASK;\n        }\n        const exponent = biased_exponent - EXPONENT_BIAS;\n        significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n        significand128.parts[1] = midh;\n        significand128.parts[2] = midl;\n        significand128.parts[3] = low;\n        if (significand128.parts[0] === 0 &&\n            significand128.parts[1] === 0 &&\n            significand128.parts[2] === 0 &&\n            significand128.parts[3] === 0) {\n            is_zero = true;\n        }\n        else {\n            for (k = 3; k >= 0; k--) {\n                let least_digits = 0;\n                const result = divideu128(significand128);\n                significand128 = result.quotient;\n                least_digits = result.rem.low;\n                if (!least_digits)\n                    continue;\n                for (j = 8; j >= 0; j--) {\n                    significand[k * 9 + j] = least_digits % 10;\n                    least_digits = Math.floor(least_digits / 10);\n                }\n            }\n        }\n        if (is_zero) {\n            significand_digits = 1;\n            significand[index] = 0;\n        }\n        else {\n            significand_digits = 36;\n            while (!significand[index]) {\n                significand_digits = significand_digits - 1;\n                index = index + 1;\n            }\n        }\n        const scientific_exponent = significand_digits - 1 + exponent;\n        if (scientific_exponent >= 34 || scientific_exponent <= -7 || exponent > 0) {\n            if (significand_digits > 34) {\n                string.push(`${0}`);\n                if (exponent > 0)\n                    string.push(`E+${exponent}`);\n                else if (exponent < 0)\n                    string.push(`E${exponent}`);\n                return string.join('');\n            }\n            string.push(`${significand[index++]}`);\n            significand_digits = significand_digits - 1;\n            if (significand_digits) {\n                string.push('.');\n            }\n            for (let i = 0; i < significand_digits; i++) {\n                string.push(`${significand[index++]}`);\n            }\n            string.push('E');\n            if (scientific_exponent > 0) {\n                string.push(`+${scientific_exponent}`);\n            }\n            else {\n                string.push(`${scientific_exponent}`);\n            }\n        }\n        else {\n            if (exponent >= 0) {\n                for (let i = 0; i < significand_digits; i++) {\n                    string.push(`${significand[index++]}`);\n                }\n            }\n            else {\n                let radix_position = significand_digits + exponent;\n                if (radix_position > 0) {\n                    for (let i = 0; i < radix_position; i++) {\n                        string.push(`${significand[index++]}`);\n                    }\n                }\n                else {\n                    string.push('0');\n                }\n                string.push('.');\n                while (radix_position++ < 0) {\n                    string.push('0');\n                }\n                for (let i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n                    string.push(`${significand[index++]}`);\n                }\n            }\n        }\n        return string.join('');\n    }\n    toJSON() {\n        return { $numberDecimal: this.toString() };\n    }\n    toExtendedJSON() {\n        return { $numberDecimal: this.toString() };\n    }\n    static fromExtendedJSON(doc) {\n        return Decimal128.fromString(doc.$numberDecimal);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new Decimal128(\"${this.toString()}\")`;\n    }\n}\n\nclass Double extends BSONValue {\n    get _bsontype() {\n        return 'Double';\n    }\n    constructor(value) {\n        super();\n        if (value instanceof Number) {\n            value = value.valueOf();\n        }\n        this.value = +value;\n    }\n    valueOf() {\n        return this.value;\n    }\n    toJSON() {\n        return this.value;\n    }\n    toString(radix) {\n        return this.value.toString(radix);\n    }\n    toExtendedJSON(options) {\n        if (options && (options.legacy || (options.relaxed && isFinite(this.value)))) {\n            return this.value;\n        }\n        if (Object.is(Math.sign(this.value), -0)) {\n            return { $numberDouble: '-0.0' };\n        }\n        return {\n            $numberDouble: Number.isInteger(this.value) ? this.value.toFixed(1) : this.value.toString()\n        };\n    }\n    static fromExtendedJSON(doc, options) {\n        const doubleValue = parseFloat(doc.$numberDouble);\n        return options && options.relaxed ? doubleValue : new Double(doubleValue);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        const eJSON = this.toExtendedJSON();\n        return `new Double(${eJSON.$numberDouble})`;\n    }\n}\n\nclass Int32 extends BSONValue {\n    get _bsontype() {\n        return 'Int32';\n    }\n    constructor(value) {\n        super();\n        if (value instanceof Number) {\n            value = value.valueOf();\n        }\n        this.value = +value | 0;\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString(radix) {\n        return this.value.toString(radix);\n    }\n    toJSON() {\n        return this.value;\n    }\n    toExtendedJSON(options) {\n        if (options && (options.relaxed || options.legacy))\n            return this.value;\n        return { $numberInt: this.value.toString() };\n    }\n    static fromExtendedJSON(doc, options) {\n        return options && options.relaxed ? parseInt(doc.$numberInt, 10) : new Int32(doc.$numberInt);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new Int32(${this.valueOf()})`;\n    }\n}\n\nclass MaxKey extends BSONValue {\n    get _bsontype() {\n        return 'MaxKey';\n    }\n    toExtendedJSON() {\n        return { $maxKey: 1 };\n    }\n    static fromExtendedJSON() {\n        return new MaxKey();\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return 'new MaxKey()';\n    }\n}\n\nclass MinKey extends BSONValue {\n    get _bsontype() {\n        return 'MinKey';\n    }\n    toExtendedJSON() {\n        return { $minKey: 1 };\n    }\n    static fromExtendedJSON() {\n        return new MinKey();\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return 'new MinKey()';\n    }\n}\n\nconst checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\nlet PROCESS_UNIQUE = null;\nconst kId = Symbol('id');\nclass ObjectId extends BSONValue {\n    get _bsontype() {\n        return 'ObjectId';\n    }\n    constructor(inputId) {\n        super();\n        let workingId;\n        if (typeof inputId === 'object' && inputId && 'id' in inputId) {\n            if (typeof inputId.id !== 'string' && !ArrayBuffer.isView(inputId.id)) {\n                throw new BSONError('Argument passed in must have an id that is of type string or Buffer');\n            }\n            if ('toHexString' in inputId && typeof inputId.toHexString === 'function') {\n                workingId = ByteUtils.fromHex(inputId.toHexString());\n            }\n            else {\n                workingId = inputId.id;\n            }\n        }\n        else {\n            workingId = inputId;\n        }\n        if (workingId == null || typeof workingId === 'number') {\n            this[kId] = ObjectId.generate(typeof workingId === 'number' ? workingId : undefined);\n        }\n        else if (ArrayBuffer.isView(workingId) && workingId.byteLength === 12) {\n            this[kId] = ByteUtils.toLocalBufferType(workingId);\n        }\n        else if (typeof workingId === 'string') {\n            if (workingId.length === 12) {\n                const bytes = ByteUtils.fromUTF8(workingId);\n                if (bytes.byteLength === 12) {\n                    this[kId] = bytes;\n                }\n                else {\n                    throw new BSONError('Argument passed in must be a string of 12 bytes');\n                }\n            }\n            else if (workingId.length === 24 && checkForHexRegExp.test(workingId)) {\n                this[kId] = ByteUtils.fromHex(workingId);\n            }\n            else {\n                throw new BSONError('Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer');\n            }\n        }\n        else {\n            throw new BSONError('Argument passed in does not match the accepted types');\n        }\n        if (ObjectId.cacheHexString) {\n            this.__id = ByteUtils.toHex(this.id);\n        }\n    }\n    get id() {\n        return this[kId];\n    }\n    set id(value) {\n        this[kId] = value;\n        if (ObjectId.cacheHexString) {\n            this.__id = ByteUtils.toHex(value);\n        }\n    }\n    toHexString() {\n        if (ObjectId.cacheHexString && this.__id) {\n            return this.__id;\n        }\n        const hexString = ByteUtils.toHex(this.id);\n        if (ObjectId.cacheHexString && !this.__id) {\n            this.__id = hexString;\n        }\n        return hexString;\n    }\n    static getInc() {\n        return (ObjectId.index = (ObjectId.index + 1) % 0xffffff);\n    }\n    static generate(time) {\n        if ('number' !== typeof time) {\n            time = Math.floor(Date.now() / 1000);\n        }\n        const inc = ObjectId.getInc();\n        const buffer = ByteUtils.allocate(12);\n        BSONDataView.fromUint8Array(buffer).setUint32(0, time, false);\n        if (PROCESS_UNIQUE === null) {\n            PROCESS_UNIQUE = ByteUtils.randomBytes(5);\n        }\n        buffer[4] = PROCESS_UNIQUE[0];\n        buffer[5] = PROCESS_UNIQUE[1];\n        buffer[6] = PROCESS_UNIQUE[2];\n        buffer[7] = PROCESS_UNIQUE[3];\n        buffer[8] = PROCESS_UNIQUE[4];\n        buffer[11] = inc & 0xff;\n        buffer[10] = (inc >> 8) & 0xff;\n        buffer[9] = (inc >> 16) & 0xff;\n        return buffer;\n    }\n    toString(encoding) {\n        if (encoding === 'base64')\n            return ByteUtils.toBase64(this.id);\n        if (encoding === 'hex')\n            return this.toHexString();\n        return this.toHexString();\n    }\n    toJSON() {\n        return this.toHexString();\n    }\n    equals(otherId) {\n        if (otherId === undefined || otherId === null) {\n            return false;\n        }\n        if (otherId instanceof ObjectId) {\n            return this[kId][11] === otherId[kId][11] && ByteUtils.equals(this[kId], otherId[kId]);\n        }\n        if (typeof otherId === 'string' &&\n            ObjectId.isValid(otherId) &&\n            otherId.length === 12 &&\n            isUint8Array(this.id)) {\n            return ByteUtils.equals(this.id, ByteUtils.fromISO88591(otherId));\n        }\n        if (typeof otherId === 'string' && ObjectId.isValid(otherId) && otherId.length === 24) {\n            return otherId.toLowerCase() === this.toHexString();\n        }\n        if (typeof otherId === 'string' && ObjectId.isValid(otherId) && otherId.length === 12) {\n            return ByteUtils.equals(ByteUtils.fromUTF8(otherId), this.id);\n        }\n        if (typeof otherId === 'object' &&\n            'toHexString' in otherId &&\n            typeof otherId.toHexString === 'function') {\n            const otherIdString = otherId.toHexString();\n            const thisIdString = this.toHexString().toLowerCase();\n            return typeof otherIdString === 'string' && otherIdString.toLowerCase() === thisIdString;\n        }\n        return false;\n    }\n    getTimestamp() {\n        const timestamp = new Date();\n        const time = BSONDataView.fromUint8Array(this.id).getUint32(0, false);\n        timestamp.setTime(Math.floor(time) * 1000);\n        return timestamp;\n    }\n    static createPk() {\n        return new ObjectId();\n    }\n    static createFromTime(time) {\n        const buffer = ByteUtils.fromNumberArray([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n        BSONDataView.fromUint8Array(buffer).setUint32(0, time, false);\n        return new ObjectId(buffer);\n    }\n    static createFromHexString(hexString) {\n        if (typeof hexString === 'undefined' || (hexString != null && hexString.length !== 24)) {\n            throw new BSONError('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n        }\n        return new ObjectId(ByteUtils.fromHex(hexString));\n    }\n    static isValid(id) {\n        if (id == null)\n            return false;\n        try {\n            new ObjectId(id);\n            return true;\n        }\n        catch {\n            return false;\n        }\n    }\n    toExtendedJSON() {\n        if (this.toHexString)\n            return { $oid: this.toHexString() };\n        return { $oid: this.toString('hex') };\n    }\n    static fromExtendedJSON(doc) {\n        return new ObjectId(doc.$oid);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new ObjectId(\"${this.toHexString()}\")`;\n    }\n}\nObjectId.index = Math.floor(Math.random() * 0xffffff);\n\nfunction internalCalculateObjectSize(object, serializeFunctions, ignoreUndefined) {\n    let totalLength = 4 + 1;\n    if (Array.isArray(object)) {\n        for (let i = 0; i < object.length; i++) {\n            totalLength += calculateElement(i.toString(), object[i], serializeFunctions, true, ignoreUndefined);\n        }\n    }\n    else {\n        if (typeof object?.toBSON === 'function') {\n            object = object.toBSON();\n        }\n        for (const key of Object.keys(object)) {\n            totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined);\n        }\n    }\n    return totalLength;\n}\nfunction calculateElement(name, value, serializeFunctions = false, isArray = false, ignoreUndefined = false) {\n    if (typeof value?.toBSON === 'function') {\n        value = value.toBSON();\n    }\n    switch (typeof value) {\n        case 'string':\n            return 1 + ByteUtils.utf8ByteLength(name) + 1 + 4 + ByteUtils.utf8ByteLength(value) + 1;\n        case 'number':\n            if (Math.floor(value) === value &&\n                value >= JS_INT_MIN &&\n                value <= JS_INT_MAX) {\n                if (value >= BSON_INT32_MIN && value <= BSON_INT32_MAX) {\n                    return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (4 + 1);\n                }\n                else {\n                    return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (8 + 1);\n                }\n            }\n            else {\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (8 + 1);\n            }\n        case 'undefined':\n            if (isArray || !ignoreUndefined)\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + 1;\n            return 0;\n        case 'boolean':\n            return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (1 + 1);\n        case 'object':\n            if (value != null &&\n                typeof value._bsontype === 'string' &&\n                value[Symbol.for('@@mdb.bson.version')] !== BSON_MAJOR_VERSION) {\n                throw new BSONVersionError();\n            }\n            else if (value == null || value._bsontype === 'MinKey' || value._bsontype === 'MaxKey') {\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + 1;\n            }\n            else if (value._bsontype === 'ObjectId') {\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (12 + 1);\n            }\n            else if (value instanceof Date || isDate(value)) {\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (8 + 1);\n            }\n            else if (ArrayBuffer.isView(value) ||\n                value instanceof ArrayBuffer ||\n                isAnyArrayBuffer(value)) {\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (1 + 4 + 1) + value.byteLength);\n            }\n            else if (value._bsontype === 'Long' ||\n                value._bsontype === 'Double' ||\n                value._bsontype === 'Timestamp') {\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (8 + 1);\n            }\n            else if (value._bsontype === 'Decimal128') {\n                return (name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (16 + 1);\n            }\n            else if (value._bsontype === 'Code') {\n                if (value.scope != null && Object.keys(value.scope).length > 0) {\n                    return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                        1 +\n                        4 +\n                        4 +\n                        ByteUtils.utf8ByteLength(value.code.toString()) +\n                        1 +\n                        internalCalculateObjectSize(value.scope, serializeFunctions, ignoreUndefined));\n                }\n                else {\n                    return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                        1 +\n                        4 +\n                        ByteUtils.utf8ByteLength(value.code.toString()) +\n                        1);\n                }\n            }\n            else if (value._bsontype === 'Binary') {\n                const binary = value;\n                if (binary.sub_type === Binary.SUBTYPE_BYTE_ARRAY) {\n                    return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                        (binary.position + 1 + 4 + 1 + 4));\n                }\n                else {\n                    return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) + (binary.position + 1 + 4 + 1));\n                }\n            }\n            else if (value._bsontype === 'Symbol') {\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                    ByteUtils.utf8ByteLength(value.value) +\n                    4 +\n                    1 +\n                    1);\n            }\n            else if (value._bsontype === 'DBRef') {\n                const ordered_values = Object.assign({\n                    $ref: value.collection,\n                    $id: value.oid\n                }, value.fields);\n                if (value.db != null) {\n                    ordered_values['$db'] = value.db;\n                }\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                    1 +\n                    internalCalculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined));\n            }\n            else if (value instanceof RegExp || isRegExp(value)) {\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                    1 +\n                    ByteUtils.utf8ByteLength(value.source) +\n                    1 +\n                    (value.global ? 1 : 0) +\n                    (value.ignoreCase ? 1 : 0) +\n                    (value.multiline ? 1 : 0) +\n                    1);\n            }\n            else if (value._bsontype === 'BSONRegExp') {\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                    1 +\n                    ByteUtils.utf8ByteLength(value.pattern) +\n                    1 +\n                    ByteUtils.utf8ByteLength(value.options) +\n                    1);\n            }\n            else {\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                    internalCalculateObjectSize(value, serializeFunctions, ignoreUndefined) +\n                    1);\n            }\n        case 'function':\n            if (serializeFunctions) {\n                return ((name != null ? ByteUtils.utf8ByteLength(name) + 1 : 0) +\n                    1 +\n                    4 +\n                    ByteUtils.utf8ByteLength(value.toString()) +\n                    1);\n            }\n    }\n    return 0;\n}\n\nfunction alphabetize(str) {\n    return str.split('').sort().join('');\n}\nclass BSONRegExp extends BSONValue {\n    get _bsontype() {\n        return 'BSONRegExp';\n    }\n    constructor(pattern, options) {\n        super();\n        this.pattern = pattern;\n        this.options = alphabetize(options ?? '');\n        if (this.pattern.indexOf('\\x00') !== -1) {\n            throw new BSONError(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);\n        }\n        if (this.options.indexOf('\\x00') !== -1) {\n            throw new BSONError(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);\n        }\n        for (let i = 0; i < this.options.length; i++) {\n            if (!(this.options[i] === 'i' ||\n                this.options[i] === 'm' ||\n                this.options[i] === 'x' ||\n                this.options[i] === 'l' ||\n                this.options[i] === 's' ||\n                this.options[i] === 'u')) {\n                throw new BSONError(`The regular expression option [${this.options[i]}] is not supported`);\n            }\n        }\n    }\n    static parseOptions(options) {\n        return options ? options.split('').sort().join('') : '';\n    }\n    toExtendedJSON(options) {\n        options = options || {};\n        if (options.legacy) {\n            return { $regex: this.pattern, $options: this.options };\n        }\n        return { $regularExpression: { pattern: this.pattern, options: this.options } };\n    }\n    static fromExtendedJSON(doc) {\n        if ('$regex' in doc) {\n            if (typeof doc.$regex !== 'string') {\n                if (doc.$regex._bsontype === 'BSONRegExp') {\n                    return doc;\n                }\n            }\n            else {\n                return new BSONRegExp(doc.$regex, BSONRegExp.parseOptions(doc.$options));\n            }\n        }\n        if ('$regularExpression' in doc) {\n            return new BSONRegExp(doc.$regularExpression.pattern, BSONRegExp.parseOptions(doc.$regularExpression.options));\n        }\n        throw new BSONError(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(doc)}`);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new BSONRegExp(${JSON.stringify(this.pattern)}, ${JSON.stringify(this.options)})`;\n    }\n}\n\nclass BSONSymbol extends BSONValue {\n    get _bsontype() {\n        return 'BSONSymbol';\n    }\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n    valueOf() {\n        return this.value;\n    }\n    toString() {\n        return this.value;\n    }\n    inspect() {\n        return `new BSONSymbol(\"${this.value}\")`;\n    }\n    toJSON() {\n        return this.value;\n    }\n    toExtendedJSON() {\n        return { $symbol: this.value };\n    }\n    static fromExtendedJSON(doc) {\n        return new BSONSymbol(doc.$symbol);\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n}\n\nconst LongWithoutOverridesClass = Long;\nclass Timestamp extends LongWithoutOverridesClass {\n    get _bsontype() {\n        return 'Timestamp';\n    }\n    constructor(low) {\n        if (low == null) {\n            super(0, 0, true);\n        }\n        else if (typeof low === 'bigint') {\n            super(low, true);\n        }\n        else if (Long.isLong(low)) {\n            super(low.low, low.high, true);\n        }\n        else if (typeof low === 'object' && 't' in low && 'i' in low) {\n            if (typeof low.t !== 'number' && (typeof low.t !== 'object' || low.t._bsontype !== 'Int32')) {\n                throw new BSONError('Timestamp constructed from { t, i } must provide t as a number');\n            }\n            if (typeof low.i !== 'number' && (typeof low.i !== 'object' || low.i._bsontype !== 'Int32')) {\n                throw new BSONError('Timestamp constructed from { t, i } must provide i as a number');\n            }\n            if (low.t < 0) {\n                throw new BSONError('Timestamp constructed from { t, i } must provide a positive t');\n            }\n            if (low.i < 0) {\n                throw new BSONError('Timestamp constructed from { t, i } must provide a positive i');\n            }\n            if (low.t > 4294967295) {\n                throw new BSONError('Timestamp constructed from { t, i } must provide t equal or less than uint32 max');\n            }\n            if (low.i > 4294967295) {\n                throw new BSONError('Timestamp constructed from { t, i } must provide i equal or less than uint32 max');\n            }\n            super(low.i.valueOf(), low.t.valueOf(), true);\n        }\n        else {\n            throw new BSONError('A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }');\n        }\n    }\n    toJSON() {\n        return {\n            $timestamp: this.toString()\n        };\n    }\n    static fromInt(value) {\n        return new Timestamp(Long.fromInt(value, true));\n    }\n    static fromNumber(value) {\n        return new Timestamp(Long.fromNumber(value, true));\n    }\n    static fromBits(lowBits, highBits) {\n        return new Timestamp({ i: lowBits, t: highBits });\n    }\n    static fromString(str, optRadix) {\n        return new Timestamp(Long.fromString(str, true, optRadix));\n    }\n    toExtendedJSON() {\n        return { $timestamp: { t: this.high >>> 0, i: this.low >>> 0 } };\n    }\n    static fromExtendedJSON(doc) {\n        const i = Long.isLong(doc.$timestamp.i)\n            ? doc.$timestamp.i.getLowBitsUnsigned()\n            : doc.$timestamp.i;\n        const t = Long.isLong(doc.$timestamp.t)\n            ? doc.$timestamp.t.getLowBitsUnsigned()\n            : doc.$timestamp.t;\n        return new Timestamp({ t, i });\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.inspect();\n    }\n    inspect() {\n        return `new Timestamp({ t: ${this.getHighBits()}, i: ${this.getLowBits()} })`;\n    }\n}\nTimestamp.MAX_VALUE = Long.MAX_UNSIGNED_VALUE;\n\nconst FIRST_BIT = 0x80;\nconst FIRST_TWO_BITS = 0xc0;\nconst FIRST_THREE_BITS = 0xe0;\nconst FIRST_FOUR_BITS = 0xf0;\nconst FIRST_FIVE_BITS = 0xf8;\nconst TWO_BIT_CHAR = 0xc0;\nconst THREE_BIT_CHAR = 0xe0;\nconst FOUR_BIT_CHAR = 0xf0;\nconst CONTINUING_CHAR = 0x80;\nfunction validateUtf8(bytes, start, end) {\n    let continuation = 0;\n    for (let i = start; i < end; i += 1) {\n        const byte = bytes[i];\n        if (continuation) {\n            if ((byte & FIRST_TWO_BITS) !== CONTINUING_CHAR) {\n                return false;\n            }\n            continuation -= 1;\n        }\n        else if (byte & FIRST_BIT) {\n            if ((byte & FIRST_THREE_BITS) === TWO_BIT_CHAR) {\n                continuation = 1;\n            }\n            else if ((byte & FIRST_FOUR_BITS) === THREE_BIT_CHAR) {\n                continuation = 2;\n            }\n            else if ((byte & FIRST_FIVE_BITS) === FOUR_BIT_CHAR) {\n                continuation = 3;\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    return !continuation;\n}\n\nconst JS_INT_MAX_LONG = Long.fromNumber(JS_INT_MAX);\nconst JS_INT_MIN_LONG = Long.fromNumber(JS_INT_MIN);\nfunction internalDeserialize(buffer, options, isArray) {\n    options = options == null ? {} : options;\n    const index = options && options.index ? options.index : 0;\n    const size = buffer[index] |\n        (buffer[index + 1] << 8) |\n        (buffer[index + 2] << 16) |\n        (buffer[index + 3] << 24);\n    if (size < 5) {\n        throw new BSONError(`bson size must be >= 5, is ${size}`);\n    }\n    if (options.allowObjectSmallerThanBufferSize && buffer.length < size) {\n        throw new BSONError(`buffer length ${buffer.length} must be >= bson size ${size}`);\n    }\n    if (!options.allowObjectSmallerThanBufferSize && buffer.length !== size) {\n        throw new BSONError(`buffer length ${buffer.length} must === bson size ${size}`);\n    }\n    if (size + index > buffer.byteLength) {\n        throw new BSONError(`(bson size ${size} + options.index ${index} must be <= buffer length ${buffer.byteLength})`);\n    }\n    if (buffer[index + size - 1] !== 0) {\n        throw new BSONError(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n    }\n    return deserializeObject(buffer, index, options, isArray);\n}\nconst allowedDBRefKeys = /^\\$ref$|^\\$id$|^\\$db$/;\nfunction deserializeObject(buffer, index, options, isArray = false) {\n    const fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];\n    const raw = options['raw'] == null ? false : options['raw'];\n    const bsonRegExp = typeof options['bsonRegExp'] === 'boolean' ? options['bsonRegExp'] : false;\n    const promoteBuffers = options.promoteBuffers ?? false;\n    const promoteLongs = options.promoteLongs ?? true;\n    const promoteValues = options.promoteValues ?? true;\n    const useBigInt64 = options.useBigInt64 ?? false;\n    if (useBigInt64 && !promoteValues) {\n        throw new BSONError('Must either request bigint or Long for int64 deserialization');\n    }\n    if (useBigInt64 && !promoteLongs) {\n        throw new BSONError('Must either request bigint or Long for int64 deserialization');\n    }\n    const validation = options.validation == null ? { utf8: true } : options.validation;\n    let globalUTFValidation = true;\n    let validationSetting;\n    const utf8KeysSet = new Set();\n    const utf8ValidatedKeys = validation.utf8;\n    if (typeof utf8ValidatedKeys === 'boolean') {\n        validationSetting = utf8ValidatedKeys;\n    }\n    else {\n        globalUTFValidation = false;\n        const utf8ValidationValues = Object.keys(utf8ValidatedKeys).map(function (key) {\n            return utf8ValidatedKeys[key];\n        });\n        if (utf8ValidationValues.length === 0) {\n            throw new BSONError('UTF-8 validation setting cannot be empty');\n        }\n        if (typeof utf8ValidationValues[0] !== 'boolean') {\n            throw new BSONError('Invalid UTF-8 validation option, must specify boolean values');\n        }\n        validationSetting = utf8ValidationValues[0];\n        if (!utf8ValidationValues.every(item => item === validationSetting)) {\n            throw new BSONError('Invalid UTF-8 validation option - keys must be all true or all false');\n        }\n    }\n    if (!globalUTFValidation) {\n        for (const key of Object.keys(utf8ValidatedKeys)) {\n            utf8KeysSet.add(key);\n        }\n    }\n    const startIndex = index;\n    if (buffer.length < 5)\n        throw new BSONError('corrupt bson message < 5 bytes long');\n    const size = buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n    if (size < 5 || size > buffer.length)\n        throw new BSONError('corrupt bson message');\n    const object = isArray ? [] : {};\n    let arrayIndex = 0;\n    const done = false;\n    let isPossibleDBRef = isArray ? false : null;\n    const dataview = new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    while (!done) {\n        const elementType = buffer[index++];\n        if (elementType === 0)\n            break;\n        let i = index;\n        while (buffer[i] !== 0x00 && i < buffer.length) {\n            i++;\n        }\n        if (i >= buffer.byteLength)\n            throw new BSONError('Bad BSON Document: illegal CString');\n        const name = isArray ? arrayIndex++ : ByteUtils.toUTF8(buffer.subarray(index, i));\n        let shouldValidateKey = true;\n        if (globalUTFValidation || utf8KeysSet.has(name)) {\n            shouldValidateKey = validationSetting;\n        }\n        else {\n            shouldValidateKey = !validationSetting;\n        }\n        if (isPossibleDBRef !== false && name[0] === '$') {\n            isPossibleDBRef = allowedDBRefKeys.test(name);\n        }\n        let value;\n        index = i + 1;\n        if (elementType === BSON_DATA_STRING) {\n            const stringSize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            if (stringSize <= 0 ||\n                stringSize > buffer.length - index ||\n                buffer[index + stringSize - 1] !== 0) {\n                throw new BSONError('bad string length in bson');\n            }\n            value = getValidatedString(buffer, index, index + stringSize - 1, shouldValidateKey);\n            index = index + stringSize;\n        }\n        else if (elementType === BSON_DATA_OID) {\n            const oid = ByteUtils.allocate(12);\n            oid.set(buffer.subarray(index, index + 12));\n            value = new ObjectId(oid);\n            index = index + 12;\n        }\n        else if (elementType === BSON_DATA_INT && promoteValues === false) {\n            value = new Int32(buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24));\n        }\n        else if (elementType === BSON_DATA_INT) {\n            value =\n                buffer[index++] |\n                    (buffer[index++] << 8) |\n                    (buffer[index++] << 16) |\n                    (buffer[index++] << 24);\n        }\n        else if (elementType === BSON_DATA_NUMBER && promoteValues === false) {\n            value = new Double(dataview.getFloat64(index, true));\n            index = index + 8;\n        }\n        else if (elementType === BSON_DATA_NUMBER) {\n            value = dataview.getFloat64(index, true);\n            index = index + 8;\n        }\n        else if (elementType === BSON_DATA_DATE) {\n            const lowBits = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            const highBits = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            value = new Date(new Long(lowBits, highBits).toNumber());\n        }\n        else if (elementType === BSON_DATA_BOOLEAN) {\n            if (buffer[index] !== 0 && buffer[index] !== 1)\n                throw new BSONError('illegal boolean type value');\n            value = buffer[index++] === 1;\n        }\n        else if (elementType === BSON_DATA_OBJECT) {\n            const _index = index;\n            const objectSize = buffer[index] |\n                (buffer[index + 1] << 8) |\n                (buffer[index + 2] << 16) |\n                (buffer[index + 3] << 24);\n            if (objectSize <= 0 || objectSize > buffer.length - index)\n                throw new BSONError('bad embedded document length in bson');\n            if (raw) {\n                value = buffer.slice(index, index + objectSize);\n            }\n            else {\n                let objectOptions = options;\n                if (!globalUTFValidation) {\n                    objectOptions = { ...options, validation: { utf8: shouldValidateKey } };\n                }\n                value = deserializeObject(buffer, _index, objectOptions, false);\n            }\n            index = index + objectSize;\n        }\n        else if (elementType === BSON_DATA_ARRAY) {\n            const _index = index;\n            const objectSize = buffer[index] |\n                (buffer[index + 1] << 8) |\n                (buffer[index + 2] << 16) |\n                (buffer[index + 3] << 24);\n            let arrayOptions = options;\n            const stopIndex = index + objectSize;\n            if (fieldsAsRaw && fieldsAsRaw[name]) {\n                arrayOptions = { ...options, raw: true };\n            }\n            if (!globalUTFValidation) {\n                arrayOptions = { ...arrayOptions, validation: { utf8: shouldValidateKey } };\n            }\n            value = deserializeObject(buffer, _index, arrayOptions, true);\n            index = index + objectSize;\n            if (buffer[index - 1] !== 0)\n                throw new BSONError('invalid array terminator byte');\n            if (index !== stopIndex)\n                throw new BSONError('corrupted array bson');\n        }\n        else if (elementType === BSON_DATA_UNDEFINED) {\n            value = undefined;\n        }\n        else if (elementType === BSON_DATA_NULL) {\n            value = null;\n        }\n        else if (elementType === BSON_DATA_LONG) {\n            const dataview = BSONDataView.fromUint8Array(buffer.subarray(index, index + 8));\n            const lowBits = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            const highBits = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            const long = new Long(lowBits, highBits);\n            if (useBigInt64) {\n                value = dataview.getBigInt64(0, true);\n            }\n            else if (promoteLongs && promoteValues === true) {\n                value =\n                    long.lessThanOrEqual(JS_INT_MAX_LONG) && long.greaterThanOrEqual(JS_INT_MIN_LONG)\n                        ? long.toNumber()\n                        : long;\n            }\n            else {\n                value = long;\n            }\n        }\n        else if (elementType === BSON_DATA_DECIMAL128) {\n            const bytes = ByteUtils.allocate(16);\n            bytes.set(buffer.subarray(index, index + 16), 0);\n            index = index + 16;\n            value = new Decimal128(bytes);\n        }\n        else if (elementType === BSON_DATA_BINARY) {\n            let binarySize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            const totalBinarySize = binarySize;\n            const subType = buffer[index++];\n            if (binarySize < 0)\n                throw new BSONError('Negative binary type element size found');\n            if (binarySize > buffer.byteLength)\n                throw new BSONError('Binary type size larger than document size');\n            if (buffer['slice'] != null) {\n                if (subType === Binary.SUBTYPE_BYTE_ARRAY) {\n                    binarySize =\n                        buffer[index++] |\n                            (buffer[index++] << 8) |\n                            (buffer[index++] << 16) |\n                            (buffer[index++] << 24);\n                    if (binarySize < 0)\n                        throw new BSONError('Negative binary type element size found for subtype 0x02');\n                    if (binarySize > totalBinarySize - 4)\n                        throw new BSONError('Binary type with subtype 0x02 contains too long binary size');\n                    if (binarySize < totalBinarySize - 4)\n                        throw new BSONError('Binary type with subtype 0x02 contains too short binary size');\n                }\n                if (promoteBuffers && promoteValues) {\n                    value = ByteUtils.toLocalBufferType(buffer.slice(index, index + binarySize));\n                }\n                else {\n                    value = new Binary(buffer.slice(index, index + binarySize), subType);\n                    if (subType === BSON_BINARY_SUBTYPE_UUID_NEW) {\n                        value = value.toUUID();\n                    }\n                }\n            }\n            else {\n                const _buffer = ByteUtils.allocate(binarySize);\n                if (subType === Binary.SUBTYPE_BYTE_ARRAY) {\n                    binarySize =\n                        buffer[index++] |\n                            (buffer[index++] << 8) |\n                            (buffer[index++] << 16) |\n                            (buffer[index++] << 24);\n                    if (binarySize < 0)\n                        throw new BSONError('Negative binary type element size found for subtype 0x02');\n                    if (binarySize > totalBinarySize - 4)\n                        throw new BSONError('Binary type with subtype 0x02 contains too long binary size');\n                    if (binarySize < totalBinarySize - 4)\n                        throw new BSONError('Binary type with subtype 0x02 contains too short binary size');\n                }\n                for (i = 0; i < binarySize; i++) {\n                    _buffer[i] = buffer[index + i];\n                }\n                if (promoteBuffers && promoteValues) {\n                    value = _buffer;\n                }\n                else if (subType === BSON_BINARY_SUBTYPE_UUID_NEW) {\n                    value = new Binary(buffer.slice(index, index + binarySize), subType).toUUID();\n                }\n                else {\n                    value = new Binary(buffer.slice(index, index + binarySize), subType);\n                }\n            }\n            index = index + binarySize;\n        }\n        else if (elementType === BSON_DATA_REGEXP && bsonRegExp === false) {\n            i = index;\n            while (buffer[i] !== 0x00 && i < buffer.length) {\n                i++;\n            }\n            if (i >= buffer.length)\n                throw new BSONError('Bad BSON Document: illegal CString');\n            const source = ByteUtils.toUTF8(buffer.subarray(index, i));\n            index = i + 1;\n            i = index;\n            while (buffer[i] !== 0x00 && i < buffer.length) {\n                i++;\n            }\n            if (i >= buffer.length)\n                throw new BSONError('Bad BSON Document: illegal CString');\n            const regExpOptions = ByteUtils.toUTF8(buffer.subarray(index, i));\n            index = i + 1;\n            const optionsArray = new Array(regExpOptions.length);\n            for (i = 0; i < regExpOptions.length; i++) {\n                switch (regExpOptions[i]) {\n                    case 'm':\n                        optionsArray[i] = 'm';\n                        break;\n                    case 's':\n                        optionsArray[i] = 'g';\n                        break;\n                    case 'i':\n                        optionsArray[i] = 'i';\n                        break;\n                }\n            }\n            value = new RegExp(source, optionsArray.join(''));\n        }\n        else if (elementType === BSON_DATA_REGEXP && bsonRegExp === true) {\n            i = index;\n            while (buffer[i] !== 0x00 && i < buffer.length) {\n                i++;\n            }\n            if (i >= buffer.length)\n                throw new BSONError('Bad BSON Document: illegal CString');\n            const source = ByteUtils.toUTF8(buffer.subarray(index, i));\n            index = i + 1;\n            i = index;\n            while (buffer[i] !== 0x00 && i < buffer.length) {\n                i++;\n            }\n            if (i >= buffer.length)\n                throw new BSONError('Bad BSON Document: illegal CString');\n            const regExpOptions = ByteUtils.toUTF8(buffer.subarray(index, i));\n            index = i + 1;\n            value = new BSONRegExp(source, regExpOptions);\n        }\n        else if (elementType === BSON_DATA_SYMBOL) {\n            const stringSize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            if (stringSize <= 0 ||\n                stringSize > buffer.length - index ||\n                buffer[index + stringSize - 1] !== 0) {\n                throw new BSONError('bad string length in bson');\n            }\n            const symbol = getValidatedString(buffer, index, index + stringSize - 1, shouldValidateKey);\n            value = promoteValues ? symbol : new BSONSymbol(symbol);\n            index = index + stringSize;\n        }\n        else if (elementType === BSON_DATA_TIMESTAMP) {\n            const i = buffer[index++] +\n                buffer[index++] * (1 << 8) +\n                buffer[index++] * (1 << 16) +\n                buffer[index++] * (1 << 24);\n            const t = buffer[index++] +\n                buffer[index++] * (1 << 8) +\n                buffer[index++] * (1 << 16) +\n                buffer[index++] * (1 << 24);\n            value = new Timestamp({ i, t });\n        }\n        else if (elementType === BSON_DATA_MIN_KEY) {\n            value = new MinKey();\n        }\n        else if (elementType === BSON_DATA_MAX_KEY) {\n            value = new MaxKey();\n        }\n        else if (elementType === BSON_DATA_CODE) {\n            const stringSize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            if (stringSize <= 0 ||\n                stringSize > buffer.length - index ||\n                buffer[index + stringSize - 1] !== 0) {\n                throw new BSONError('bad string length in bson');\n            }\n            const functionString = getValidatedString(buffer, index, index + stringSize - 1, shouldValidateKey);\n            value = new Code(functionString);\n            index = index + stringSize;\n        }\n        else if (elementType === BSON_DATA_CODE_W_SCOPE) {\n            const totalSize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            if (totalSize < 4 + 4 + 4 + 1) {\n                throw new BSONError('code_w_scope total size shorter minimum expected length');\n            }\n            const stringSize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            if (stringSize <= 0 ||\n                stringSize > buffer.length - index ||\n                buffer[index + stringSize - 1] !== 0) {\n                throw new BSONError('bad string length in bson');\n            }\n            const functionString = getValidatedString(buffer, index, index + stringSize - 1, shouldValidateKey);\n            index = index + stringSize;\n            const _index = index;\n            const objectSize = buffer[index] |\n                (buffer[index + 1] << 8) |\n                (buffer[index + 2] << 16) |\n                (buffer[index + 3] << 24);\n            const scopeObject = deserializeObject(buffer, _index, options, false);\n            index = index + objectSize;\n            if (totalSize < 4 + 4 + objectSize + stringSize) {\n                throw new BSONError('code_w_scope total size is too short, truncating scope');\n            }\n            if (totalSize > 4 + 4 + objectSize + stringSize) {\n                throw new BSONError('code_w_scope total size is too long, clips outer document');\n            }\n            value = new Code(functionString, scopeObject);\n        }\n        else if (elementType === BSON_DATA_DBPOINTER) {\n            const stringSize = buffer[index++] |\n                (buffer[index++] << 8) |\n                (buffer[index++] << 16) |\n                (buffer[index++] << 24);\n            if (stringSize <= 0 ||\n                stringSize > buffer.length - index ||\n                buffer[index + stringSize - 1] !== 0)\n                throw new BSONError('bad string length in bson');\n            if (validation != null && validation.utf8) {\n                if (!validateUtf8(buffer, index, index + stringSize - 1)) {\n                    throw new BSONError('Invalid UTF-8 string in BSON document');\n                }\n            }\n            const namespace = ByteUtils.toUTF8(buffer.subarray(index, index + stringSize - 1));\n            index = index + stringSize;\n            const oidBuffer = ByteUtils.allocate(12);\n            oidBuffer.set(buffer.subarray(index, index + 12), 0);\n            const oid = new ObjectId(oidBuffer);\n            index = index + 12;\n            value = new DBRef(namespace, oid);\n        }\n        else {\n            throw new BSONError(`Detected unknown BSON type ${elementType.toString(16)} for fieldname \"${name}\"`);\n        }\n        if (name === '__proto__') {\n            Object.defineProperty(object, name, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true\n            });\n        }\n        else {\n            object[name] = value;\n        }\n    }\n    if (size !== index - startIndex) {\n        if (isArray)\n            throw new BSONError('corrupt array bson');\n        throw new BSONError('corrupt object bson');\n    }\n    if (!isPossibleDBRef)\n        return object;\n    if (isDBRefLike(object)) {\n        const copy = Object.assign({}, object);\n        delete copy.$ref;\n        delete copy.$id;\n        delete copy.$db;\n        return new DBRef(object.$ref, object.$id, object.$db, copy);\n    }\n    return object;\n}\nfunction getValidatedString(buffer, start, end, shouldValidateUtf8) {\n    const value = ByteUtils.toUTF8(buffer.subarray(start, end));\n    if (shouldValidateUtf8) {\n        for (let i = 0; i < value.length; i++) {\n            if (value.charCodeAt(i) === 0xfffd) {\n                if (!validateUtf8(buffer, start, end)) {\n                    throw new BSONError('Invalid UTF-8 string in BSON document');\n                }\n                break;\n            }\n        }\n    }\n    return value;\n}\n\nconst regexp = /\\x00/;\nconst ignoreKeys = new Set(['$db', '$ref', '$id', '$clusterTime']);\nfunction serializeString(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_STRING;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes + 1;\n    buffer[index - 1] = 0;\n    const size = ByteUtils.encodeUTF8Into(buffer, value, index + 4);\n    buffer[index + 3] = ((size + 1) >> 24) & 0xff;\n    buffer[index + 2] = ((size + 1) >> 16) & 0xff;\n    buffer[index + 1] = ((size + 1) >> 8) & 0xff;\n    buffer[index] = (size + 1) & 0xff;\n    index = index + 4 + size;\n    buffer[index++] = 0;\n    return index;\n}\nconst NUMBER_SPACE = new DataView(new ArrayBuffer(8), 0, 8);\nconst FOUR_BYTE_VIEW_ON_NUMBER = new Uint8Array(NUMBER_SPACE.buffer, 0, 4);\nconst EIGHT_BYTE_VIEW_ON_NUMBER = new Uint8Array(NUMBER_SPACE.buffer, 0, 8);\nfunction serializeNumber(buffer, key, value, index) {\n    const isNegativeZero = Object.is(value, -0);\n    const type = !isNegativeZero &&\n        Number.isSafeInteger(value) &&\n        value <= BSON_INT32_MAX &&\n        value >= BSON_INT32_MIN\n        ? BSON_DATA_INT\n        : BSON_DATA_NUMBER;\n    if (type === BSON_DATA_INT) {\n        NUMBER_SPACE.setInt32(0, value, true);\n    }\n    else {\n        NUMBER_SPACE.setFloat64(0, value, true);\n    }\n    const bytes = type === BSON_DATA_INT ? FOUR_BYTE_VIEW_ON_NUMBER : EIGHT_BYTE_VIEW_ON_NUMBER;\n    buffer[index++] = type;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0x00;\n    buffer.set(bytes, index);\n    index += bytes.byteLength;\n    return index;\n}\nfunction serializeBigInt(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_LONG;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index += numberOfWrittenBytes;\n    buffer[index++] = 0;\n    NUMBER_SPACE.setBigInt64(0, value, true);\n    buffer.set(EIGHT_BYTE_VIEW_ON_NUMBER, index);\n    index += EIGHT_BYTE_VIEW_ON_NUMBER.byteLength;\n    return index;\n}\nfunction serializeNull(buffer, key, _, index) {\n    buffer[index++] = BSON_DATA_NULL;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    return index;\n}\nfunction serializeBoolean(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_BOOLEAN;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    buffer[index++] = value ? 1 : 0;\n    return index;\n}\nfunction serializeDate(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_DATE;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const dateInMilis = Long.fromNumber(value.getTime());\n    const lowBits = dateInMilis.getLowBits();\n    const highBits = dateInMilis.getHighBits();\n    buffer[index++] = lowBits & 0xff;\n    buffer[index++] = (lowBits >> 8) & 0xff;\n    buffer[index++] = (lowBits >> 16) & 0xff;\n    buffer[index++] = (lowBits >> 24) & 0xff;\n    buffer[index++] = highBits & 0xff;\n    buffer[index++] = (highBits >> 8) & 0xff;\n    buffer[index++] = (highBits >> 16) & 0xff;\n    buffer[index++] = (highBits >> 24) & 0xff;\n    return index;\n}\nfunction serializeRegExp(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_REGEXP;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    if (value.source && value.source.match(regexp) != null) {\n        throw new BSONError('value ' + value.source + ' must not contain null bytes');\n    }\n    index = index + ByteUtils.encodeUTF8Into(buffer, value.source, index);\n    buffer[index++] = 0x00;\n    if (value.ignoreCase)\n        buffer[index++] = 0x69;\n    if (value.global)\n        buffer[index++] = 0x73;\n    if (value.multiline)\n        buffer[index++] = 0x6d;\n    buffer[index++] = 0x00;\n    return index;\n}\nfunction serializeBSONRegExp(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_REGEXP;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    if (value.pattern.match(regexp) != null) {\n        throw new BSONError('pattern ' + value.pattern + ' must not contain null bytes');\n    }\n    index = index + ByteUtils.encodeUTF8Into(buffer, value.pattern, index);\n    buffer[index++] = 0x00;\n    const sortedOptions = value.options.split('').sort().join('');\n    index = index + ByteUtils.encodeUTF8Into(buffer, sortedOptions, index);\n    buffer[index++] = 0x00;\n    return index;\n}\nfunction serializeMinMax(buffer, key, value, index) {\n    if (value === null) {\n        buffer[index++] = BSON_DATA_NULL;\n    }\n    else if (value._bsontype === 'MinKey') {\n        buffer[index++] = BSON_DATA_MIN_KEY;\n    }\n    else {\n        buffer[index++] = BSON_DATA_MAX_KEY;\n    }\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    return index;\n}\nfunction serializeObjectId(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_OID;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    if (isUint8Array(value.id)) {\n        buffer.set(value.id.subarray(0, 12), index);\n    }\n    else {\n        throw new BSONError('object [' + JSON.stringify(value) + '] is not a valid ObjectId');\n    }\n    return index + 12;\n}\nfunction serializeBuffer(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_BINARY;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const size = value.length;\n    buffer[index++] = size & 0xff;\n    buffer[index++] = (size >> 8) & 0xff;\n    buffer[index++] = (size >> 16) & 0xff;\n    buffer[index++] = (size >> 24) & 0xff;\n    buffer[index++] = BSON_BINARY_SUBTYPE_DEFAULT;\n    buffer.set(value, index);\n    index = index + size;\n    return index;\n}\nfunction serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path) {\n    if (path.has(value)) {\n        throw new BSONError('Cannot convert circular structure to BSON');\n    }\n    path.add(value);\n    buffer[index++] = Array.isArray(value) ? BSON_DATA_ARRAY : BSON_DATA_OBJECT;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const endIndex = serializeInto(buffer, value, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path);\n    path.delete(value);\n    return endIndex;\n}\nfunction serializeDecimal128(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_DECIMAL128;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    buffer.set(value.bytes.subarray(0, 16), index);\n    return index + 16;\n}\nfunction serializeLong(buffer, key, value, index) {\n    buffer[index++] =\n        value._bsontype === 'Long' ? BSON_DATA_LONG : BSON_DATA_TIMESTAMP;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const lowBits = value.getLowBits();\n    const highBits = value.getHighBits();\n    buffer[index++] = lowBits & 0xff;\n    buffer[index++] = (lowBits >> 8) & 0xff;\n    buffer[index++] = (lowBits >> 16) & 0xff;\n    buffer[index++] = (lowBits >> 24) & 0xff;\n    buffer[index++] = highBits & 0xff;\n    buffer[index++] = (highBits >> 8) & 0xff;\n    buffer[index++] = (highBits >> 16) & 0xff;\n    buffer[index++] = (highBits >> 24) & 0xff;\n    return index;\n}\nfunction serializeInt32(buffer, key, value, index) {\n    value = value.valueOf();\n    buffer[index++] = BSON_DATA_INT;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    buffer[index++] = value & 0xff;\n    buffer[index++] = (value >> 8) & 0xff;\n    buffer[index++] = (value >> 16) & 0xff;\n    buffer[index++] = (value >> 24) & 0xff;\n    return index;\n}\nfunction serializeDouble(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_NUMBER;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    NUMBER_SPACE.setFloat64(0, value.value, true);\n    buffer.set(EIGHT_BYTE_VIEW_ON_NUMBER, index);\n    index = index + 8;\n    return index;\n}\nfunction serializeFunction(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_CODE;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const functionString = value.toString();\n    const size = ByteUtils.encodeUTF8Into(buffer, functionString, index + 4) + 1;\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = (size >> 8) & 0xff;\n    buffer[index + 2] = (size >> 16) & 0xff;\n    buffer[index + 3] = (size >> 24) & 0xff;\n    index = index + 4 + size - 1;\n    buffer[index++] = 0;\n    return index;\n}\nfunction serializeCode(buffer, key, value, index, checkKeys = false, depth = 0, serializeFunctions = false, ignoreUndefined = true, path) {\n    if (value.scope && typeof value.scope === 'object') {\n        buffer[index++] = BSON_DATA_CODE_W_SCOPE;\n        const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n        index = index + numberOfWrittenBytes;\n        buffer[index++] = 0;\n        let startIndex = index;\n        const functionString = value.code;\n        index = index + 4;\n        const codeSize = ByteUtils.encodeUTF8Into(buffer, functionString, index + 4) + 1;\n        buffer[index] = codeSize & 0xff;\n        buffer[index + 1] = (codeSize >> 8) & 0xff;\n        buffer[index + 2] = (codeSize >> 16) & 0xff;\n        buffer[index + 3] = (codeSize >> 24) & 0xff;\n        buffer[index + 4 + codeSize - 1] = 0;\n        index = index + codeSize + 4;\n        const endIndex = serializeInto(buffer, value.scope, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path);\n        index = endIndex - 1;\n        const totalSize = endIndex - startIndex;\n        buffer[startIndex++] = totalSize & 0xff;\n        buffer[startIndex++] = (totalSize >> 8) & 0xff;\n        buffer[startIndex++] = (totalSize >> 16) & 0xff;\n        buffer[startIndex++] = (totalSize >> 24) & 0xff;\n        buffer[index++] = 0;\n    }\n    else {\n        buffer[index++] = BSON_DATA_CODE;\n        const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n        index = index + numberOfWrittenBytes;\n        buffer[index++] = 0;\n        const functionString = value.code.toString();\n        const size = ByteUtils.encodeUTF8Into(buffer, functionString, index + 4) + 1;\n        buffer[index] = size & 0xff;\n        buffer[index + 1] = (size >> 8) & 0xff;\n        buffer[index + 2] = (size >> 16) & 0xff;\n        buffer[index + 3] = (size >> 24) & 0xff;\n        index = index + 4 + size - 1;\n        buffer[index++] = 0;\n    }\n    return index;\n}\nfunction serializeBinary(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_BINARY;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const data = value.buffer;\n    let size = value.position;\n    if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY)\n        size = size + 4;\n    buffer[index++] = size & 0xff;\n    buffer[index++] = (size >> 8) & 0xff;\n    buffer[index++] = (size >> 16) & 0xff;\n    buffer[index++] = (size >> 24) & 0xff;\n    buffer[index++] = value.sub_type;\n    if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) {\n        size = size - 4;\n        buffer[index++] = size & 0xff;\n        buffer[index++] = (size >> 8) & 0xff;\n        buffer[index++] = (size >> 16) & 0xff;\n        buffer[index++] = (size >> 24) & 0xff;\n    }\n    buffer.set(data, index);\n    index = index + value.position;\n    return index;\n}\nfunction serializeSymbol(buffer, key, value, index) {\n    buffer[index++] = BSON_DATA_SYMBOL;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    const size = ByteUtils.encodeUTF8Into(buffer, value.value, index + 4) + 1;\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = (size >> 8) & 0xff;\n    buffer[index + 2] = (size >> 16) & 0xff;\n    buffer[index + 3] = (size >> 24) & 0xff;\n    index = index + 4 + size - 1;\n    buffer[index++] = 0x00;\n    return index;\n}\nfunction serializeDBRef(buffer, key, value, index, depth, serializeFunctions, path) {\n    buffer[index++] = BSON_DATA_OBJECT;\n    const numberOfWrittenBytes = ByteUtils.encodeUTF8Into(buffer, key, index);\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    let startIndex = index;\n    let output = {\n        $ref: value.collection || value.namespace,\n        $id: value.oid\n    };\n    if (value.db != null) {\n        output.$db = value.db;\n    }\n    output = Object.assign(output, value.fields);\n    const endIndex = serializeInto(buffer, output, false, index, depth + 1, serializeFunctions, true, path);\n    const size = endIndex - startIndex;\n    buffer[startIndex++] = size & 0xff;\n    buffer[startIndex++] = (size >> 8) & 0xff;\n    buffer[startIndex++] = (size >> 16) & 0xff;\n    buffer[startIndex++] = (size >> 24) & 0xff;\n    return endIndex;\n}\nfunction serializeInto(buffer, object, checkKeys, startingIndex, depth, serializeFunctions, ignoreUndefined, path) {\n    if (path == null) {\n        if (object == null) {\n            buffer[0] = 0x05;\n            buffer[1] = 0x00;\n            buffer[2] = 0x00;\n            buffer[3] = 0x00;\n            buffer[4] = 0x00;\n            return 5;\n        }\n        if (Array.isArray(object)) {\n            throw new BSONError('serialize does not support an array as the root input');\n        }\n        if (typeof object !== 'object') {\n            throw new BSONError('serialize does not support non-object as the root input');\n        }\n        else if ('_bsontype' in object && typeof object._bsontype === 'string') {\n            throw new BSONError(`BSON types cannot be serialized as a document`);\n        }\n        else if (isDate(object) ||\n            isRegExp(object) ||\n            isUint8Array(object) ||\n            isAnyArrayBuffer(object)) {\n            throw new BSONError(`date, regexp, typedarray, and arraybuffer cannot be BSON documents`);\n        }\n        path = new Set();\n    }\n    path.add(object);\n    let index = startingIndex + 4;\n    if (Array.isArray(object)) {\n        for (let i = 0; i < object.length; i++) {\n            const key = `${i}`;\n            let value = object[i];\n            if (typeof value?.toBSON === 'function') {\n                value = value.toBSON();\n            }\n            if (typeof value === 'string') {\n                index = serializeString(buffer, key, value, index);\n            }\n            else if (typeof value === 'number') {\n                index = serializeNumber(buffer, key, value, index);\n            }\n            else if (typeof value === 'bigint') {\n                index = serializeBigInt(buffer, key, value, index);\n            }\n            else if (typeof value === 'boolean') {\n                index = serializeBoolean(buffer, key, value, index);\n            }\n            else if (value instanceof Date || isDate(value)) {\n                index = serializeDate(buffer, key, value, index);\n            }\n            else if (value === undefined) {\n                index = serializeNull(buffer, key, value, index);\n            }\n            else if (value === null) {\n                index = serializeNull(buffer, key, value, index);\n            }\n            else if (isUint8Array(value)) {\n                index = serializeBuffer(buffer, key, value, index);\n            }\n            else if (value instanceof RegExp || isRegExp(value)) {\n                index = serializeRegExp(buffer, key, value, index);\n            }\n            else if (typeof value === 'object' && value._bsontype == null) {\n                index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path);\n            }\n            else if (typeof value === 'object' &&\n                value[Symbol.for('@@mdb.bson.version')] !== BSON_MAJOR_VERSION) {\n                throw new BSONVersionError();\n            }\n            else if (value._bsontype === 'ObjectId') {\n                index = serializeObjectId(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Decimal128') {\n                index = serializeDecimal128(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Long' || value._bsontype === 'Timestamp') {\n                index = serializeLong(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Double') {\n                index = serializeDouble(buffer, key, value, index);\n            }\n            else if (typeof value === 'function' && serializeFunctions) {\n                index = serializeFunction(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Code') {\n                index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path);\n            }\n            else if (value._bsontype === 'Binary') {\n                index = serializeBinary(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'BSONSymbol') {\n                index = serializeSymbol(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'DBRef') {\n                index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, path);\n            }\n            else if (value._bsontype === 'BSONRegExp') {\n                index = serializeBSONRegExp(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Int32') {\n                index = serializeInt32(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'MinKey' || value._bsontype === 'MaxKey') {\n                index = serializeMinMax(buffer, key, value, index);\n            }\n            else if (typeof value._bsontype !== 'undefined') {\n                throw new BSONError(`Unrecognized or invalid _bsontype: ${String(value._bsontype)}`);\n            }\n        }\n    }\n    else if (object instanceof Map || isMap(object)) {\n        const iterator = object.entries();\n        let done = false;\n        while (!done) {\n            const entry = iterator.next();\n            done = !!entry.done;\n            if (done)\n                continue;\n            const key = entry.value[0];\n            let value = entry.value[1];\n            if (typeof value?.toBSON === 'function') {\n                value = value.toBSON();\n            }\n            const type = typeof value;\n            if (typeof key === 'string' && !ignoreKeys.has(key)) {\n                if (key.match(regexp) != null) {\n                    throw new BSONError('key ' + key + ' must not contain null bytes');\n                }\n                if (checkKeys) {\n                    if ('$' === key[0]) {\n                        throw new BSONError('key ' + key + \" must not start with '$'\");\n                    }\n                    else if (~key.indexOf('.')) {\n                        throw new BSONError('key ' + key + \" must not contain '.'\");\n                    }\n                }\n            }\n            if (type === 'string') {\n                index = serializeString(buffer, key, value, index);\n            }\n            else if (type === 'number') {\n                index = serializeNumber(buffer, key, value, index);\n            }\n            else if (type === 'bigint') {\n                index = serializeBigInt(buffer, key, value, index);\n            }\n            else if (type === 'boolean') {\n                index = serializeBoolean(buffer, key, value, index);\n            }\n            else if (value instanceof Date || isDate(value)) {\n                index = serializeDate(buffer, key, value, index);\n            }\n            else if (value === null || (value === undefined && ignoreUndefined === false)) {\n                index = serializeNull(buffer, key, value, index);\n            }\n            else if (isUint8Array(value)) {\n                index = serializeBuffer(buffer, key, value, index);\n            }\n            else if (value instanceof RegExp || isRegExp(value)) {\n                index = serializeRegExp(buffer, key, value, index);\n            }\n            else if (type === 'object' && value._bsontype == null) {\n                index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path);\n            }\n            else if (typeof value === 'object' &&\n                value[Symbol.for('@@mdb.bson.version')] !== BSON_MAJOR_VERSION) {\n                throw new BSONVersionError();\n            }\n            else if (value._bsontype === 'ObjectId') {\n                index = serializeObjectId(buffer, key, value, index);\n            }\n            else if (type === 'object' && value._bsontype === 'Decimal128') {\n                index = serializeDecimal128(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Long' || value._bsontype === 'Timestamp') {\n                index = serializeLong(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Double') {\n                index = serializeDouble(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Code') {\n                index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path);\n            }\n            else if (typeof value === 'function' && serializeFunctions) {\n                index = serializeFunction(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Binary') {\n                index = serializeBinary(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'BSONSymbol') {\n                index = serializeSymbol(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'DBRef') {\n                index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, path);\n            }\n            else if (value._bsontype === 'BSONRegExp') {\n                index = serializeBSONRegExp(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Int32') {\n                index = serializeInt32(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'MinKey' || value._bsontype === 'MaxKey') {\n                index = serializeMinMax(buffer, key, value, index);\n            }\n            else if (typeof value._bsontype !== 'undefined') {\n                throw new BSONError(`Unrecognized or invalid _bsontype: ${String(value._bsontype)}`);\n            }\n        }\n    }\n    else {\n        if (typeof object?.toBSON === 'function') {\n            object = object.toBSON();\n            if (object != null && typeof object !== 'object') {\n                throw new BSONError('toBSON function did not return an object');\n            }\n        }\n        for (const key of Object.keys(object)) {\n            let value = object[key];\n            if (typeof value?.toBSON === 'function') {\n                value = value.toBSON();\n            }\n            const type = typeof value;\n            if (typeof key === 'string' && !ignoreKeys.has(key)) {\n                if (key.match(regexp) != null) {\n                    throw new BSONError('key ' + key + ' must not contain null bytes');\n                }\n                if (checkKeys) {\n                    if ('$' === key[0]) {\n                        throw new BSONError('key ' + key + \" must not start with '$'\");\n                    }\n                    else if (~key.indexOf('.')) {\n                        throw new BSONError('key ' + key + \" must not contain '.'\");\n                    }\n                }\n            }\n            if (type === 'string') {\n                index = serializeString(buffer, key, value, index);\n            }\n            else if (type === 'number') {\n                index = serializeNumber(buffer, key, value, index);\n            }\n            else if (type === 'bigint') {\n                index = serializeBigInt(buffer, key, value, index);\n            }\n            else if (type === 'boolean') {\n                index = serializeBoolean(buffer, key, value, index);\n            }\n            else if (value instanceof Date || isDate(value)) {\n                index = serializeDate(buffer, key, value, index);\n            }\n            else if (value === undefined) {\n                if (ignoreUndefined === false)\n                    index = serializeNull(buffer, key, value, index);\n            }\n            else if (value === null) {\n                index = serializeNull(buffer, key, value, index);\n            }\n            else if (isUint8Array(value)) {\n                index = serializeBuffer(buffer, key, value, index);\n            }\n            else if (value instanceof RegExp || isRegExp(value)) {\n                index = serializeRegExp(buffer, key, value, index);\n            }\n            else if (type === 'object' && value._bsontype == null) {\n                index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path);\n            }\n            else if (typeof value === 'object' &&\n                value[Symbol.for('@@mdb.bson.version')] !== BSON_MAJOR_VERSION) {\n                throw new BSONVersionError();\n            }\n            else if (value._bsontype === 'ObjectId') {\n                index = serializeObjectId(buffer, key, value, index);\n            }\n            else if (type === 'object' && value._bsontype === 'Decimal128') {\n                index = serializeDecimal128(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Long' || value._bsontype === 'Timestamp') {\n                index = serializeLong(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Double') {\n                index = serializeDouble(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Code') {\n                index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, path);\n            }\n            else if (typeof value === 'function' && serializeFunctions) {\n                index = serializeFunction(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Binary') {\n                index = serializeBinary(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'BSONSymbol') {\n                index = serializeSymbol(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'DBRef') {\n                index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, path);\n            }\n            else if (value._bsontype === 'BSONRegExp') {\n                index = serializeBSONRegExp(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'Int32') {\n                index = serializeInt32(buffer, key, value, index);\n            }\n            else if (value._bsontype === 'MinKey' || value._bsontype === 'MaxKey') {\n                index = serializeMinMax(buffer, key, value, index);\n            }\n            else if (typeof value._bsontype !== 'undefined') {\n                throw new BSONError(`Unrecognized or invalid _bsontype: ${String(value._bsontype)}`);\n            }\n        }\n    }\n    path.delete(object);\n    buffer[index++] = 0x00;\n    const size = index - startingIndex;\n    buffer[startingIndex++] = size & 0xff;\n    buffer[startingIndex++] = (size >> 8) & 0xff;\n    buffer[startingIndex++] = (size >> 16) & 0xff;\n    buffer[startingIndex++] = (size >> 24) & 0xff;\n    return index;\n}\n\nfunction isBSONType(value) {\n    return (value != null &&\n        typeof value === 'object' &&\n        '_bsontype' in value &&\n        typeof value._bsontype === 'string');\n}\nconst keysToCodecs = {\n    $oid: ObjectId,\n    $binary: Binary,\n    $uuid: Binary,\n    $symbol: BSONSymbol,\n    $numberInt: Int32,\n    $numberDecimal: Decimal128,\n    $numberDouble: Double,\n    $numberLong: Long,\n    $minKey: MinKey,\n    $maxKey: MaxKey,\n    $regex: BSONRegExp,\n    $regularExpression: BSONRegExp,\n    $timestamp: Timestamp\n};\nfunction deserializeValue(value, options = {}) {\n    if (typeof value === 'number') {\n        const in32BitRange = value <= BSON_INT32_MAX && value >= BSON_INT32_MIN;\n        const in64BitRange = value <= BSON_INT64_MAX && value >= BSON_INT64_MIN;\n        if (options.relaxed || options.legacy) {\n            return value;\n        }\n        if (Number.isInteger(value) && !Object.is(value, -0)) {\n            if (in32BitRange) {\n                return new Int32(value);\n            }\n            if (in64BitRange) {\n                if (options.useBigInt64) {\n                    return BigInt(value);\n                }\n                return Long.fromNumber(value);\n            }\n        }\n        return new Double(value);\n    }\n    if (value == null || typeof value !== 'object')\n        return value;\n    if (value.$undefined)\n        return null;\n    const keys = Object.keys(value).filter(k => k.startsWith('$') && value[k] != null);\n    for (let i = 0; i < keys.length; i++) {\n        const c = keysToCodecs[keys[i]];\n        if (c)\n            return c.fromExtendedJSON(value, options);\n    }\n    if (value.$date != null) {\n        const d = value.$date;\n        const date = new Date();\n        if (options.legacy) {\n            if (typeof d === 'number')\n                date.setTime(d);\n            else if (typeof d === 'string')\n                date.setTime(Date.parse(d));\n            else if (typeof d === 'bigint')\n                date.setTime(Number(d));\n            else\n                throw new BSONRuntimeError(`Unrecognized type for EJSON date: ${typeof d}`);\n        }\n        else {\n            if (typeof d === 'string')\n                date.setTime(Date.parse(d));\n            else if (Long.isLong(d))\n                date.setTime(d.toNumber());\n            else if (typeof d === 'number' && options.relaxed)\n                date.setTime(d);\n            else if (typeof d === 'bigint')\n                date.setTime(Number(d));\n            else\n                throw new BSONRuntimeError(`Unrecognized type for EJSON date: ${typeof d}`);\n        }\n        return date;\n    }\n    if (value.$code != null) {\n        const copy = Object.assign({}, value);\n        if (value.$scope) {\n            copy.$scope = deserializeValue(value.$scope);\n        }\n        return Code.fromExtendedJSON(value);\n    }\n    if (isDBRefLike(value) || value.$dbPointer) {\n        const v = value.$ref ? value : value.$dbPointer;\n        if (v instanceof DBRef)\n            return v;\n        const dollarKeys = Object.keys(v).filter(k => k.startsWith('$'));\n        let valid = true;\n        dollarKeys.forEach(k => {\n            if (['$ref', '$id', '$db'].indexOf(k) === -1)\n                valid = false;\n        });\n        if (valid)\n            return DBRef.fromExtendedJSON(v);\n    }\n    return value;\n}\nfunction serializeArray(array, options) {\n    return array.map((v, index) => {\n        options.seenObjects.push({ propertyName: `index ${index}`, obj: null });\n        try {\n            return serializeValue(v, options);\n        }\n        finally {\n            options.seenObjects.pop();\n        }\n    });\n}\nfunction getISOString(date) {\n    const isoStr = date.toISOString();\n    return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\nfunction serializeValue(value, options) {\n    if ((typeof value === 'object' || typeof value === 'function') && value !== null) {\n        const index = options.seenObjects.findIndex(entry => entry.obj === value);\n        if (index !== -1) {\n            const props = options.seenObjects.map(entry => entry.propertyName);\n            const leadingPart = props\n                .slice(0, index)\n                .map(prop => `${prop} -> `)\n                .join('');\n            const alreadySeen = props[index];\n            const circularPart = ' -> ' +\n                props\n                    .slice(index + 1, props.length - 1)\n                    .map(prop => `${prop} -> `)\n                    .join('');\n            const current = props[props.length - 1];\n            const leadingSpace = ' '.repeat(leadingPart.length + alreadySeen.length / 2);\n            const dashes = '-'.repeat(circularPart.length + (alreadySeen.length + current.length) / 2 - 1);\n            throw new BSONError('Converting circular structure to EJSON:\\n' +\n                `    ${leadingPart}${alreadySeen}${circularPart}${current}\\n` +\n                `    ${leadingSpace}\\\\${dashes}/`);\n        }\n        options.seenObjects[options.seenObjects.length - 1].obj = value;\n    }\n    if (Array.isArray(value))\n        return serializeArray(value, options);\n    if (value === undefined)\n        return null;\n    if (value instanceof Date || isDate(value)) {\n        const dateNum = value.getTime(), inRange = dateNum > -1 && dateNum < 253402318800000;\n        if (options.legacy) {\n            return options.relaxed && inRange\n                ? { $date: value.getTime() }\n                : { $date: getISOString(value) };\n        }\n        return options.relaxed && inRange\n            ? { $date: getISOString(value) }\n            : { $date: { $numberLong: value.getTime().toString() } };\n    }\n    if (typeof value === 'number' && (!options.relaxed || !isFinite(value))) {\n        if (Number.isInteger(value) && !Object.is(value, -0)) {\n            if (value >= BSON_INT32_MIN && value <= BSON_INT32_MAX) {\n                return { $numberInt: value.toString() };\n            }\n            if (value >= BSON_INT64_MIN && value <= BSON_INT64_MAX) {\n                return { $numberLong: value.toString() };\n            }\n        }\n        return { $numberDouble: Object.is(value, -0) ? '-0.0' : value.toString() };\n    }\n    if (typeof value === 'bigint') {\n        if (!options.relaxed) {\n            return { $numberLong: BigInt.asIntN(64, value).toString() };\n        }\n        return Number(BigInt.asIntN(64, value));\n    }\n    if (value instanceof RegExp || isRegExp(value)) {\n        let flags = value.flags;\n        if (flags === undefined) {\n            const match = value.toString().match(/[gimuy]*$/);\n            if (match) {\n                flags = match[0];\n            }\n        }\n        const rx = new BSONRegExp(value.source, flags);\n        return rx.toExtendedJSON(options);\n    }\n    if (value != null && typeof value === 'object')\n        return serializeDocument(value, options);\n    return value;\n}\nconst BSON_TYPE_MAPPINGS = {\n    Binary: (o) => new Binary(o.value(), o.sub_type),\n    Code: (o) => new Code(o.code, o.scope),\n    DBRef: (o) => new DBRef(o.collection || o.namespace, o.oid, o.db, o.fields),\n    Decimal128: (o) => new Decimal128(o.bytes),\n    Double: (o) => new Double(o.value),\n    Int32: (o) => new Int32(o.value),\n    Long: (o) => Long.fromBits(o.low != null ? o.low : o.low_, o.low != null ? o.high : o.high_, o.low != null ? o.unsigned : o.unsigned_),\n    MaxKey: () => new MaxKey(),\n    MinKey: () => new MinKey(),\n    ObjectId: (o) => new ObjectId(o),\n    BSONRegExp: (o) => new BSONRegExp(o.pattern, o.options),\n    BSONSymbol: (o) => new BSONSymbol(o.value),\n    Timestamp: (o) => Timestamp.fromBits(o.low, o.high)\n};\nfunction serializeDocument(doc, options) {\n    if (doc == null || typeof doc !== 'object')\n        throw new BSONError('not an object instance');\n    const bsontype = doc._bsontype;\n    if (typeof bsontype === 'undefined') {\n        const _doc = {};\n        for (const name of Object.keys(doc)) {\n            options.seenObjects.push({ propertyName: name, obj: null });\n            try {\n                const value = serializeValue(doc[name], options);\n                if (name === '__proto__') {\n                    Object.defineProperty(_doc, name, {\n                        value,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true\n                    });\n                }\n                else {\n                    _doc[name] = value;\n                }\n            }\n            finally {\n                options.seenObjects.pop();\n            }\n        }\n        return _doc;\n    }\n    else if (doc != null &&\n        typeof doc === 'object' &&\n        typeof doc._bsontype === 'string' &&\n        doc[Symbol.for('@@mdb.bson.version')] !== BSON_MAJOR_VERSION) {\n        throw new BSONVersionError();\n    }\n    else if (isBSONType(doc)) {\n        let outDoc = doc;\n        if (typeof outDoc.toExtendedJSON !== 'function') {\n            const mapper = BSON_TYPE_MAPPINGS[doc._bsontype];\n            if (!mapper) {\n                throw new BSONError('Unrecognized or invalid _bsontype: ' + doc._bsontype);\n            }\n            outDoc = mapper(outDoc);\n        }\n        if (bsontype === 'Code' && outDoc.scope) {\n            outDoc = new Code(outDoc.code, serializeValue(outDoc.scope, options));\n        }\n        else if (bsontype === 'DBRef' && outDoc.oid) {\n            outDoc = new DBRef(serializeValue(outDoc.collection, options), serializeValue(outDoc.oid, options), serializeValue(outDoc.db, options), serializeValue(outDoc.fields, options));\n        }\n        return outDoc.toExtendedJSON(options);\n    }\n    else {\n        throw new BSONError('_bsontype must be a string, but was: ' + typeof bsontype);\n    }\n}\nfunction parse(text, options) {\n    const ejsonOptions = {\n        useBigInt64: options?.useBigInt64 ?? false,\n        relaxed: options?.relaxed ?? true,\n        legacy: options?.legacy ?? false\n    };\n    return JSON.parse(text, (key, value) => {\n        if (key.indexOf('\\x00') !== -1) {\n            throw new BSONError(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(key)}`);\n        }\n        return deserializeValue(value, ejsonOptions);\n    });\n}\nfunction stringify(value, replacer, space, options) {\n    if (space != null && typeof space === 'object') {\n        options = space;\n        space = 0;\n    }\n    if (replacer != null && typeof replacer === 'object' && !Array.isArray(replacer)) {\n        options = replacer;\n        replacer = undefined;\n        space = 0;\n    }\n    const serializeOptions = Object.assign({ relaxed: true, legacy: false }, options, {\n        seenObjects: [{ propertyName: '(root)', obj: null }]\n    });\n    const doc = serializeValue(value, serializeOptions);\n    return JSON.stringify(doc, replacer, space);\n}\nfunction EJSONserialize(value, options) {\n    options = options || {};\n    return JSON.parse(stringify(value, options));\n}\nfunction EJSONdeserialize(ejson, options) {\n    options = options || {};\n    return parse(JSON.stringify(ejson), options);\n}\nconst EJSON = Object.create(null);\nEJSON.parse = parse;\nEJSON.stringify = stringify;\nEJSON.serialize = EJSONserialize;\nEJSON.deserialize = EJSONdeserialize;\nObject.freeze(EJSON);\n\nconst MAXSIZE = 1024 * 1024 * 17;\nlet buffer = ByteUtils.allocate(MAXSIZE);\nfunction setInternalBufferSize(size) {\n    if (buffer.length < size) {\n        buffer = ByteUtils.allocate(size);\n    }\n}\nfunction serialize(object, options = {}) {\n    const checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n    const serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    const ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n    const minInternalBufferSize = typeof options.minInternalBufferSize === 'number' ? options.minInternalBufferSize : MAXSIZE;\n    if (buffer.length < minInternalBufferSize) {\n        buffer = ByteUtils.allocate(minInternalBufferSize);\n    }\n    const serializationIndex = serializeInto(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, null);\n    const finishedBuffer = ByteUtils.allocate(serializationIndex);\n    finishedBuffer.set(buffer.subarray(0, serializationIndex), 0);\n    return finishedBuffer;\n}\nfunction serializeWithBufferAndIndex(object, finalBuffer, options = {}) {\n    const checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n    const serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    const ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n    const startIndex = typeof options.index === 'number' ? options.index : 0;\n    const serializationIndex = serializeInto(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, null);\n    finalBuffer.set(buffer.subarray(0, serializationIndex), startIndex);\n    return startIndex + serializationIndex - 1;\n}\nfunction deserialize(buffer, options = {}) {\n    return internalDeserialize(ByteUtils.toLocalBufferType(buffer), options);\n}\nfunction calculateObjectSize(object, options = {}) {\n    options = options || {};\n    const serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n    const ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n    return internalCalculateObjectSize(object, serializeFunctions, ignoreUndefined);\n}\nfunction deserializeStream(data, startIndex, numberOfDocuments, documents, docStartIndex, options) {\n    const internalOptions = Object.assign({ allowObjectSmallerThanBufferSize: true, index: 0 }, options);\n    const bufferData = ByteUtils.toLocalBufferType(data);\n    let index = startIndex;\n    for (let i = 0; i < numberOfDocuments; i++) {\n        const size = bufferData[index] |\n            (bufferData[index + 1] << 8) |\n            (bufferData[index + 2] << 16) |\n            (bufferData[index + 3] << 24);\n        internalOptions.index = index;\n        documents[docStartIndex + i] = internalDeserialize(bufferData, internalOptions);\n        index = index + size;\n    }\n    return index;\n}\n\nvar bson = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    Code: Code,\n    BSONSymbol: BSONSymbol,\n    DBRef: DBRef,\n    Binary: Binary,\n    ObjectId: ObjectId,\n    UUID: UUID,\n    Long: Long,\n    Timestamp: Timestamp,\n    Double: Double,\n    Int32: Int32,\n    MinKey: MinKey,\n    MaxKey: MaxKey,\n    BSONRegExp: BSONRegExp,\n    Decimal128: Decimal128,\n    setInternalBufferSize: setInternalBufferSize,\n    serialize: serialize,\n    serializeWithBufferAndIndex: serializeWithBufferAndIndex,\n    deserialize: deserialize,\n    calculateObjectSize: calculateObjectSize,\n    deserializeStream: deserializeStream,\n    BSONValue: BSONValue,\n    BSONError: BSONError,\n    BSONVersionError: BSONVersionError,\n    BSONRuntimeError: BSONRuntimeError,\n    BSONType: BSONType,\n    EJSON: EJSON\n});\n\nexport { bson as BSON, BSONError, BSONRegExp, BSONRuntimeError, BSONSymbol, BSONType, BSONValue, BSONVersionError, Binary, Code, DBRef, Decimal128, Double, EJSON, Int32, Long, MaxKey, MinKey, ObjectId, Timestamp, UUID, calculateObjectSize, deserialize, deserializeStream, serialize, serializeWithBufferAndIndex, setInternalBufferSize };\n//# sourceMappingURL=bson.mjs.map\n","//\n// filter.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { StructuredQuery_FieldFilter_Operator } from '../proto/db3_database'\n// The operator of a FieldFilter\nexport const enum Operator {\n    LESS_THAN = '<',\n    LESS_THAN_OR_EQUAL = '<=',\n    EQUAL = '==',\n    NOT_EQUAL = '!=',\n    GREATER_THAN = '>',\n    GREATER_THAN_OR_EQUAL = '>=',\n    ARRAY_CONTAINS = 'array-contains',\n    IN = 'in',\n    NOT_IN = 'not-in',\n    ARRAY_CONTAINS_ANY = 'array-contains-any',\n}\n\nexport function parseOperator(\n    op: Operator\n): StructuredQuery_FieldFilter_Operator {\n    switch (op) {\n        case Operator.EQUAL: {\n            return StructuredQuery_FieldFilter_Operator.EQUAL\n        }\n        default: {\n            throw new Error('the op is not supported')\n        }\n    }\n}\n","//@ts-nocheck\n//\n// client.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport {\n    PayloadType,\n    DatabaseMutation,\n    DatabaseAction,\n    CollectionMutation,\n    DocumentMutation,\n    DocumentMask,\n} from '../proto/db3_mutation'\nimport { BroadcastMeta, ChainId, ChainRole } from '../proto/db3_base'\nimport { StorageProvider } from '../provider/storage_provider'\nimport { Wallet } from '../wallet/wallet'\nimport { DbId } from '../crypto/id'\nimport { toB64, fromHEX, toHEX } from '../crypto/crypto_utils'\nimport { Database, Index, StructuredQuery } from '../proto/db3_database'\nimport { QuerySessionInfo } from '../proto/db3_session'\nimport * as log from 'loglevel'\nimport { BSON } from 'bson'\n\nexport interface DocumentData {\n    [field: string]: any\n}\n\nexport interface DocumentEntry<T> {\n    id: string\n    owner: string\n    tx: string\n    doc: T\n}\n\n//\n//\n// the db3 client for developers\n//\n//\nexport class DB3Client {\n    readonly provider: StorageProvider\n    querySessionInfo: QuerySessionInfo | undefined\n    sessionToken: string | undefined\n    wallet: Wallet\n\n    /**\n     * new a db3 client with db3 node url and wallet\n     *\n     */\n    constructor(url: string, wallet: Wallet) {\n        this.provider = new StorageProvider(url, wallet)\n        this.wallet = wallet\n    }\n\n    /**\n     * create a database and return the address of it\n     *\n     */\n    async createDatabase(): Promise<[string, string]> {\n        const meta: BroadcastMeta = {\n            nonce: this.provider.getNonce().toString(),\n            chainId: ChainId.MainNet,\n            chainRole: ChainRole.StorageShardChain,\n        }\n        const dm: DatabaseMutation = {\n            meta,\n            collectionMutations: [],\n            documentMutations: [],\n            dbAddress: new Uint8Array(),\n            action: DatabaseAction.CreateDB,\n        }\n        const payload = DatabaseMutation.toBinary(dm)\n        const txId = await this.provider.sendMutation(\n            payload,\n            PayloadType.DatabasePayload\n        )\n        const dbId = new DbId(this.wallet.getAddress(), +meta.nonce)\n        return [dbId.getHexAddr(), txId.getB64()]\n    }\n\n    /**\n     * get a database information\n     *\n     */\n    async getDatabase(addr: string) {\n        const token = await this.keepSessionAlive()\n        const response = await this.provider.getDatabase(addr, token)\n        this.querySessionInfo!.queryCount += 1\n        return response.db\n    }\n\n    async listCollection(databaseAddress: string) {\n        const db = await this.getDatabase(databaseAddress)\n        return db?.collections\n    }\n\n    /**\n     * create a collection\n     *\n     */\n    async createCollection(\n        databaseAddress: string,\n        name: string,\n        index: Index[]\n    ) {\n        const meta: BroadcastMeta = {\n            nonce: this.provider.getNonce().toString(),\n            chainId: ChainId.MainNet,\n            chainRole: ChainRole.StorageShardChain,\n        }\n        const collection: CollectionMutation = {\n            index,\n            collectionName: name,\n        }\n        const dm: DatabaseMutation = {\n            meta,\n            collectionMutations: [collection],\n            documentMutations: [],\n            dbAddress: fromHEX(databaseAddress),\n            action: DatabaseAction.AddCollection,\n        }\n        const payload = DatabaseMutation.toBinary(dm)\n        const txId = await this.provider.sendMutation(\n            payload,\n            PayloadType.DatabasePayload\n        )\n        return txId.getB64()\n    }\n\n    async getState() {\n        return await this.provider.getState()\n    }\n    async getAccount(address: string) {\n        const binaryAddr = fromHEX(address)\n        return await this.provider.getAccount(binaryAddr)\n    }\n\n    /**\n     * create a document\n     *\n     */\n    async createDocument(\n        databaseAddress: string,\n        collectionName: string,\n        document: DocumentData\n    ) {\n        const documentMutation: DocumentMutation = {\n            collectionName,\n            documents: [BSON.serialize(document)],\n            ids: [],\n            masks: [],\n        }\n\n        const meta: BroadcastMeta = {\n            nonce: this.provider.getNonce().toString(),\n            chainId: ChainId.MainNet,\n            chainRole: ChainRole.StorageShardChain,\n        }\n\n        const dm: DatabaseMutation = {\n            meta,\n            action: DatabaseAction.AddDocument,\n            dbAddress: fromHEX(databaseAddress),\n            collectionMutations: [],\n            documentMutations: [documentMutation],\n        }\n        const payload = DatabaseMutation.toBinary(dm)\n        const txId = await this.provider.sendMutation(\n            payload,\n            PayloadType.DatabasePayload\n        )\n        return txId.getB64()\n    }\n\n    async getDocument(id: string) {\n        const token = await this.keepSessionAlive()\n        const response = await this.provider.getDocument(token, id)\n        return {\n            id: toB64(response.document.id),\n            doc: BSON.deserialize(response.document.doc),\n            owner: '0x' + toHEX(response.document.owner),\n            tx: toB64(response.document.txId),\n        }\n    }\n\n    async runQuery<T>(dbAddress: string, query: StructuredQuery) {\n        const token = await this.keepSessionAlive()\n        const response = await this.provider.runQuery(token, dbAddress, query)\n        return response.documents.map(\n            (item) =>\n                ({\n                    doc: BSON.deserialize(item.doc) as T,\n                    id: toB64(item.id),\n                    owner: '0x' + toHEX(item.owner),\n                    tx: toB64(item.txId),\n                } as DocumentEntry<T>)\n        )\n    }\n\n    async deleteDocument(\n        databaseAddress: string,\n        collectionName: string,\n        ids: string[]\n    ) {\n        const meta: BroadcastMeta = {\n            nonce: this.provider.getNonce().toString(),\n            chainId: ChainId.MainNet,\n            chainRole: ChainRole.StorageShardChain,\n        }\n\n        const documentMutation: DocumentMutation = {\n            collectionName,\n            documents: [],\n            ids,\n            masks: [],\n        }\n        const dm: DatabaseMutation = {\n            meta,\n            collectionMutations: [],\n            documentMutations: [documentMutation],\n            dbAddress: fromHEX(databaseAddress),\n            action: DatabaseAction.DeleteDocument,\n        }\n        const payload = DatabaseMutation.toBinary(dm)\n        return this.provider.sendMutation(payload, PayloadType.DatabasePayload)\n    }\n\n    //\n    //\n    // update document with a mask\n    //\n    //\n    async updateDocument(\n        databaseAddress: string,\n        collectionName: string,\n        document: Record<string, any>,\n        id: string,\n        masks: string[]\n    ) {\n        const meta: BroadcastMeta = {\n            nonce: this.provider.getNonce().toString(),\n            chainId: ChainId.MainNet,\n            chainRole: ChainRole.StorageShardChain,\n        }\n        const documentMask: DocumentMask = {\n            fields: masks,\n        }\n        //TODO add mask\n        const documentMutation: DocumentMutation = {\n            collectionName,\n            documents: [BSON.serialize(document)],\n            ids: [id],\n            masks: [documentMask],\n        }\n        const dm: DatabaseMutation = {\n            meta,\n            collectionMutations: [],\n            documentMutations: [documentMutation],\n            dbAddress: fromHEX(databaseAddress),\n            action: DatabaseAction.UpdateDocument,\n        }\n        const payload = DatabaseMutation.toBinary(dm)\n        return this.provider.sendMutation(payload, PayloadType.DatabasePayload)\n    }\n\n    async keepSessionAlive() {\n        if (!this.querySessionInfo || !this.sessionToken) {\n            const response = await this.provider.openSession()\n            this.sessionToken = response.sessionToken\n            this.querySessionInfo = response.querySessionInfo\n            log.info('create a new session token ', response.sessionToken)\n            return this.sessionToken\n        }\n        // TODO\n        if (this.querySessionInfo.queryCount > 1000) {\n            log.info(\n                'submit query session with count ',\n                this.querySessionInfo.queryCount\n            )\n            await this.provider.closeSession(\n                this.sessionToken,\n                this.querySessionInfo\n            )\n            const response = await this.provider.openSession()\n            this.sessionToken = response.sessionToken\n            this.querySessionInfo = response.querySessionInfo\n            log.info('create a new session token ', response.sessionToken)\n            return this.sessionToken\n        }\n        if (!this.sessionToken) {\n            log.warn('no session token')\n            throw new Error('sessioToken is not found')\n        }\n        return this.sessionToken\n    }\n}\n","//\n// database.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { DB3Client } from '../client/client'\nimport { Collection, Database } from '../proto/db3_database'\n\nexport class DB3Store {\n    readonly address: string\n    readonly client: DB3Client\n    _database: Database | undefined\n    _collections: Record<string, Collection> | undefined\n    constructor(address: string, client: DB3Client) {\n        this.address = address\n        this.client = client\n        this._database = undefined\n        this._collections = undefined\n    }\n\n    async getCollections(name: string) {\n        if (this._database && this._collections && this._collections[name]) {\n            return this._collections[name]\n        }\n        const database = await this.client.getDatabase(this.address)\n        this._database = database\n        this._collections = database?.collections\n        if (this._collections && this._collections[name]) {\n            return this._collections[name]\n        }\n        return undefined\n    }\n\n    async getDatabase() {\n        if (!this._database) {\n            const database = await this.client.getDatabase(this.address)\n            this._database = database\n            this._collections = database?.collections\n        }\n        return this._database\n    }\n}\n","//\n// account.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { DB3Client } from '../client/client'\n\nexport class DB3Account {\n    readonly address: string\n    readonly client: DB3Client\n    constructor(address: string, client: DB3Client) {\n        this.address = address\n        this.client = client\n    }\n\n    async getAccount() {\n        await this.client.getAccount(this.address)\n    }\n}\n\nexport function bytesToReadableNum(bytes_size: number): string {\n    const STORAGE_LABELS: string[] = [' ', 'K', 'M', 'G', 'T', 'P', 'E']\n    const max_shift = 7\n    var shift = 0\n    var local_bytes_size = bytes_size\n    var value = bytes_size\n    local_bytes_size >>= 10\n    while (local_bytes_size > 0 && shift < max_shift) {\n        value /= 1024.0\n        shift += 1\n        local_bytes_size >>= 10\n    }\n    return value.toFixed(2) + STORAGE_LABELS[shift]\n}\n\nexport function unitsToReadableNum(units: number): string {\n    return (units / 1000_000_000.0).toFixed(6)\n}\n","//\n// network.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport { DB3Client } from '../client/client'\nexport class DB3Network {\n    readonly client: DB3Client\n    constructor(client: DB3Client) {\n        this.client = client\n    }\n\n    async getState() {\n        return await this.client.getState()\n    }\n}\n","//\n// app.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// @ts-nocheck\n\nimport { DB3Client } from '../client/client'\nimport { Wallet } from '../wallet/wallet'\nimport { DB3Store } from './database'\nimport { DB3Account } from './account'\nimport { DB3Network } from './network'\n\nexport interface DB3SdkRuntime {\n    db: DB3Store\n    db3Account: DB3Account\n    DB3Network: DB3Network\n}\n\nexport function initializeDB3(\n    node: string,\n    dbAddress: string,\n    wallet: Wallet\n): DB3SdkRuntime {\n    const dbClient = new DB3Client(node, wallet)\n    const db = new DB3Store(dbAddress, dbClient)\n    const db3Account = new DB3Account(wallet.getAddress(), dbClient)\n    const db3Network = new DB3Network(dbClient)\n    const runtime: DB3SdkRuntime = {\n        db,\n        db3Account,\n        db3Network,\n    }\n    return runtime\n}\n","import { DB3Store } from './database'\nimport type { DocumentReference } from './document'\nimport type { CollectionReference } from './collection'\nimport type { DocumentData } from '../client/client'\nimport {\n    StructuredQuery_FieldFilter,\n    StructuredQuery_Filter,\n} from '../proto/db3_database'\nimport {\n    Query as InternalQuery,\n    parseQueryValue,\n    queryWithAddedFilter,\n    queryWithLimit,\n} from '../core/query'\nimport { Operator, parseOperator } from '../core/filter'\n\nexport class Query<T = DocumentData> {\n    /** The type of this Firestore reference. */\n    readonly type: 'query' | 'collection'\n    /**\n     * The `Firestore` instance for the Firestore database (useful for performing\n     * transactions, etc.).\n     */\n    readonly db: DB3Store\n\n    readonly _query: InternalQuery<T>\n\n    // This is the lite version of the Query class in the main SDK.\n\n    /** @hideconstructor protected */\n    constructor(db3store: DB3Store, _query: InternalQuery<T>) {\n        this.db = db3store\n        this.type = 'query'\n        this._query = _query\n    }\n}\n\nexport type QueryConstraintType =\n    | 'where'\n    | 'orderBy'\n    | 'limit'\n    | 'limitToLast'\n    | 'startAt'\n    | 'startAfter'\n    | 'endAt'\n    | 'endBefore'\n\nexport abstract class AppliableConstraint {\n    /**\n     * Takes the provided {@link Query} and returns a copy of the {@link Query} with this\n     * {@link AppliableConstraint} applied.\n     */\n    abstract _apply<T>(query: Query<T>): Query<T>\n}\n\n/**\n * A `QueryConstraint` is used to narrow the set of documents returned by a\n * Firestore query. `QueryConstraint`s are created by invoking {@link where},\n * {@link orderBy}, {@link startAt}, {@link startAfter}, {@link\n * endBefore}, {@link endAt}, {@link limit}, {@link limitToLast} and\n * can then be passed to {@link query} to create a new query instance that\n * also contains this `QueryConstraint`.\n */\nexport abstract class QueryConstraint extends AppliableConstraint {\n    /** The type of this query constraint */\n    abstract readonly type: QueryConstraintType\n\n    /**\n     * Takes the provided {@link Query} and returns a copy of the {@link Query} with this\n     * {@link AppliableConstraint} applied.\n     */\n    abstract _apply<T>(query: Query<T>): Query<T>\n}\n\n/**\n * A `QueryFieldFilterConstraint` is used to narrow the set of documents returned by\n * a Firestore query by filtering on one or more document fields.\n * `QueryFieldFilterConstraint`s are created by invoking {@link where} and can then\n * be passed to {@link query} to create a new query instance that also contains\n * this `QueryFieldFilterConstraint`.\n */\nexport class QueryFieldFilterConstraint extends QueryConstraint {\n    /** The type of this query constraint */\n    readonly type = 'where'\n\n    /**\n     * @internal\n     */\n    protected constructor(\n        private readonly _field: string,\n        private _op: Operator,\n        private _value: unknown\n    ) {\n        super()\n    }\n\n    static _create(\n        _field: string,\n        _op: Operator,\n        _value: unknown\n    ): QueryFieldFilterConstraint {\n        return new QueryFieldFilterConstraint(_field, _op, _value)\n    }\n\n    _apply<T>(query: Query<T>): Query<T> {\n        const filter = this._parse()\n        if (query.type == 'collection') {\n            const internalQuery: InternalQuery<T> = {\n                filters: [filter],\n                limit: null,\n                collection: query as CollectionReference<T>,\n            }\n            return new Query(query.db, internalQuery)\n        } else {\n            return new Query(\n                query.db,\n                queryWithAddedFilter(query._query, filter)\n            )\n        }\n    }\n\n    _parse(): StructuredQuery_Filter {\n        const filter = newQueryFilter(this._field, this._op, this._value)\n        return filter\n    }\n}\n\n/**\n * Filter conditions in a {@link where} clause are specified using the\n * strings '&lt;', '&lt;=', '==', '!=', '&gt;=', '&gt;', 'array-contains', 'in',\n * 'array-contains-any', and 'not-in'.\n */\nexport type WhereFilterOp =\n    | '<'\n    | '<='\n    | '=='\n    | '!='\n    | '>='\n    | '>'\n    | 'array-contains'\n    | 'in'\n    | 'array-contains-any'\n    | 'not-in'\n\n/**\n * Creates a {@link QueryFieldFilterConstraint} that enforces that documents\n * must contain the specified field and that the value should satisfy the\n * relation constraint provided.\n *\n * @param fieldPath - The path to compare\n * @param opStr - The operation string (e.g \"&lt;\", \"&lt;=\", \"==\", \"&lt;\",\n *   \"&lt;=\", \"!=\").\n * @param value - The value for comparison\n * @returns The created {@link QueryFieldFilterConstraint}.\n */\nexport function where(\n    field: string,\n    opStr: WhereFilterOp,\n    value: unknown\n): QueryFieldFilterConstraint {\n    const op = opStr as Operator\n    return QueryFieldFilterConstraint._create(field, op, value)\n}\n\nexport function query<T>(\n    query: Query<T>,\n    ...queryConstraints: QueryConstraint[]\n): Query<T> {\n    if (queryConstraints.length == 0) {\n        throw new Error('bad query constraint len')\n    }\n    for (const constraint of queryConstraints) {\n        query = constraint._apply(query)\n    }\n    return query\n}\n\nexport class QueryResult<T = DocumentData> {\n    readonly docs: Array<DocumentReference<T>>\n    readonly db: DB3Store\n    constructor(db3store: DB3Store, docs: Array<DocumentReference<T>>) {\n        this.db = db3store\n        this.docs = docs\n    }\n    get empty(): boolean {\n        return this.docs.length == 0\n    }\n    get size(): number {\n        return this.docs.length\n    }\n}\n\nfunction newQueryFilter(\n    field: string,\n    op: Operator,\n    value: unknown\n): StructuredQuery_Filter {\n    const queryOp = parseOperator(op)\n    const queryValue = parseQueryValue(value)\n    const filter: StructuredQuery_FieldFilter = {\n        field,\n        op: queryOp,\n        value: queryValue,\n    }\n    return {\n        filterType: {\n            oneofKind: 'fieldFilter',\n            fieldFilter: filter,\n        },\n    }\n}\n\n/**\n * A `QueryLimitConstraint` is used to limit the number of documents returned by\n * a Firestore query.\n * `QueryLimitConstraint`s are created by invoking {@link limit} or\n * {@link limitToLast} and can then be passed to {@link query} to create a new\n * query instance that also contains this `QueryLimitConstraint`.\n */\nexport class QueryLimitConstraint extends QueryConstraint {\n    /**\n     * @internal\n     */\n    protected constructor(\n        /** The type of this query constraint */\n        readonly type: 'limit',\n        private readonly _limit: number\n    ) {\n        super()\n    }\n\n    static _create(type: 'limit', _limit: number): QueryLimitConstraint {\n        return new QueryLimitConstraint(type, _limit)\n    }\n\n    _apply<T>(query: Query<T>): Query<T> {\n        if (query.type == 'collection') {\n            const internalQuery: InternalQuery<T> = {\n                filters: [],\n                limit: null,\n                collection: query as CollectionReference<T>,\n            }\n            return new Query(\n                query.db,\n                queryWithLimit(internalQuery, this._limit)\n            )\n        } else {\n            return new Query(\n                query.db,\n                queryWithLimit(query._query, this._limit)\n            )\n        }\n    }\n}\n\n/**\n * Creates a {@link QueryLimitConstraint} that only returns the first matching\n * documents.\n *\n * @param limit - The maximum number of items to return.\n * @returns The created {@link QueryLimitConstraint}.\n */\nexport function limit(limit: number): QueryLimitConstraint {\n    return QueryLimitConstraint._create('limit', limit)\n}\n","//\n// query.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n\nimport {\n    StructuredQuery_Filter,\n    StructuredQuery_Value,\n    StructuredQuery_Limit,\n} from '../proto/db3_database'\n\nimport type { CollectionReference } from '../store/collection'\n\n/**\n * The Query interface defines all external properties of a query.\n *\n * QueryImpl implements this interface to provide memoization for `queryOrderBy`\n * and `queryToTarget`.\n */\nexport interface Query<T> {\n    readonly filters: StructuredQuery_Filter[]\n    readonly limit: StructuredQuery_Limit | null\n    readonly collection: CollectionReference<T>\n}\n\nexport function parseQueryValue(value: unknown): StructuredQuery_Value {\n    if (typeof value === 'string') {\n        return {\n            valueType: {\n                oneofKind: 'stringValue',\n                stringValue: value,\n            },\n        }\n    }\n\n    if (typeof value === 'boolean') {\n        return {\n            valueType: {\n                oneofKind: 'booleanValue',\n                booleanValue: value,\n            },\n        }\n    }\n    //TODO add other types\n    return {\n        valueType: {\n            oneofKind: undefined,\n        },\n    }\n}\n\nexport function queryWithAddedFilter<T>(\n    query: Query<T>,\n    filter: StructuredQuery_Filter\n): Query<T> {\n    const newFilters = query.filters.concat([filter])\n    return {\n        ...query,\n        filters: newFilters,\n    }\n}\nexport function queryWithLimit<T>(query: Query<T>, limit: number): Query<T> {\n    const slimit: StructuredQuery_Limit = {\n        limit,\n    }\n    return {\n        ...query,\n        limit: slimit,\n    }\n}\n","//\n// collection.ts\n// Copyright (C) 2023 db3.network Author imotai <codego.me@gmail.com>\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// @ts-nocheck\n\nimport { Index } from '../proto/db3_database'\nimport { DB3Store } from './database'\nimport { DocumentReference } from './document'\nimport type { DocumentData } from '../client/client'\nimport { Query } from './query'\n\nexport class CollectionReference<T = DocumentData> extends Query<T> {\n    readonly type = 'collection'\n    readonly db: DB3Store\n    readonly name: string\n    constructor(db: DB3Store, name: string) {\n        super(db)\n        this.name = name\n        this.db = db\n    }\n}\nexport function collection<T = DocumentData>(\n    db: DB3Store,\n    name: string,\n    index?: Index[]\n): Promise<CollectionReference<T>>\n\nexport function collection<T = DocumentData>(\n    db: DB3Store,\n    name: string,\n    index?: Index[]\n): Promise<CollectionReference<T>> {\n    return new Promise((resolve, reject) => {\n        db.getCollections(name).then((collection) => {\n            if (!collection) {\n                db.client\n                    .createCollection(db.address, name, index)\n                    .then((txid) => {\n                        resolve(new CollectionReference<T>(db, name))\n                    })\n            } else {\n                resolve(new CollectionReference<T>(db, name))\n            }\n        })\n    })\n}\n","import { CollectionReference, collection } from './collection'\nimport { DB3Store } from './database'\nimport { Query, QueryResult } from './query'\nimport { StructuredQuery } from '../proto/db3_database'\nimport { DocumentEntry, DocumentData } from '../client/client'\n\nexport class DocumentReference<T = DocumentData> {\n    /** The type of this Firestore reference. */\n    readonly type = 'document'\n    /**\n     * The {@link Firestore} instance the document is in.\n     * This is useful for performing transactions, for example.\n     */\n    readonly collection: CollectionReference<T>\n    readonly entry: DocumentEntry<T>\n\n    /** @hideconstructor */\n    constructor(collection: CollectionReference<T>, entry: DocumentEntry<T>) {\n        this.collection = collection\n        this.entry = entry\n    }\n}\n\n//\n// add a document with collection reference\n//\nexport function addDoc<T = DocumentData>(\n    reference: CollectionReference<T>,\n    data: T\n): Promise<any> {\n    return new Promise((resolve, reject) => {\n        const db = reference.db\n        db.client\n            .createDocument(db.address, reference.name, data as DocumentData)\n            .then((result) => {\n                resolve(result)\n            })\n    })\n}\n\n//export async function doc<T>(\n//    reference: CollectionReference<T>,\n//    id: string\n//): Promise<DocumentReference<T>> {\n//    const db = reference.db\n//}\n\nexport function getDocs<T = DocumentData>(\n    query: Query\n): Promise<QueryResult<T>> {\n    return new Promise((resolve, reject) => {\n        const db = query.db\n        if (query.type == 'collection') {\n            const colref = query as CollectionReference\n            const squery: StructuredQuery = {\n                collectionName: colref.name,\n            }\n            db.client.runQuery<T>(db.address, squery).then((docs) => {\n                const new_docs = docs.map(\n                    (item) => new DocumentReference<T>(colref, item)\n                )\n                resolve(new QueryResult<T>(db, new_docs))\n            })\n        } else {\n            const internalQuery = query._query\n            const colref = internalQuery.collection\n            const squery: StructuredQuery = {\n                collectionName: internalQuery.collection.name,\n            }\n            if (internalQuery.filters.length > 0) {\n                squery.where = internalQuery.filters[0]\n            }\n            if (internalQuery.limit != null) {\n                squery.limit = internalQuery.limit\n            }\n            db.client.runQuery<T>(db.address, squery).then((docs) => {\n                const new_docs = docs.map(\n                    (item) => new DocumentReference<T>(colref, item)\n                )\n                resolve(new QueryResult<T>(db, new_docs))\n            })\n        }\n    })\n}\n\nexport function deleteDoc<T = DocumentData>(\n    reference: DocumentReference<T>\n): Promise<void> {\n    const db = reference.collection.db\n    const id = reference.entry.id\n    return new Promise((resolve, reject) => {\n        db.client\n            .deleteDocument(db.address, reference.collection.name, [id])\n            .then(() => {\n                resolve()\n            })\n    })\n}\n\nexport function updateDoc<T = DocumentData>(\n    reference: DocumentReference<T>,\n    data: any\n): Promise<void> {\n    const db = reference.collection.db\n    const masks = Object.keys(data)\n    const doc = reference.entry.doc as DocumentData\n    const id = reference.entry.id\n    for (const key in data) {\n        doc[key] = data[key]\n    }\n    return new Promise((resolve, reject) => {\n        db.client\n            .updateDocument(\n                db.address,\n                reference.collection.name,\n                doc,\n                id,\n                masks\n            )\n            .then(() => {\n                resolve()\n            })\n    })\n}\n"],"names":["typeofJsonValue","value","t","Array","isArray","encTable","split","decTable","i","length","charCodeAt","base64decode","base64Str","es","b","bytes","Uint8Array","bytePos","groupPos","p","undefined","Error","subarray","base64encode","base64","UnknownFieldHandler","WireType","varint64read","lowBits","highBits","shift","this","buf","pos","assertBounds","middleByte","varint64write","lo","hi","hasNext","push","splitBits","hasMoreBits","indexOf","symbol","Symbol","for","onRead","typeName","message","fieldNo","wireType","data","is","no","onWrite","writer","list","tag","raw","all","filter","uf","last","slice","TWO_PWR_32_DBL","int64fromString","dec","minus","base","add1e6digit","begin","end","digit1e6","Number","int64toString","bitsLow","bitsHigh","mid","high","digitA","digitB","digitC","decimalFrom1e7","digit1e7","needLeadingZeros","partial","String","Math","floor","varint32write","varint32read","result","readBytes","BI","dv","DataView","ArrayBuffer","globalThis","BigInt","getBigInt64","getBigUint64","setBigInt64","setBigUint64","MIN","MAX","UMIN","UMAX","C","V","detectBi","assertBi","bi","RE_DECIMAL_STR","SharedPbLong","constructor","isZero","toNumber","isSafeInteger","PbULong","static","ZERO","getInt32","trim","test","toString","toBigInt","setInt32","PbLong","pbl","negate","isNegative","n","defaultsRead","readUnknownField","readerFactory","BinaryReader","textDecoder","varint64","uint32","len","view","buffer","byteOffset","byteLength","TextDecoder","fatal","ignoreBOM","skip","start","Varint","Bit64","Bit32","LengthDelimited","StartGroup","EndGroup","RangeError","int32","sint32","zze","int64","uint64","sint64","s","bool","fixed32","getUint32","sfixed32","fixed64","sfixed64","float","getFloat32","double","getFloat64","string","decode","assert","condition","msg","assertInt32","arg","isInteger","assertUInt32","assertFloat32","isFinite","defaultsWrite","writeUnknownFields","writerFactory","BinaryWriter","textEncoder","stack","TextEncoder","chunks","finish","offset","set","fork","join","chunk","prev","pop","type","encode","setFloat32","setFloat64","setUint32","long","from","sign","emitDefaultValues","enumAsInteger","useProtoFieldName","prettySpaces","ignoreUnknownFields","mergeJsonOptions","a","_a","_b","c","Object","assign","typeRegistry","MESSAGE_TYPE","lowerCamelCase","snakeCase","capNext","sb","next","charAt","toUpperCase","toLowerCase","ScalarType","LongType","RepeatType","normalizeFieldInfo","field","_c","_d","localName","name","jsonName","repeat","NO","opt","oneof","kind","isOneofGroup","any","hasOwnProperty","oneofKind","keys","ReflectionTypeCheck","info","fields","prepare","req","known","oneofs","includes","values","depth","allowExcessProperties","some","k","group","find","f","repeated","scalars","T","L","scalar","INT32","messages","mapKeys","K","isAssignable","longType","argType","UINT64","FIXED64","INT64","SFIXED64","SINT64","BIGINT","NUMBER","isNaN","BOOL","STRING","BYTES","DOUBLE","FLOAT","map","FIXED32","SFIXED32","SINT32","UINT32","parseInt","reflectionLongConvert","ReflectionJsonReader","fMap","fieldsInput","fieldName","jsonValue","what","read","input","options","oneofsHandled","jsonKey","entries","target","fieldObj","jsonObjKey","jsonObjValue","val","internalJsonRead","enum","key","fieldArr","jsonItem","json","localEnumName","substring","enumNumber","e","NaN","POSITIVE_INFINITY","NEGATIVE_INFINITY","encodeURIComponent","error","ReflectionJsonWriter","write","source","jsonObj","entryKey","entryValue","messageType","enumInfo","jsonArr","optional","internalJsonWrite","ed","ulong","reflectionScalarDefault","ReflectionBinaryReader","fieldNoToField","Map","reader","get","u","d","arr","internalBinaryRead","mapKey","mapVal","mapEntry","keyRaw","create","ReflectionBinaryWriter","concat","sort","emitDefault","PACKED","packed","item","keyValue","handler","internalBinaryWrite","method","isDefault","scalarInfo","m","reflectionMergePartial","fieldValue","output","mergePartial","objectValues","primitiveEq","ba","bb","repeatedPrimitiveEq","repeatedMsgEq","equals","MessageType","defaultCheckDepth","refTypeCheck","refJsonReader","refJsonWriter","refBinReader","refBinWriter","defineProperty","enumerable","reflectionCreate","clone","copy","val_a","val_b","reflectionEquals","fromBinary","binaryReadOptions","fromJson","jsonReadOptions","fromJsonString","JSON","parse","toJson","jsonWriteOptions","toJsonString","stringify","toBinary","binaryWriteOptions","Account","super","Index_IndexField_Order","Index_IndexField_ArrayConfig","Index_State","StructuredQuery_FieldFilter_Operator","Database","Collection","Index","Document","Index_IndexField","StructuredQuery","StructuredQuery_Projection","StructuredQuery_Filter","StructuredQuery_Limit","StructuredQuery_FieldFilter","StructuredQuery_Value","nacl","gf","init","r","Float64Array","randombytes","_0","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","x","h","l","vn","xi","y","yi","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","out","inp","o","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","t0","t1","t2","t3","t4","t5","t6","t7","Uint16Array","pad","leftover","fin","crypto_onetimeauth","outpos","update","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","v","sel25519","q","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","x32","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","prototype","blocks","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","crypto_hashblocks_hl","hh","hl","bh1","bh2","bh4","bh5","bh6","bh7","bl1","bl2","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","crypto_hash","add","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","modL","carry","reduce","crypto_sign","sm","smlen","crypto_sign_open","chk","num","den","den2","den4","den6","unpackneg","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","arguments","TypeError","cleanup","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","randomBytes","secretbox","nonce","open","box","keyLength","nonceLength","overheadLength","scalarMult","scalarLength","groupElementLength","publicKey","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hash","hashLength","setPRNG","fn","crypto","self","msCrypto","getRandomValues","min","require","require$$0","module","exports","INPUT_ERROR","WINDOW","window","root","JS_SHA3_NO_WINDOW","WEB_WORKER","JS_SHA3_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA3_NO_COMMON_JS","ARRAY_BUFFER","JS_SHA3_NO_ARRAY_BUFFER","HEX_CHARS","CSHAKE_PADDING","SHIFT","RC","BITS","SHAKE_BITS","OUTPUT_TYPES","CSHAKE_BYTEPAD","obj","call","JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","bits","padding","outputType","Keccak","createShakeOutputMethod","outputBits","createCshakeOutputMethod","methods","createKmacOutputMethod","createOutputMethods","createMethod","algorithms","w","bytepad","Kmac","methodNames","algorithm","methodName","newMethodName","reset","finalized","block","blockCount","byteCount","outputBlocks","extraBytes","notString","code","index","lastByteIndex","right","unshift","encodeString","str","strs","zeros","finalize","hex","arrayBuffer","array","Uint32Array","digest","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","b16","b17","b18","b19","b20","b21","b22","b23","b24","b25","b26","b27","b28","b29","b30","b31","b32","b33","b34","b35","b36","b37","b38","b39","b40","b41","b42","b43","b44","b45","b46","b47","b48","b49","number","lengths","outputLen","blockLen","exists","instance","checkFinished","destroyed","finished","createView","rotr","word","hexes","padStart","utf8ToBytes","toBytes","concatBytes","arrays","every","Hash","_cloneInto","wrapConstructor","hashConstructor","hashC","SHA2","padOffset","isLE","take","dataView","roundClean","digestInto","fill","_32n","_u32_max","oview","outLen","state","res","destroy","to","U32_MASK64","fromBig","le","u64","Ah","Al","Bh","Bl","Cl","low","Ch","Dl","Dh","Eh","El","SHA512_Kh","SHA512_Kl","lst","SHA512_W_H","SHA512_W_L","SHA512","Fh","Fl","Gh","Gl","Hh","Hl","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","All","SHA512_224","SHA512_256","SHA384","sha512","HMAC","_key","iHash","oHash","getPrototypeOf","hmac","pathRegex","RegExp","replaceDerive","replace","fromHEX","hexStr","intArr","match","byte","toHEX","fromB64","sBase64","nBlocksSize","nMod3","nMod4","nChr","sB64Enc","nInLen","nOutLen","ceil","taBytes","nUint24","nOutIdx","nInIdx","uint6ToB64","nUint6","toB64","aBytes","nLen","nIdx","fromCodePoint","bytesEqual","toBase64","toAddress","PUBLIC_KEY_SIZE","sha3","sha3_256","default","web","checkOpts","asyncLoop","nextTick","hexToBytes","bytesToHex","u8","u32","uint8a","hexByte","async","iters","tick","cb","ts","Date","now","diff","defaults","opts","wrapConstructorWithOpts","hashCons","bytesLength","crypto_1","utils_js_1","_assert_js_1","pbkdf2Init","_password","_salt","_opts","dkLen","asyncTick","password","salt","DK","PRF","hmac_js_1","PRFSalt","pbkdf2Output","prfW","pbkdf2Async","pbkdf2","ti","Ti","ui","sha224","sha256","Maj","SHA256_K","IV","SHA256_W","SHA256","_sha2_js_1","B","E","F","G","H","W15","W2","s0","s1","T1","T2","SHA224","toBig","shrSH","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","add3L","add3H","add4L","add4H","add5H","add5L","sha384","sha512_224","_u64_js_1","sha512_256","assertNumber","chain","args","wrap","reverse","acc","alphabet","digits","letter","separator","chr","normalize","convertRadix","forEach","done","digit","digitBase","stringToBytes","bytesToString","bech32m","bech32","base58check","base58xmr","base58xrp","base58flickr","base64url","base32hex","base32","utils","gcd","radix2carry","convertRadix2","radix","radix2","revPadding","unsafeWrapper","apply","checksum","payload","newChecksum","oldChecksum","base16","base32crockford","genBase58","abc","base58","XMR_BLOCK_LEN","BECH_ALPHABET","POLYMOD_GENERATORS","bech32Polymod","pre","bechChecksum","prefix","words","encodingConst","genBech32","encoding","ENCODING_CONST","_words","fromWords","toWords","fromWordsUnsafe","limit","lowered","sepIndex","lastIndexOf","sum","endsWith","actualLength","decodeToBytes","decodeUnsafe","utf8","CODERS","coderTypeError","nfkd","norm","assertEntropy","entropy","_assert_1","mnemonicToSeedSync","validateMnemonic","entropyToMnemonic","generateMnemonic","wordlist","strength","utils_1","calcChecksum","bitsLeft","sha256_1","getCoder","base_1","mnemonicToEntropy","mnemonic","isJapanese","passphrase","mnemonicToSeed","pbkdf2_1","sha512_1","mnemonics","bip39MnemonicToSeedSync","Ed25519Keypair","keypair","getKeyScheme","signData","signature","ED25519_SIGNATURE_LEN","path","isValidHardenedPath","isValidPath","chainCode","getMasterKeyFromSeed","el","parentKeys","segment","indexBuffer","CKDPriv","derivePath","mnemonicToSeedHex","pubkey","privateKey","withZeroByte","signPk","newArr","getPublicKey","fullPrivateKey","Ed25519PublicKey","export","schema","_0n","_1n","_2n","_3n","_8n","CURVE","freeze","P","Gx","Gy","beta","weistrass","mod","USE_ENDOMORPHISM","ShaError","JacobianPoint","Point","points","toInv","nums","scratch","lastMultiplied","inverted","invert","reduceRight","invertBatch","toAffine","toAffineBatch","fromAffine","other","X1","Y1","Z1","X2","Y2","Z2","Z1Z1","Z2Z2","U1","U2","S1","S2","x1b","X3","Y3","Z3","HH","HHH","subtract","multiplyUnsafe","P0","normalizeScalar","k1neg","k1","k2neg","k2","splitScalarEndo","k1p","k2p","precomputeWindow","W","windows","wNAF","affinePoint","BASE","_WINDOW_SIZE","precomputes","pointPrecomputes","normalizeZ","windowSize","maxNumber","shiftBy","wbits","pr","cached","abs","multiply","point","fake","f1p","f2p","invZ","iz1","iz2","iz3","ax","ay","WeakMap","_setWindowSize","delete","hasEvenY","isShort","bytesToNumber","isValidFieldElement","_6n","_11n","_22n","_23n","_44n","_88n","pow2","b88","b176","b220","b223","sqrtMod","isYOdd","assertValidity","ensureBytes","header","fromCompressedHex","fromUncompressedHex","normalizePrivateKey","msgHash","recovery","delta","truncateHash","Signature","fromDER","fromCompact","normalizeSignature","R","fromHex","numTo32bStr","rinv","u1","u2","Q","multiplyAndAddUnsafe","toRawBytes","isCompressed","toHex","toHexX","toRawX","left","aP","bQ","sliceDER","parseDERInt","hexToNumber","sBytes","rBytesLeft","parseDERSignature","isWithinCurveOrder","hasHighS","normalizeS","toDERRawBytes","toDERHex","sHex","numberToHexUnpadded","rHex","rLen","sLen","toCompactRawBytes","toCompactHex","POW_2_256","numTo32b","power","modulo","divNearest","ENDO","a1","a2","POW_2_128","_sha256Sync","_hmacSha256Sync","HmacDrbg","counter","hmacSha256","hmacSync","checkSync","incr","reseedSync","generateSync","kmdToSig","kBytes","fromPrivateKey","recoverPublicKey","fromSignature","bits2int","bits2octets","z1","z2","int2octets","nodeCrypto","TAGGED_HASH_PREFIXES","isValidPrivateKey","_bigintTo32Bytes","_normalizePrivateKey","hashToPrivateKey","randomPrivateKey","subtle","createHash","ckey","importKey","createHmac","sha256Sync","hmacSha256Sync","taggedHash","tagP","tagH","taggedHashSync","precompute","defineProperties","configurable","Secp256k1PublicKey","SECP256K1_PUBLIC_KEY_SIZE","Rho","Id","_","Pi","idxL","idxR","shifts","shiftsL","idx","shiftsR","Kl","Kr","rotl","BUF","RIPEMD160","al","ar","bl","br","cl","cr","dl","dr","er","rGroup","hbl","hbr","rl","rr","sl","sr","tr","ripemd160","endo","splitScalar","weierstrass","assertJacPoint","offset1","offset2","cond2","constTimeNegate","is0","zz","neg","rt","fieldLen","radj","sHexL","rHexL","truncateOnly","groupLen","bits2int_2","hashLen","qByteLen","lowS","kinv","vopts","strict","_JacobianPoint","secp.utils","msgs","base58checker","MASTER_SECRET","BITCOIN_VERSIONS","private","public","HARDENED_OFFSET","toU32","HDKey","parentFingerprint","privKey","privKeyBytes","pubKey","secp.getPublicKey","secp.Point","pubHash","fingerprint","identifier","pubKeyHash","privateExtendedKey","priv","serialize","publicExtendedKey","assertBytes","base58key","keyBuffer","keyView","version","isPriv","fromExtendedKey","xpriv","derive","parts","child","exec","deriveChild","childTweak","added","secp.CURVE","err","extraEntropy","seedArgs","initSigArgs","drbg","canonical","recSig","der","recovered","hashed","finalizeSig","secp.signSync","secp.Signature","normalizePublicKey","sinv","secp.verify","wipePrivateData","toJSON","xpub","secp","Secp256k1Keypair","rec_id","SECP256K1_SIGNATURE_LEN","isValidBIP32Path","fromMasterSeed","WALLET_KEY","WALLET_ADDRESS","DB3BrowserWallet","walletType","getAddress","_localStorage$getItem","localStorage","getItem","getType","_localStorage$getItem2","generate","wallet","setItem","deriveKeypair","lookup","revLookup","Arr","encodeChunk","uint8","ReflectOwnKeys","mLen","nBytes","eLen","eMax","eBias","nBits","Infinity","pow","log","LN2","customInspectSymbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","setPrototypeOf","encodingOrOffset","allocUnsafe","isEncoding","actual","fromString","arrayView","isInstance","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","isBuffer","checked","numberIsNaN","fromObject","toPrimitive","assertSize","size","mustMatch","loweredCase","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","utf16leToBytes","maxChunkLength","len2","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","poolSize","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","toLocaleString","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","_arr","ret","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","ieee754","writeDouble","newBuf","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","sym","getMessage","Base","writable","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","INVALID_BASE64_RE","leadSurrogate","b64","lens","validLen","getLens","placeHoldersLen","_byteLength","curByte","base64clean","src","dst","table","i16","BufferBigIntNotDefined","schnorr","signSync","getSharedSecret","isProbPub","compressedLen","uncompressedLen","privateA","publicB","reseed","schnorrChallengeFinalize","ch","SchnorrSignature","InternalSchnorrSignature","auxRand","getScalar","px","rand","initNonce","t0h","finalizeNonce","k0h","k0","rx","TAGS","aux","challenge","schnorrVerify","calcSync","schnorrVerifySync","initSchnorrVerify","finalizeSchnorrVerify","calc","verifySync","secp256k1_2","secp256k1_1","hmac_1","MAX_WITHDRAWALS_PER_PAYLOAD","RLP_EMPTY_STRING","KECCAK256_RLP","KECCAK256_RLP_S","KECCAK256_RLP_ARRAY","KECCAK256_NULL","KECCAK256_NULL_S","TWO_POW256","SECP256K1_ORDER_DIV_2","MAX_INTEGER_BIGINT","MAX_INTEGER","MAX_UINT64","SECP256K1_ORDER","buffer_1","KECCAK256_RLP_ARRAY_S","GWEI_TO_WEI","outputLength","encoded","encodeLength","inputBuf","safeSlice","decodeLength","parseHexByte","hexLength","numberToHex","stream","decoded","_decode","remainder","llength","innerRemainder","totalLength","RLP","cachedHexes","_v","utf","integer","isHexPrefixed","shake256","shake128","keccak_512","keccak_384","keccak_256","keccak_224","sha3_512","sha3_384","sha3_224","keccakP","SHA3_PI","SHA3_ROTL","_SHA3_IOTA","_7n","_256n","_0x71n","round","SHA3_IOTA_H","SHA3_IOTA_L","rotlH","rotlL","rounds","idx1","idx0","B0","B1","Th","Tl","curH","curL","PI","suffix","enableXOF","posOut","state32","keccak","writeInto","bufferOut","xofInto","xof","gen","genShake","__importDefault","__esModule","wrapHash","equalsBytes","bytesToUtf8","assertBool","utils_2","sliced","startsWith","webCrypto","nodeRequire","module.require","bind","keccak512","keccak384","keccak256","keccak224","sha3_1","padToEven","isHexString","getKeys","fromAscii","fromUtf8","toAscii","arrayContainsArray","getBinarySize","stripHexPrefix","superset","subset","stringValue","params","allowEmpty","assertIsString","assertIsArray","assertIsBuffer","assertIsHexString","internal_1","intToUnpaddedBuffer","bigIntToUnpaddedBuffer","bigIntToHex","bufArrToArr","arrToBufArr","validateNoLeadingZeroes","baToJSON","toUtf8","short","addHexPrefix","toUnsigned","fromSigned","bufferToInt","bigIntToBuffer","bufferToHex","toBuffer","unpadHexString","unpadArray","unpadBuffer","setLengthRight","setLengthLeft","intToBuffer","intToHex","setLength","helpers_1","stripZeros","bufferToBigInt","toArray","asIntN","asUintN","maxLength","bufferStr","accountBodyToRLP","accountBodyFromSlim","isZeroAddress","importPublic","privateToAddress","publicToAddress","pubToAddress","isValidPrivate","generateAddress2","isValidChecksumAddress","toChecksumAddress","balance","storageRoot","constants_1","codeHash","_validate","accountData","bytes_1","serialized","rlp_1","fromValuesArray","isContract","isEmpty","body","isValidAddress","hexAddress","eip1191ChainId","address","keccak_1","generateAddress","initCode","isValidPublic","sanitize","privateToPublic","zeroAddress","addr","emptyUint8Arr","accountBodyToSlim","couldBeSlim","accountBody","Address","account_1","zero","isPrecompileOrSystemAddress","rangeMin","rangeMax","TypeOutput","toType","bigInt","MAX_SAFE_INTEGER","PrefixedHexString","Withdrawal","validatorIndex","amount","withdrawalData","indexData","validatorIndexData","addressData","amountData","types_1","address_1","withdrawalArray","fromWithdrawalData","withdrawal","validatorIndexBuffer","addressBuffer","toBufferArray","toValue","calculateSigRecovery","chainId","isValidSigRecovery","hashPersonalMessage","isValidSignature","toCompactSig","toRpcSig","ecsign","ecrecover","senderPubKey","ss","fromRpcSig","homesteadOrLater","rBigInt","sBigInt","toGindex","anchor","gindexChild","gindexParent","gindexSibling","concatGindices","getGindexBits","getGindicesAtDepth","iterateAtDepth","countToDepth","convertGindexToBitstring","toGindexBitstring","bitIndexBigInt","gindex","ERR_INVALID_GINDEX","count","startIndex","iterator","gindices","gindexIterator","bitstring","bit","remainingBitLength","rightChild","wasmCode","newInstance","_module","WebAssembly","Module","wasmCode_1","importObj","env","abort","file","line","col","Instance","byteArrayToHashObject","hashObjectToByteArray","byteArr","ctx","wasm_1","wasmInputValue","wasmOutputValue","uint8InputArray","memory","INPUT_LENGTH","uint8OutputArray","final","digest64HashObjects","digest2Bytes32","hashObject_1","inputUint8Array","outputUint8Array","inputUint32Array","digest64","bytes1","bytes2","obj1","obj2","isHashObject","hashObjectToUint8Array","hashTwoObjects","as_sha256_1","uint8ArrayToHashObject","bitwiseOrNodeH","setNodeH","compose","identity","BranchNode","Node","TWO_POWER_32","applyHash","_left","_right","rootHashObject","hash_1","isLeaf","LeafNode","fromHashObject","ho","writeToBytes","getUint","uintBytes","offsetBytes","clipInfinity","hIndex","bitIndex","getNodeH","getUintBigint","hRange","setUint","setUintBigint","valueBN","hEnd","bitwiseOrUint","inner","outer","zeroNode","zeroes","node_1","fromZero","height","subtreeFillToDepth","bottom","subtreeFillToContents","subtreeFillToLength","zeroNode_1","pivot","nodes","countRemainder","countEven","packedRootsBytesToLeafNodes","fullNodeCount","leafNodes","remainderBytes","fullHCount","remainderUint32","getUint8","packedNodeRootsToBytes","packedRootsBytesToNode","subtree_1","setUint8","createNodeFromSingleProof","createSingleProof","ERR_INVALID_NAV","rootNode","witnesses","gindex_1","leaf","fromRoot","sibling","treeZeroAfterIndex","iterateNodesAtDepth","getNodesAtDepth","setNodesAtDepth","setNodeAtDepth","getNodeAtDepth","setNodeWithFn","setNode","getNode","Tree","hook","_rootNode","WeakRef","proof","proof_1","createNodeFromProof","newRootNode","hookVar","deref","getSubtree","getRoot","getNewNode","setRoot","getSingleProof","single_1","getProof","createProof","gindexBitstring","rebindNodeToRoot","getParentNodes","parentNodes","lastParentNode","newNode","isLeftNode","nodesDepth","nodeChanged","indexes","parentNodeStack","leftParentNodeStack","depthiRoot","depthi","isLastIndex","diffDepthi","log2","depthiParent","leftNode","isLeftStack","isLeft","endIndex","computeProofBitstrings","Set","branch","lastBit","parent","sortInOrderBitstrings","bitLength","padEnd","sortDecreasingBitstrings","aPos0","bPos0","filterParentBitstrings","sortedBitstrings","filtered","bsA","SortOrder","computeMultiProofBitstrings","computeProofGindices","includeLeaves","sortOrder","InOrder","leaves","paths","branches","maxBitLength","Decreasing","Unsorted","createNodeFromMultiProof","createMultiProof","tree","tree_1","witnessGindices","util_1","leafGindices","leafBitstrings","witnessBitstrings","maxLevel","levels","fromEntries","leafBitstring","witnessBitstring","level","parentLevel","parentBitstring","siblingBitstring","siblingNode","parentNode","nodeToTreeOffsetProof","proofGindices","leftOffsets","leftLeaves","rightOffsets","rightLeaves","treeOffsetProofToNode","offsets","deserializeTreeOffsetProof","serializeTreeOffsetProof","createNodeFromTreeOffsetProof","createTreeOffsetProof","computeTreeOffsetProofSerializedLength","setUint16","offsetsStartIndex","leavesStartIndex","leafCount","getUint16","ProofType","deserializeProof","ProofTypeSerialized","single","treeOffset","multi","treeOffset_1","multi_1","serializeProof","proofType","__createBinding","__exportStar","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","zeroHash","zeroHashes","hash64","bytes32A","bytes32B","nextPowerOf2","maxChunksToDepth","mixInLength","splitIntoRootChunks","merkleize","padFor","layerCount","zeros_1","chunkCount","padCount","paddedChunkCount","longChunk","lengthBuf","namedClass","superClass","className","Function","addLengthNode","chunksNode","persistent_merkle_tree_1","fromUint32","assertValidArrayLength","arrayProps","checkNonDecimalLength","isList","value_defaultValueArray","value_equals","value_cloneArray","value_toJsonArray","tree_deserializeFromBytesArrayBasic","tree_serializeToBytesArrayBasic","value_deserializeFromBytesArrayBasic","value_serializeToBytesArrayBasic","getChunksNodeFromRootNode","getLengthFromRootNode","setChunksNode","newLength","lengthNode","elementType","elSize","value_serializeToBytes","value_deserializeFromBytes","chunkDepth","value_fromJsonArray","newValue","defaultValue","getUint8ByteToBitBooleanArray","BitArray","uint8ByteToBitBooleanArrays","uint8Array","bitLen","bitArray","fromBitLen","bitBoolArr","byteIdx","mergeOrWith","bitArray2","intersectValues","yes","fullByteLen","remainderBits","iByte","booleansInByte","iBit","getTrueBitIndexes","byteLen","getSingleTrueBit","toBoolArray","binaryStr","binaryLength","computeUint8ByteToBitBooleanArray","byteArrayEquals","fromHexString","toHexString","hexByByte","isCompositeType","isBasic","bitstringToIndex","treePostProcessFromProofNode","currentDepth","nodePost","tree_fromProofNode","atTypeDepth","jsonPathProp","getIndexProperty","childType","getPropertyType","maxChunkCount","rightNode","Type","value_toTree","value_serializedSize","tree_deserializeFromBytes","tree_toValue","tree_serializedSize","tree_serializeToBytes","deserialize","CompositeType","LENGTH_GINDEX","symbolCachedPermanentRoot","abstract_1","cachePermanentRootStruct","defaultView","toView","defaultViewDU","toViewDU","deserializeToView","getView","deserializeToViewDU","getViewDU","toValueFromView","commitView","toValueFromViewDU","commitViewDU","toViewFromViewDU","toViewDUFromView","hashTreeRoot","cachedRoot","merkleize_1","getRoots","getCachedPermanentRoot","createFromProof","rootNodeFromProof","treePostProcessFromProofNode_1","byteArray_1","tree_createProof","jsonPaths","gindexes","tree_createProofGindexes","jsonPath","getPathInfo","leafGindexes","tree_getLeafGindices","fixedSize","prop","getPropertyGindex","TreeView","BitArrayTreeView","TreeViewDU","commit","dontTransferCache","cache","clearCache","BitArrayTreeViewDU","_bitArray","BitArrayType","composite_1","isViewMutable","bitArray_1","bitArray_2","cacheOfViewDU","rootGindex","tree_getByteLen","BitListType","limitBits","minSize","maxSize","named_1","bitLenToSerializedLength","applyPaddingBit","deserializeUint8ArrayBitListFromBytes","arrayBasic_1","chunkLen","lastByte","lastByteBitLength","newOffset","BitVectorType","lengthBits","zeroBitsMask","assertValidLength","isBasicType","BasicType","assertValidSize","BooleanType","basic_1","itemsPerChunk","tree_getFromNode","leafNode","tree_setToNode","tree_getFromPackedNode","tree_setToPackedNode","ByteArrayType","ByteListType","limitBytes","ByteVectorType","lengthBytes","unicodes","basicSymbols","baseLowerCase","baseUpperCase","regexps","symbols","lowers","uppers","impropers","capitalize","pascal","sentence","improper","relax","upper","hole","apostrophe","room","re","types","up","cap","decap","deapostrophe","prep","holey","acronym","caps","Case","of","flip","random","lower","snake","constant","camel","kebab","capital","border","title","small","names","abbreviations","prelude","abbr","abbrAndSpace","squish","define","getContainerTreeViewClass","ContainerTreeView","CustomContainerTreeView","fieldsEntries","fieldType","getContainerTreeViewDUClass","ContainerTreeViewDU","nodesChanged","viewsChanged","caches","nodesPopulated","nodesChangedSorted","entry","clear","CustomContainerTreeViewDU","has","viewChanged","renderContainerTypeName","precomputeJsonKey","ContainerType","case_1","casingMap","jsonCase","fieldsGindex","jsonKeyToFieldName","minLen","maxLen","precomputeSizes","isFixedLen","fieldRangesFixedLen","variableOffsetsPosition","fixedEnd","pointerFixed","precomputeSerdesData","container_1","container_2","totalSize","fixedIndex","variableIndex","fieldRanges","getFieldRanges","fieldRange","struct","roots","fieldGindex","fieldGindexFromRoot","compositeType","readVariableOffsets","variableIdx","fixedIdx","keyFromCaseMap","BranchNodeStruct","valueToNode","newNodeValue","branchNodeStruct_1","valueChanged","ContainerNodeStructType","containerNodeStruct_1","containerNodeStruct_2","valueToTree","ArrayBasicTreeView","tree_getLength","chunkIndex","getAll","tree_getChunksNode","lenFullNodes","ListBasicTreeView","tree_setLength","ArrayBasicTreeViewDU","dirtyLength","_length","nodesPrev","newChunksNode","tree_setChunksNode","ListBasicTreeViewDU","ArrayType","defaultLen","chunkIdx","endGindex","extendedStartIndex","extendedGindex","ListBasicType","array_1","listBasic_1","listBasic_2","readOffsetsArrayComposite","elementFixedSize","firstOffset","offsetDataLength","offsetCount","offsetIdx","readVariableOffsetsArrayComposite","value_getRootsArrayComposite","tree_deserializeFromBytesArrayComposite","tree_serializeToBytesArrayComposite","tree_serializedSizeArrayComposite","value_deserializeFromBytesArrayComposite","value_serializeToBytesArrayComposite","maxSizeArrayComposite","minSizeArrayComposite","minCount","maxCount","value_serializedSizeArrayComposite","ArrayCompositeTreeView","subtree","getReadonly","getAllReadonly","views","getAllReadonlyValues","ListCompositeTreeView","arrayComposite_1","ArrayCompositeTreeViewDU","populateAllNodes","ListCompositeTreeViewDU","sliceTo","ListCompositeType","listComposite_1","listComposite_2","NoneType","UintBigintType","UintNumberType","uintBigintByteLens","uintNumberByteLens","MAX_SAFE_INTEGER_BN","BIGINT_2_POW_64","BIGINT_2_POW_128","BIGINT_2_POW_192","NUMBER_2_POW_32","NUMBER_32_MAX","setBitwiseOR","maxDecimalStr","setInt8","UnionType","VALUE_GINDEX","SELECTOR_GINDEX","none_1","minLens","maxLens","_type","maxSelector","selector","valueNode","extendedFieldGindex","union","VectorBasicType","arrayBasic_2","arrayBasic_3","VectorCompositeType","arrayComposite_2","arrayComposite_3","bitList_1","bitVector_1","boolean_1","byteList_1","byteVector_1","uint_1","union_1","vectorBasic_1","vectorComposite_1","abstract_2","abstract_3","byteArray_2","Withdrawals","Bytes20","UintBigInt64","UintNum64","ssz_1","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","events","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","existing","newListener","emit","warned","emitter","warn","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","eventTargetAgnosticAddListener","flags","on","once","addEventListener","wrapListener","removeEventListener","setMaxListeners","getMaxListeners","doError","context","listeners","addListener","prependListener","prependOnceListener","position","originalListener","spliceOne","off","removeAllListeners","rawListeners","eventNames","Promise","resolve","reject","errorListener","resolver","addErrorHandlerIfEventEmitter","ChainRole","ChainId","AsyncEventEmitter","events_1","event","callback","tasks","task","runInSeries","then","catch","beforeOrAfter","splice","maxListeners","Lock","permits","promiseResolverQueue","release","nextResolver","desc","getOwnPropertyDescriptor","ssz","require$$8","require$$9","require$$10","lib","padWithZeroes","hexString","targetLength","numberToBuffer","concatSig","legacyToBuffer","isNullish","ethjs_util_1","rSig","sSig","vSig","rStr","sStr","vStr","messageHash","sigParams","hexVal","getPublicKeyFor","extractPublicKey","recoverPersonalSignature","personalSign","sender","inherits","ctor","superCtor","super_","TempCtor","BN","endian","isBN","negative","red","_init","wordSize","parseHex4Bits","lowerBound","parseBase","cmp","_initNumber","_initArray","_parseHex","_parseBase","strip","limbLen","limbPow","total","imuln","_iaddn","dest","_expand","_normSign","groupSizes","groupBases","smallMulTo","ncarry","rword","maxJ","groupSize","groupBase","modn","idivn","toArrayLike","reqLength","andln","iushrn","_countBits","clz32","_zeroBits","zeroBits","toTwos","width","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","setn","wbit","iadd","isub","comb10MulTo","a0","a3","a4","a5","a6","a7","a8","al8","ah8","a9","al9","ah9","bl0","bh0","bl3","bh3","bl8","bh8","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","jumboMulTo","FFTM","mulp","mulTo","hncarry","bigMulTo","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","rtwdf","cos","itwdf","sin","rtwdf_","itwdf_","ie","ro","io","guessLen13b","odd","conjugate","normalize13b","ws","convert13b","stub","ph","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","muln","sqr","isqr","toBitArray","iushln","carryMask","newCarry","ishln","hint","extended","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","qj","div","divmod","positive","divn","umod","divRound","dm","half","egcd","isEven","yp","xp","im","isOdd","jm","_invmp","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","minv","ireduce","rlen","imulK","_strip","mod3","one","nOne","lpow","inv","wnd","current","currentLen","mont","rawEncode","parseNumber","solidityPack","bn_js_1","parseTypeArray","parseTypeN","solidityHexValue","bitsize","subType","arraySize","arrayValues","bytesize","elementaryName","encodeSingle","parseTypeNxM","isDynamic","headLength","cur","SignTypedDataVersion","validateVersion","allowedVersions","encodeField","V3","V4","encodeData","parsedType","typeValuePairs","ethereumjs_abi_utils_1","primaryType","encodedTypes","encodedValues","hashType","encodeType","unsortedDeps","findTypeDependencies","deps","results","hashStruct","encodedHashType","sanitizeData","sanitizedData","TYPED_MESSAGE_SCHEMA","properties","EIP712Domain","_typedSignatureHash","typedData","recoverTypedSignature","typedSignatureHash","TypedDataUtils","additionalProperties","items","required","domain","eip712Hash","hashBuffer","signTypedData","V1","util","validateBase64","decodeUTF8","unescape","encodeUTF8","decodeURIComponent","escape","atob","encodeBase64","decodeBase64","btoa","__setModuleDefault","__importStar","getEncryptionPublicKey","decrypt","encryptSafely","encrypt","naclUtil","ephemeralKeyPair","pubKeyUInt8Array","msgParamsUInt8Array","encryptedMessage","ephemPublicKey","ciphertext","encryptedData","recieverPrivateKeyUint8Array","nacl_decodeHex","recieverEncryptionPrivateKey","decryptedMessage","msgHex","msgBase64","dataWithPadding","modVal","padLength","decryptSafely","privateKeyUint8Array","encryptionPublicKey","MetamaskWallet","response","ethereum","request","generateAddr","getEvmAddress","Message","action","msgParams","hashedmsg","rid","signatureBuffer","BroadcastMeta","DatabaseAction","PayloadType","CollectionMutation","DocumentMutation","DocumentMask","WriteRequest","RpcError","meta","serviceName","into","getTime","DeferredState","GrpcStatusCode","GrpcWebFrame","Deferred","preventUnhandledRejectionWarning","_state","PENDING","_promise","_resolve","_reject","promise","RESOLVED","reason","REJECTED","resolvePending","rejectPending","RpcOutputStreamController","_lis","nxt","_closed","onNext","addLis","onMessage","onError","onComplete","clearLis","closed","notifyNext","complete","notifyMessage","notifyError","notifyComplete","pushIt","asyncIterator","_itState","UnaryCall","requestHeaders","headers","status","trailers","onfulfilled","onrejected","promiseFinished","thisArg","generator","fulfilled","step","rejected","ServerStreamingCall","responses","stackIntercept","transport","tail","mtd","unary","curr","interceptors","interceptUnary","serverStreaming","interceptServerStreaming","clientStreaming","interceptClientStreaming","duplex","interceptDuplex","assertNever","createGrpcWebRequestHeader","format","timeout","userAgent","append","DEADLINE_EXCEEDED","deadline","createGrpcWebRequestBody","DATA","msgLen","readGrpcWebResponseHeader","headersOrFetchResponse","httpStatus","httpStatusText","responseType","fetchResponse","UNKNOWN","fetchHeadersToHttp","statusText","httpOk","responseMeta","parseMetadata","statusCode","statusDetail","parseStatus","OK","httpStatusToGrpc","readGrpcWebResponseTrailer","trailerData","parseTrailer","detail","readGrpcWebResponseBody","contentType","onFrame","streamReader","base64queue","byteQueue","INTERNAL","parseFormat","isReadableStream","whatWgReadableStream","getReader","safeLen","TRAILER","DATA_LOSS","fetchHeaders","INVALID_ARGUMENT","UNAUTHENTICATED","PERMISSION_DENIED","NOT_FOUND","ABORTED","FAILED_PRECONDITION","RESOURCE_EXHAUSTED","CANCELLED","UNIMPLEMENTED","UNAVAILABLE","GrpcWebFetchTransport","defaultOptions","mergeOptions","jsonOptions","binaryOptions","mergeRpcOptions","makeUrl","baseUrl","service","maybeStatus","maybeTrailer","fetchInit","url","inputBytes","defHeader","responseStream","responseEmptyBody","defStatus","defTrailer","fetch","Headers","signal","O","maybeMessage","defMessage","MutationEvent_MutationEventStatus","MutationEvent_ToAddressType","EventType","BlockEvent","EventMessage","MutationEvent","MutationEventFilter","BlockEventFilter","EventFilter","Subscribution","QuerySessionInfo","OpenSessionPayload","BillType","Bill","NetworkStatus","QueryBillKey","QueryBillRequest","GetAccountRequest","SessionIdentifier","OpenSessionRequest","CloseSessionRequest","CloseSessionResponse","BroadcastRequest","BroadcastResponse","ShowDatabaseRequest","ShowDatabaseResponse","RunQueryRequest","GetDocumentRequest","GetDocumentResponse","ShowNetworkStatusRequest","StorageNode","idempotency","normalizeMethodInfo","QueryBillResponse","OpenSessionResponse","GetAccountResponse","GetSessionInfoRequest","GetSessionInfoResponse","RunQueryResponse","SubscribeRequest","StorageNodeClient","_transport","queryBill","openQuerySession","closeQuerySession","getAccount","getSessionInfo","broadcast","showDatabase","runQuery","getDocument","showNetworkStatus","subscribe","storage","UNDEFINED","BUFFER","UINT8ARRAY","ARRAYBUFFER","BIT32","factory","bigendian","unsigned","posH","posL","pos0","pos1","pos2","pos3","fromPositive","fromPositiveBE","fromPositiveLE","fromNegative","fromNegativeBE","fromNegativeLE","Int64","isName","_isInt64","readInt32","toArrayBuffer","raddix","isValidBuffer","_storage","writeInt32","fromArray","newArray","arrbuf","destbuf","destoff","srcbuf","srcoff","nodeName","inputDataLength","TxId","getB64","DbId","binary_addr","nonceBuf","Uint64BE","DB_ID_LENGTH","getHexAddr","StorageProvider","client","useTypedFormat","mutation","payloadType","writeRequest","wrapTypedWriteRequest","broadcastRequest","wrapProtoWriteRequest","TypedDataPayload","startTime","wrapTypedSession","wrapProtoSession","payloadBinary","QuerySessionPayload","token","sessionInfo","sessionToke","closeRequest","wrapTypedCloseSession","getAccountRequest","sessionToken","getNonce","query","id","getDoument","definition","noop","undefinedType","isIE","navigator","logMethods","bindMethod","traceForIE","trace","realMethod","replaceLoggingMethods","loggerName","methodFactory","debug","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","defaultLevel","currentLevel","storageKey","getPersistedLevel","storedLevel","ignore","cookie","document","location","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","getLevel","setLevel","persist","levelNum","levelName","persistLevelIfPossible","setDefaultLevel","resetLevel","removeItem","clearPersistedLevel","enableAll","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","logger","_log","noConflict","getLoggers","BSON_INT32_MAX","BSON_INT32_MIN","BSON_INT64_MAX","BSON_INT64_MIN","JS_INT_MAX","JS_INT_MIN","BSON_DATA_INT","BSONType","object","binData","objectId","date","null","regex","dbPointer","javascript","javascriptWithScope","int","timestamp","decimal","minKey","maxKey","BSONError","bsonError","BSONVersionError","BSONRuntimeError","nodeJsByteUtils","toLocalBufferType","potentialBuffer","stringTag","toStringTag","allocate","fromNumberArray","fromBase64","fromISO88591","toISO88591","fromUTF8","text","toUTF8","utf8ByteLength","encodeUTF8Into","webMathRandomBytes","webByteUtils","webRandomBytes","product","isReactNative","HEX_DIGIT","potentialUint8array","uint8array","evenLengthHex","firstDigit","secondDigit","hexDigit","ByteUtils","BSONDataView","VALIDATION_REGEX","uuidValidateString","uuidHexStringToBuffer","sanitizedHexString","bufferToUuidHexString","includeDashes","isAnyArrayBuffer","isUint8Array","isRegExp","isDate","BSONValue","Binary","_bsontype","sub_type","BSON_BINARY_SUBTYPE_DEFAULT","BUFFER_SIZE","put","byteValue","decodedByte","newSpace","sequence","asRaw","toExtendedJSON","base64String","legacy","$binary","$type","toUUID","SUBTYPE_UUID","UUID","doc","$uuid","SUBTYPE_DEFAULT","SUBTYPE_FUNCTION","SUBTYPE_BYTE_ARRAY","SUBTYPE_UUID_OLD","SUBTYPE_MD5","SUBTYPE_ENCRYPTED","SUBTYPE_COLUMN","SUBTYPE_USER_DEFINED","__id","cacheHexString","uuidHexString","otherId","Code","scope","$code","$scope","codeJson","isDBRefLike","$id","$ref","$db","DBRef","collection","oid","db","namespace","wasm","TWO_PWR_16_DBL","TWO_PWR_64_DBL","TWO_PWR_63_DBL","INT_CACHE","UINT_CACHE","DECIMAL_REG_EX","Long","__isLong__","fromBigInt","cachedObj","fromBits","UZERO","MAX_UNSIGNED_VALUE","MIN_VALUE","MAX_VALUE","fromNumber","radixToPower","fromBytesLE","fromBytesBE","addend","isLong","fromValue","c48","c32","c16","c00","thisNeg","otherNeg","comp","divide","divisor","div_u","div_s","get_high","approx","rem","shru","UONE","ONE","NEG_ONE","shr","approxRes","approxRem","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","greaterThan","greaterThanOrEqual","ge","isPositive","lessThan","lessThanOrEqual","rem_u","rem_s","multiplier","TWO_PWR_24","a32","a16","a00","b00","not","notEquals","neq","ne","shiftLeft","numBits","toInt","shiftRight","shiftRightUnsigned","shr_u","subtrahend","toBytesLE","toBytesBE","toSigned","radixLong","rem1","remDiv","eqz","relaxed","$numberLong","useBigInt64","bigIntResult","longResult","fromInt","PARSE_STRING_REGEXP","PARSE_INF_REGEXP","PARSE_NAN_REGEXP","EXPONENT_MAX","EXPONENT_MIN","NAN_BUFFER","INF_NEGATIVE_BUFFER","INF_POSITIVE_BUFFER","EXPONENT_REGEX","isDigit","divideu128","DIVISOR","_rem","quotient","invalidErr","Decimal128","representation","sawRadix","foundNonZero","significantDigits","nDigitsRead","nDigits","radixPosition","firstNonZero","nDigitsStored","digitsInsert","lastDigit","exponent","significandHigh","significandLow","biasedExponent","stringMatch","infMatch","nanMatch","unsignedNumber","expSign","expNumber","endOfString","roundDigit","roundBit","dIdx","significand","leftHigh","leftLow","rightHigh","rightLow","productHigh","productMid","productMid2","productLow","multiply64x2","uhleft","uhright","biased_exponent","significand_digits","significand_msb","is_zero","significand128","midl","midh","combination","least_digits","scientific_exponent","radix_position","$numberDecimal","Double","$numberDouble","toFixed","doubleValue","parseFloat","Int32","$numberInt","MaxKey","$maxKey","MinKey","$minKey","checkForHexRegExp","PROCESS_UNIQUE","kId","ObjectId","inputId","workingId","time","inc","getInc","fromUint8Array","isValid","otherIdString","thisIdString","getTimestamp","setTime","$oid","internalCalculateObjectSize","serializeFunctions","ignoreUndefined","calculateElement","toBSON","binary","ordered_values","ignoreCase","multiline","pattern","BSONRegExp","$regex","$options","$regularExpression","parseOptions","BSONSymbol","$symbol","LongWithoutOverridesClass","Timestamp","$timestamp","optRadix","validateUtf8","continuation","JS_INT_MAX_LONG","JS_INT_MIN_LONG","internalDeserialize","allowObjectSmallerThanBufferSize","deserializeObject","allowedDBRefKeys","fieldsAsRaw","bsonRegExp","promoteBuffers","promoteLongs","promoteValues","validation","validationSetting","globalUTFValidation","utf8KeysSet","utf8ValidatedKeys","utf8ValidationValues","arrayIndex","isPossibleDBRef","dataview","shouldValidateKey","stringSize","getValidatedString","_index","objectSize","objectOptions","arrayOptions","stopIndex","binarySize","totalBinarySize","_buffer","regExpOptions","optionsArray","functionString","scopeObject","oidBuffer","shouldValidateUtf8","regexp","ignoreKeys","serializeString","NUMBER_SPACE","FOUR_BYTE_VIEW_ON_NUMBER","EIGHT_BYTE_VIEW_ON_NUMBER","serializeNumber","serializeBigInt","serializeNull","serializeBoolean","serializeDate","dateInMilis","serializeRegExp","serializeBSONRegExp","sortedOptions","serializeMinMax","serializeObjectId","serializeBuffer","serializeObject","checkKeys","serializeInto","serializeDecimal128","serializeLong","serializeInt32","serializeDouble","serializeFunction","serializeCode","codeSize","serializeBinary","serializeSymbol","serializeDBRef","startingIndex","keysToCodecs","deserializeValue","in32BitRange","in64BitRange","$undefined","fromExtendedJSON","$date","$dbPointer","dollarKeys","valid","getISOString","isoStr","toISOString","getUTCMilliseconds","serializeValue","seenObjects","findIndex","props","propertyName","leadingPart","alreadySeen","circularPart","leadingSpace","dashes","serializeArray","dateNum","inRange","bsontype","_doc","isBSONType","outDoc","mapper","BSON_TYPE_MAPPINGS","serializeDocument","low_","high_","unsigned_","ejsonOptions","replacer","space","EJSON","ejson","MAXSIZE","Operator","bson","__proto__","setInternalBufferSize","minInternalBufferSize","serializationIndex","finishedBuffer","serializeWithBufferAndIndex","finalBuffer","calculateObjectSize","deserializeStream","numberOfDocuments","documents","docStartIndex","internalOptions","bufferData","provider","querySessionInfo","MainNet","chainRole","StorageShardChain","collectionMutations","documentMutations","dbAddress","CreateDB","DatabaseMutation","txId","sendMutation","DatabasePayload","keepSessionAlive","getDatabase","queryCount","databaseAddress","collections","collectionName","AddCollection","getState","binaryAddr","documentMutation","BSON","ids","masks","AddDocument","owner","DeleteDocument","documentMask","UpdateDocument","openSession","closeSession","DB3Store","_database","_collections","database","DB3Account","bytesToReadableNum","bytes_size","local_bytes_size","unitsToReadableNum","DB3Network","initializeDB3","dbClient","db3Account","db3Network","Query","db3store","_query","AppliableConstraint","QueryConstraint","QueryFieldFilterConstraint","_field","_op","_value","_apply","_parse","filters","queryWithAddedFilter","newFilters","op","queryOp","EQUAL","parseOperator","queryValue","valueType","booleanValue","parseQueryValue","filterType","fieldFilter","newQueryFilter","where","opStr","_create","queryConstraints","constraint","QueryResult","docs","empty","QueryLimitConstraint","_limit","queryWithLimit","CollectionReference","getCollections","createCollection","txid","DocumentReference","addDoc","reference","createDocument","getDocs","colref","new_docs","internalQuery","squery","deleteDoc","deleteDocument","updateDoc","updateDocument"],"mappings":"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EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,EAAG,EAAG,EAAG,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,EAAG,EAAG,EAAG,IAAK,IAAK,IAAK,GAAI,IAAK,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,IAAK,IAAK,EAAG,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,IAAK,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,GAAI,IAAK,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,IAAK,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,GAAI,EAAG,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,EAAG,IAAK,EAAG,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,EAAG,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,EAAG,IAAK,EAAG,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,EAAG,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,EAAG,IAAK,IAAK,EAAG,GAAI,GAAI,IAAK,EAAG,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,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"}